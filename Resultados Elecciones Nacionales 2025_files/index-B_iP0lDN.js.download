var Px=i=>{throw TypeError(i)};var Wp=(i,t,e)=>t.has(i)||Px("Cannot "+e);var oe=(i,t,e)=>(Wp(i,t,"read from private field"),e?e.call(i):t.get(i)),yi=(i,t,e)=>t.has(i)?Px("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),bn=(i,t,e,n)=>(Wp(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),vi=(i,t,e)=>(Wp(i,t,"access private method"),e);var Ix=(i,t,e,n)=>({set _(s){bn(i,t,s,e)},get _(){return oe(i,t,n)}});function WM(i,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in i)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function Cm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Yp={exports:{}},vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx;function YM(){if(jx)return vl;jx=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:i,type:n,key:o,ref:s!==void 0?s:null,props:a}}return vl.Fragment=t,vl.jsx=e,vl.jsxs=e,vl}var Fx;function XM(){return Fx||(Fx=1,Yp.exports=YM()),Yp.exports}var A=XM(),Xp={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx;function KM(){if(zx)return Tt;zx=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function m(I){return I===null||typeof I!="object"?null:(I=g&&I[g]||I["@@iterator"],typeof I=="function"?I:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function S(I,Z,B){this.props=I,this.context=Z,this.refs=x,this.updater=B||y}S.prototype.isReactComponent={},S.prototype.setState=function(I,Z){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Z,"setState")},S.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function _(){}_.prototype=S.prototype;function T(I,Z,B){this.props=I,this.context=Z,this.refs=x,this.updater=B||y}var C=T.prototype=new _;C.constructor=T,w(C,S.prototype),C.isPureReactComponent=!0;var k=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function N(I,Z,B,G,J,st){return B=st.ref,{$$typeof:i,type:I,key:Z,ref:B!==void 0?B:null,props:st}}function P(I,Z){return N(I.type,Z,void 0,void 0,void 0,I.props)}function H(I){return typeof I=="object"&&I!==null&&I.$$typeof===i}function W(I){var Z={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(B){return Z[B]})}var K=/\/+/g;function et(I,Z){return typeof I=="object"&&I!==null&&I.key!=null?W(""+I.key):Z.toString(36)}function lt(){}function at(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(lt,lt):(I.status="pending",I.then(function(Z){I.status==="pending"&&(I.status="fulfilled",I.value=Z)},function(Z){I.status==="pending"&&(I.status="rejected",I.reason=Z)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function rt(I,Z,B,G,J){var st=typeof I;(st==="undefined"||st==="boolean")&&(I=null);var ot=!1;if(I===null)ot=!0;else switch(st){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(I.$$typeof){case i:case t:ot=!0;break;case f:return ot=I._init,rt(ot(I._payload),Z,B,G,J)}}if(ot)return J=J(I),ot=G===""?"."+et(I,0):G,k(J)?(B="",ot!=null&&(B=ot.replace(K,"$&/")+"/"),rt(J,Z,B,"",function(Et){return Et})):J!=null&&(H(J)&&(J=P(J,B+(J.key==null||I&&I.key===J.key?"":(""+J.key).replace(K,"$&/")+"/")+ot)),Z.push(J)),1;ot=0;var ct=G===""?".":G+":";if(k(I))for(var bt=0;bt<I.length;bt++)G=I[bt],st=ct+et(G,bt),ot+=rt(G,Z,B,st,J);else if(bt=m(I),typeof bt=="function")for(I=bt.call(I),bt=0;!(G=I.next()).done;)G=G.value,st=ct+et(G,bt++),ot+=rt(G,Z,B,st,J);else if(st==="object"){if(typeof I.then=="function")return rt(at(I),Z,B,G,J);throw Z=String(I),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ot}function L(I,Z,B){if(I==null)return I;var G=[],J=0;return rt(I,G,"","",function(st){return Z.call(B,st,J++)}),G}function F(I){if(I._status===-1){var Z=I._result;Z=Z(),Z.then(function(B){(I._status===0||I._status===-1)&&(I._status=1,I._result=B)},function(B){(I._status===0||I._status===-1)&&(I._status=2,I._result=B)}),I._status===-1&&(I._status=0,I._result=Z)}if(I._status===1)return I._result.default;throw I._result}var V=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function ut(){}return Tt.Children={map:L,forEach:function(I,Z,B){L(I,function(){Z.apply(this,arguments)},B)},count:function(I){var Z=0;return L(I,function(){Z++}),Z},toArray:function(I){return L(I,function(Z){return Z})||[]},only:function(I){if(!H(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Tt.Component=S,Tt.Fragment=e,Tt.Profiler=s,Tt.PureComponent=T,Tt.StrictMode=n,Tt.Suspense=u,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return R.H.useMemoCache(I)}},Tt.cache=function(I){return function(){return I.apply(null,arguments)}},Tt.cloneElement=function(I,Z,B){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var G=w({},I.props),J=I.key,st=void 0;if(Z!=null)for(ot in Z.ref!==void 0&&(st=void 0),Z.key!==void 0&&(J=""+Z.key),Z)!O.call(Z,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&Z.ref===void 0||(G[ot]=Z[ot]);var ot=arguments.length-2;if(ot===1)G.children=B;else if(1<ot){for(var ct=Array(ot),bt=0;bt<ot;bt++)ct[bt]=arguments[bt+2];G.children=ct}return N(I.type,J,void 0,void 0,st,G)},Tt.createContext=function(I){return I={$$typeof:o,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:a,_context:I},I},Tt.createElement=function(I,Z,B){var G,J={},st=null;if(Z!=null)for(G in Z.key!==void 0&&(st=""+Z.key),Z)O.call(Z,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(J[G]=Z[G]);var ot=arguments.length-2;if(ot===1)J.children=B;else if(1<ot){for(var ct=Array(ot),bt=0;bt<ot;bt++)ct[bt]=arguments[bt+2];J.children=ct}if(I&&I.defaultProps)for(G in ot=I.defaultProps,ot)J[G]===void 0&&(J[G]=ot[G]);return N(I,st,void 0,void 0,null,J)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(I){return{$$typeof:c,render:I}},Tt.isValidElement=H,Tt.lazy=function(I){return{$$typeof:f,_payload:{_status:-1,_result:I},_init:F}},Tt.memo=function(I,Z){return{$$typeof:h,type:I,compare:Z===void 0?null:Z}},Tt.startTransition=function(I){var Z=R.T,B={};R.T=B;try{var G=I(),J=R.S;J!==null&&J(B,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(ut,V)}catch(st){V(st)}finally{R.T=Z}},Tt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Tt.use=function(I){return R.H.use(I)},Tt.useActionState=function(I,Z,B){return R.H.useActionState(I,Z,B)},Tt.useCallback=function(I,Z){return R.H.useCallback(I,Z)},Tt.useContext=function(I){return R.H.useContext(I)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(I,Z){return R.H.useDeferredValue(I,Z)},Tt.useEffect=function(I,Z,B){var G=R.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(I,Z)},Tt.useId=function(){return R.H.useId()},Tt.useImperativeHandle=function(I,Z,B){return R.H.useImperativeHandle(I,Z,B)},Tt.useInsertionEffect=function(I,Z){return R.H.useInsertionEffect(I,Z)},Tt.useLayoutEffect=function(I,Z){return R.H.useLayoutEffect(I,Z)},Tt.useMemo=function(I,Z){return R.H.useMemo(I,Z)},Tt.useOptimistic=function(I,Z){return R.H.useOptimistic(I,Z)},Tt.useReducer=function(I,Z,B){return R.H.useReducer(I,Z,B)},Tt.useRef=function(I){return R.H.useRef(I)},Tt.useState=function(I){return R.H.useState(I)},Tt.useSyncExternalStore=function(I,Z,B){return R.H.useSyncExternalStore(I,Z,B)},Tt.useTransition=function(){return R.H.useTransition()},Tt.version="19.1.1",Tt}var Bx;function Tm(){return Bx||(Bx=1,Xp.exports=KM()),Xp.exports}var M=Tm();const Jn=Cm(M),U_=WM({__proto__:null,default:Jn},[M]);var Kp={exports:{}},xl={},Qp={exports:{}},Zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function QM(){return Hx||(Hx=1,function(i){function t(L,F){var V=L.length;L.push(F);t:for(;0<V;){var ut=V-1>>>1,I=L[ut];if(0<s(I,F))L[ut]=F,L[V]=I,V=ut;else break t}}function e(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var F=L[0],V=L.pop();if(V!==F){L[0]=V;t:for(var ut=0,I=L.length,Z=I>>>1;ut<Z;){var B=2*(ut+1)-1,G=L[B],J=B+1,st=L[J];if(0>s(G,V))J<I&&0>s(st,G)?(L[ut]=st,L[J]=V,ut=J):(L[ut]=G,L[B]=V,ut=B);else if(J<I&&0>s(st,V))L[ut]=st,L[J]=V,ut=J;else break t}}return F}function s(L,F){var V=L.sortIndex-F.sortIndex;return V!==0?V:L.id-F.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var u=[],h=[],f=1,g=null,m=3,y=!1,w=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function k(L){for(var F=e(h);F!==null;){if(F.callback===null)n(h);else if(F.startTime<=L)n(h),F.sortIndex=F.expirationTime,t(u,F);else break;F=e(h)}}function R(L){if(x=!1,k(L),!w)if(e(u)!==null)w=!0,O||(O=!0,et());else{var F=e(h);F!==null&&rt(R,F.startTime-L)}}var O=!1,N=-1,P=5,H=-1;function W(){return S?!0:!(i.unstable_now()-H<P)}function K(){if(S=!1,O){var L=i.unstable_now();H=L;var F=!0;try{t:{w=!1,x&&(x=!1,T(N),N=-1),y=!0;var V=m;try{e:{for(k(L),g=e(u);g!==null&&!(g.expirationTime>L&&W());){var ut=g.callback;if(typeof ut=="function"){g.callback=null,m=g.priorityLevel;var I=ut(g.expirationTime<=L);if(L=i.unstable_now(),typeof I=="function"){g.callback=I,k(L),F=!0;break e}g===e(u)&&n(u),k(L)}else n(u);g=e(u)}if(g!==null)F=!0;else{var Z=e(h);Z!==null&&rt(R,Z.startTime-L),F=!1}}break t}finally{g=null,m=V,y=!1}F=void 0}}finally{F?et():O=!1}}}var et;if(typeof C=="function")et=function(){C(K)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,at=lt.port2;lt.port1.onmessage=K,et=function(){at.postMessage(null)}}else et=function(){_(K,0)};function rt(L,F){N=_(function(){L(i.unstable_now())},F)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return m},i.unstable_next=function(L){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var V=m;m=F;try{return L()}finally{m=V}},i.unstable_requestPaint=function(){S=!0},i.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=m;m=L;try{return F()}finally{m=V}},i.unstable_scheduleCallback=function(L,F,V){var ut=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ut+V:ut):V=ut,L){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=V+I,L={id:f++,callback:F,priorityLevel:L,startTime:V,expirationTime:I,sortIndex:-1},V>ut?(L.sortIndex=V,t(h,L),e(u)===null&&L===e(h)&&(x?(T(N),N=-1):x=!0,rt(R,V-ut))):(L.sortIndex=I,t(u,L),w||y||(w=!0,O||(O=!0,et()))),L},i.unstable_shouldYield=W,i.unstable_wrapCallback=function(L){var F=m;return function(){var V=m;m=F;try{return L.apply(this,arguments)}finally{m=V}}}}(Zp)),Zp}var Ux;function ZM(){return Ux||(Ux=1,Qp.exports=QM()),Qp.exports}var Jp={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function JM(){if(Vx)return en;Vx=1;var i=Tm();function t(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(u,h,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:u,containerInfo:h,implementation:f}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,en.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return a(u,h,null,f)},en.flushSync=function(u){var h=o.T,f=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=h,n.p=f,n.d.f()}},en.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(u,h))},en.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},en.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,g=c(f,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:y}):f==="script"&&n.d.X(u,{crossOrigin:g,integrity:m,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},en.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);n.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(u)},en.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,g=c(f,h.crossOrigin);n.d.L(u,f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},en.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=c(h.as,h.crossOrigin);n.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(u)},en.requestFormReset=function(u){n.d.r(u)},en.unstable_batchedUpdates=function(u,h){return u(h)},en.useFormState=function(u,h,f){return o.H.useFormState(u,h,f)},en.useFormStatus=function(){return o.H.useHostTransitionStatus()},en.version="19.1.1",en}var Gx;function V_(){if(Gx)return Jp.exports;Gx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Jp.exports=JM(),Jp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function tk(){if($x)return xl;$x=1;var i=ZM(),t=Tm(),e=V_();function n(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var l=r,d=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(d=l.return),r=l.return;while(r)}return l.tag===3?d:null}function o(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(n(188))}function u(r){var l=r.alternate;if(!l){if(l=a(r),l===null)throw Error(n(188));return l!==r?null:r}for(var d=r,p=l;;){var b=d.return;if(b===null)break;var v=b.alternate;if(v===null){if(p=b.return,p!==null){d=p;continue}break}if(b.child===v.child){for(v=b.child;v;){if(v===d)return c(b),r;if(v===p)return c(b),l;v=v.sibling}throw Error(n(188))}if(d.return!==p.return)d=b,p=v;else{for(var E=!1,D=b.child;D;){if(D===d){E=!0,d=b,p=v;break}if(D===p){E=!0,p=b,d=v;break}D=D.sibling}if(!E){for(D=v.child;D;){if(D===d){E=!0,d=v,p=b;break}if(D===p){E=!0,p=v,d=b;break}D=D.sibling}if(!E)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?r:l}function h(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=h(r),l!==null)return l;r=r.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function et(r){return r===null||typeof r!="object"?null:(r=K&&r[K]||r["@@iterator"],typeof r=="function"?r:null)}var lt=Symbol.for("react.client.reference");function at(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===lt?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case S:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList";case H:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case C:return(r.displayName||"Context")+".Provider";case T:return(r._context.displayName||"Context")+".Consumer";case k:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return l=r.displayName||null,l!==null?l:at(r.type)||"Memo";case P:l=r._payload,r=r._init;try{return at(r(l))}catch{}}return null}var rt=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ut=[],I=-1;function Z(r){return{current:r}}function B(r){0>I||(r.current=ut[I],ut[I]=null,I--)}function G(r,l){I++,ut[I]=r.current,r.current=l}var J=Z(null),st=Z(null),ot=Z(null),ct=Z(null);function bt(r,l){switch(G(ot,l),G(st,r),G(J,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?cx(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=cx(l),r=ux(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}B(J),G(J,r)}function Et(){B(J),B(st),B(ot)}function Mt(r){r.memoizedState!==null&&G(ct,r);var l=J.current,d=ux(l,r.type);l!==d&&(G(st,r),G(J,d))}function Ee(r){st.current===r&&(B(J),B(st)),ct.current===r&&(B(ct),pl._currentValue=V)}var Ce=Object.prototype.hasOwnProperty,Rt=i.unstable_scheduleCallback,Yt=i.unstable_cancelCallback,be=i.unstable_shouldYield,Te=i.unstable_requestPaint,qe=i.unstable_now,na=i.unstable_getCurrentPriorityLevel,Ka=i.unstable_ImmediatePriority,Rc=i.unstable_UserBlockingPriority,ji=i.unstable_NormalPriority,Oh=i.unstable_LowPriority,Mc=i.unstable_IdlePriority,Nh=i.log,Lh=i.unstable_setDisableYieldValue,ia=null,he=null;function ln(r){if(typeof Nh=="function"&&Lh(r),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(ia,r)}catch{}}var fe=Math.clz32?Math.clz32:NT,So=Math.log,OT=Math.LN2;function NT(r){return r>>>=0,r===0?32:31-(So(r)/OT|0)|0}var kc=256,Dc=4194304;function sa(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Oc(r,l,d){var p=r.pendingLanes;if(p===0)return 0;var b=0,v=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var D=p&134217727;return D!==0?(p=D&~v,p!==0?b=sa(p):(E&=D,E!==0?b=sa(E):d||(d=D&~r,d!==0&&(b=sa(d))))):(D=p&~v,D!==0?b=sa(D):E!==0?b=sa(E):d||(d=p&~r,d!==0&&(b=sa(d)))),b===0?0:l!==0&&l!==b&&(l&v)===0&&(v=b&-b,d=l&-l,v>=d||v===32&&(d&4194048)!==0)?l:b}function _o(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function LT(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qb(){var r=kc;return kc<<=1,(kc&4194048)===0&&(kc=256),r}function Wb(){var r=Dc;return Dc<<=1,(Dc&62914560)===0&&(Dc=4194304),r}function Ph(r){for(var l=[],d=0;31>d;d++)l.push(r);return l}function Ao(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function PT(r,l,d,p,b,v){var E=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var D=r.entanglements,j=r.expirationTimes,q=r.hiddenUpdates;for(d=E&~d;0<d;){var tt=31-fe(d),it=1<<tt;D[tt]=0,j[tt]=-1;var Y=q[tt];if(Y!==null)for(q[tt]=null,tt=0;tt<Y.length;tt++){var X=Y[tt];X!==null&&(X.lane&=-536870913)}d&=~it}p!==0&&Yb(r,p,0),v!==0&&b===0&&r.tag!==0&&(r.suspendedLanes|=v&~(E&~l))}function Yb(r,l,d){r.pendingLanes|=l,r.suspendedLanes&=~l;var p=31-fe(l);r.entangledLanes|=l,r.entanglements[p]=r.entanglements[p]|1073741824|d&4194090}function Xb(r,l){var d=r.entangledLanes|=l;for(r=r.entanglements;d;){var p=31-fe(d),b=1<<p;b&l|r[p]&l&&(r[p]|=l),d&=~b}}function Ih(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function jh(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Kb(){var r=F.p;return r!==0?r:(r=window.event,r===void 0?32:Mx(r.type))}function IT(r,l){var d=F.p;try{return F.p=r,l()}finally{F.p=d}}var hs=Math.random().toString(36).slice(2),Je="__reactFiber$"+hs,hn="__reactProps$"+hs,Qa="__reactContainer$"+hs,Fh="__reactEvents$"+hs,jT="__reactListeners$"+hs,FT="__reactHandles$"+hs,Qb="__reactResources$"+hs,Eo="__reactMarker$"+hs;function zh(r){delete r[Je],delete r[hn],delete r[Fh],delete r[jT],delete r[FT]}function Za(r){var l=r[Je];if(l)return l;for(var d=r.parentNode;d;){if(l=d[Qa]||d[Je]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(r=px(r);r!==null;){if(d=r[Je])return d;r=px(r)}return l}r=d,d=r.parentNode}return null}function Ja(r){if(r=r[Je]||r[Qa]){var l=r.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return r}return null}function Co(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(n(33))}function tr(r){var l=r[Qb];return l||(l=r[Qb]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ze(r){r[Eo]=!0}var Zb=new Set,Jb={};function aa(r,l){er(r,l),er(r+"Capture",l)}function er(r,l){for(Jb[r]=l,r=0;r<l.length;r++)Zb.add(l[r])}var zT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ty={},ey={};function BT(r){return Ce.call(ey,r)?!0:Ce.call(ty,r)?!1:zT.test(r)?ey[r]=!0:(ty[r]=!0,!1)}function Nc(r,l,d){if(BT(l))if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+d)}}function Lc(r,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+d)}}function Fi(r,l,d,p){if(p===null)r.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(l,d,""+p)}}var Bh,ny;function nr(r){if(Bh===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Bh=l&&l[1]||"",ny=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bh+r+ny}var Hh=!1;function Uh(r,l){if(!r||Hh)return"";Hh=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(X){var Y=X}Reflect.construct(r,[],it)}else{try{it.call()}catch(X){Y=X}r.call(it.prototype)}}else{try{throw Error()}catch(X){Y=X}(it=r())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=p.DetermineComponentFrameRoot(),E=v[0],D=v[1];if(E&&D){var j=E.split(`
`),q=D.split(`
`);for(b=p=0;p<j.length&&!j[p].includes("DetermineComponentFrameRoot");)p++;for(;b<q.length&&!q[b].includes("DetermineComponentFrameRoot");)b++;if(p===j.length||b===q.length)for(p=j.length-1,b=q.length-1;1<=p&&0<=b&&j[p]!==q[b];)b--;for(;1<=p&&0<=b;p--,b--)if(j[p]!==q[b]){if(p!==1||b!==1)do if(p--,b--,0>b||j[p]!==q[b]){var tt=`
`+j[p].replace(" at new "," at ");return r.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",r.displayName)),tt}while(1<=p&&0<=b);break}}}finally{Hh=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?nr(d):""}function HT(r){switch(r.tag){case 26:case 27:case 5:return nr(r.type);case 16:return nr("Lazy");case 13:return nr("Suspense");case 19:return nr("SuspenseList");case 0:case 15:return Uh(r.type,!1);case 11:return Uh(r.type.render,!1);case 1:return Uh(r.type,!0);case 31:return nr("Activity");default:return""}}function iy(r){try{var l="";do l+=HT(r),r=r.return;while(r);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function sy(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function UT(r){var l=sy(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,l),p=""+r[l];if(!r.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,v=d.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return b.call(this)},set:function(E){p=""+E,v.call(this,E)}}),Object.defineProperty(r,l,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(E){p=""+E},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function Pc(r){r._valueTracker||(r._valueTracker=UT(r))}function ay(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return r&&(p=sy(r)?r.checked?"true":"false":r.value),r=p,r!==d?(l.setValue(r),!0):!1}function Ic(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var VT=/[\n"\\]/g;function Un(r){return r.replace(VT,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Vh(r,l,d,p,b,v,E,D){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),l!=null?E==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Hn(l)):r.value!==""+Hn(l)&&(r.value=""+Hn(l)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),l!=null?Gh(r,E,Hn(l)):d!=null?Gh(r,E,Hn(d)):p!=null&&r.removeAttribute("value"),b==null&&v!=null&&(r.defaultChecked=!!v),b!=null&&(r.checked=b&&typeof b!="function"&&typeof b!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Hn(D):r.removeAttribute("name")}function ry(r,l,d,p,b,v,E,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),l!=null||d!=null){if(!(v!=="submit"&&v!=="reset"||l!=null))return;d=d!=null?""+Hn(d):"",l=l!=null?""+Hn(l):d,D||l===r.value||(r.value=l),r.defaultValue=l}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=D?r.checked:!!p,r.defaultChecked=!!p,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Gh(r,l,d){l==="number"&&Ic(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function ir(r,l,d,p){if(r=r.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<r.length;d++)b=l.hasOwnProperty("$"+r[d].value),r[d].selected!==b&&(r[d].selected=b),b&&p&&(r[d].defaultSelected=!0)}else{for(d=""+Hn(d),l=null,b=0;b<r.length;b++){if(r[b].value===d){r[b].selected=!0,p&&(r[b].defaultSelected=!0);return}l!==null||r[b].disabled||(l=r[b])}l!==null&&(l.selected=!0)}}function oy(r,l,d){if(l!=null&&(l=""+Hn(l),l!==r.value&&(r.value=l),d==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=d!=null?""+Hn(d):""}function ly(r,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(n(92));if(rt(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=Hn(l),r.defaultValue=d,p=r.textContent,p===d&&p!==""&&p!==null&&(r.value=p)}function sr(r,l){if(l){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=l;return}}r.textContent=l}var GT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cy(r,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":p?r.setProperty(l,d):typeof d!="number"||d===0||GT.has(l)?l==="float"?r.cssFloat=d:r[l]=(""+d).trim():r[l]=d+"px"}function uy(r,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(r=r.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var b in l)p=l[b],l.hasOwnProperty(b)&&d[b]!==p&&cy(r,b,p)}else for(var v in l)l.hasOwnProperty(v)&&cy(r,v,l[v])}function $h(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $T=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jc(r){return qT.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var qh=null;function Wh(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ar=null,rr=null;function dy(r){var l=Ja(r);if(l&&(r=l.stateNode)){var d=r[hn]||null;t:switch(r=l.stateNode,l.type){case"input":if(Vh(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Un(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==r&&p.form===r.form){var b=p[hn]||null;if(!b)throw Error(n(90));Vh(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===r.form&&ay(p)}break t;case"textarea":oy(r,d.value,d.defaultValue);break t;case"select":l=d.value,l!=null&&ir(r,!!d.multiple,l,!1)}}}var Yh=!1;function hy(r,l,d){if(Yh)return r(l,d);Yh=!0;try{var p=r(l);return p}finally{if(Yh=!1,(ar!==null||rr!==null)&&(Su(),ar&&(l=ar,r=rr,rr=ar=null,dy(l),r)))for(l=0;l<r.length;l++)dy(r[l])}}function To(r,l){var d=r.stateNode;if(d===null)return null;var p=d[hn]||null;if(p===null)return null;d=p[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break t;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xh=!1;if(zi)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Xh=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Xh=!1}var fs=null,Kh=null,Fc=null;function fy(){if(Fc)return Fc;var r,l=Kh,d=l.length,p,b="value"in fs?fs.value:fs.textContent,v=b.length;for(r=0;r<d&&l[r]===b[r];r++);var E=d-r;for(p=1;p<=E&&l[d-p]===b[v-p];p++);return Fc=b.slice(r,1<p?1-p:void 0)}function zc(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function Bc(){return!0}function py(){return!1}function fn(r){function l(d,p,b,v,E){this._reactName=d,this._targetInst=b,this.type=p,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(d=r[D],this[D]=d?d(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Bc:py,this.isPropagationStopped=py,this}return f(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Bc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Bc)},persist:function(){},isPersistent:Bc}),l}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hc=fn(ra),Mo=f({},ra,{view:0,detail:0}),WT=fn(Mo),Qh,Zh,ko,Uc=f({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tf,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ko&&(ko&&r.type==="mousemove"?(Qh=r.screenX-ko.screenX,Zh=r.screenY-ko.screenY):Zh=Qh=0,ko=r),Qh)},movementY:function(r){return"movementY"in r?r.movementY:Zh}}),gy=fn(Uc),YT=f({},Uc,{dataTransfer:0}),XT=fn(YT),KT=f({},Mo,{relatedTarget:0}),Jh=fn(KT),QT=f({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),ZT=fn(QT),JT=f({},ra,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tR=fn(JT),eR=f({},ra,{data:0}),my=fn(eR),nR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aR(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=sR[r])?!!l[r]:!1}function tf(){return aR}var rR=f({},Mo,{key:function(r){if(r.key){var l=nR[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=zc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?iR[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tf,charCode:function(r){return r.type==="keypress"?zc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?zc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),oR=fn(rR),lR=f({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),by=fn(lR),cR=f({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tf}),uR=fn(cR),dR=f({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),hR=fn(dR),fR=f({},Uc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),pR=fn(fR),gR=f({},ra,{newState:0,oldState:0}),mR=fn(gR),bR=[9,13,27,32],ef=zi&&"CompositionEvent"in window,Do=null;zi&&"documentMode"in document&&(Do=document.documentMode);var yR=zi&&"TextEvent"in window&&!Do,yy=zi&&(!ef||Do&&8<Do&&11>=Do),vy=" ",xy=!1;function wy(r,l){switch(r){case"keyup":return bR.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sy(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var or=!1;function vR(r,l){switch(r){case"compositionend":return Sy(l);case"keypress":return l.which!==32?null:(xy=!0,vy);case"textInput":return r=l.data,r===vy&&xy?null:r;default:return null}}function xR(r,l){if(or)return r==="compositionend"||!ef&&wy(r,l)?(r=fy(),Fc=Kh=fs=null,or=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return yy&&l.locale!=="ko"?null:l.data;default:return null}}var wR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!wR[r.type]:l==="textarea"}function Ay(r,l,d,p){ar?rr?rr.push(p):rr=[p]:ar=p,l=Ru(l,"onChange"),0<l.length&&(d=new Hc("onChange","change",null,d,p),r.push({event:d,listeners:l}))}var Oo=null,No=null;function SR(r){sx(r,0)}function Vc(r){var l=Co(r);if(ay(l))return r}function Ey(r,l){if(r==="change")return l}var Cy=!1;if(zi){var nf;if(zi){var sf="oninput"in document;if(!sf){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),sf=typeof Ty.oninput=="function"}nf=sf}else nf=!1;Cy=nf&&(!document.documentMode||9<document.documentMode)}function Ry(){Oo&&(Oo.detachEvent("onpropertychange",My),No=Oo=null)}function My(r){if(r.propertyName==="value"&&Vc(No)){var l=[];Ay(l,No,r,Wh(r)),hy(SR,l)}}function _R(r,l,d){r==="focusin"?(Ry(),Oo=l,No=d,Oo.attachEvent("onpropertychange",My)):r==="focusout"&&Ry()}function AR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vc(No)}function ER(r,l){if(r==="click")return Vc(l)}function CR(r,l){if(r==="input"||r==="change")return Vc(l)}function TR(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var Tn=typeof Object.is=="function"?Object.is:TR;function Lo(r,l){if(Tn(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var d=Object.keys(r),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var b=d[p];if(!Ce.call(l,b)||!Tn(r[b],l[b]))return!1}return!0}function ky(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Dy(r,l){var d=ky(r);r=0;for(var p;d;){if(d.nodeType===3){if(p=r+d.textContent.length,r<=l&&p>=l)return{node:d,offset:l-r};r=p}t:{for(;d;){if(d.nextSibling){d=d.nextSibling;break t}d=d.parentNode}d=void 0}d=ky(d)}}function Oy(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?Oy(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function Ny(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=Ic(r.document);l instanceof r.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)r=l.contentWindow;else break;l=Ic(r.document)}return l}function af(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var RR=zi&&"documentMode"in document&&11>=document.documentMode,lr=null,rf=null,Po=null,of=!1;function Ly(r,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;of||lr==null||lr!==Ic(p)||(p=lr,"selectionStart"in p&&af(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Po&&Lo(Po,p)||(Po=p,p=Ru(rf,"onSelect"),0<p.length&&(l=new Hc("onSelect","select",null,l,d),r.push({event:l,listeners:p}),l.target=lr)))}function oa(r,l){var d={};return d[r.toLowerCase()]=l.toLowerCase(),d["Webkit"+r]="webkit"+l,d["Moz"+r]="moz"+l,d}var cr={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},lf={},Py={};zi&&(Py=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function la(r){if(lf[r])return lf[r];if(!cr[r])return r;var l=cr[r],d;for(d in l)if(l.hasOwnProperty(d)&&d in Py)return lf[r]=l[d];return r}var Iy=la("animationend"),jy=la("animationiteration"),Fy=la("animationstart"),MR=la("transitionrun"),kR=la("transitionstart"),DR=la("transitioncancel"),zy=la("transitionend"),By=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function si(r,l){By.set(r,l),aa(l,[r])}var Hy=new WeakMap;function Vn(r,l){if(typeof r=="object"&&r!==null){var d=Hy.get(r);return d!==void 0?d:(l={value:r,source:l,stack:iy(l)},Hy.set(r,l),l)}return{value:r,source:l,stack:iy(l)}}var Gn=[],ur=0,uf=0;function Gc(){for(var r=ur,l=uf=ur=0;l<r;){var d=Gn[l];Gn[l++]=null;var p=Gn[l];Gn[l++]=null;var b=Gn[l];Gn[l++]=null;var v=Gn[l];if(Gn[l++]=null,p!==null&&b!==null){var E=p.pending;E===null?b.next=b:(b.next=E.next,E.next=b),p.pending=b}v!==0&&Uy(d,b,v)}}function $c(r,l,d,p){Gn[ur++]=r,Gn[ur++]=l,Gn[ur++]=d,Gn[ur++]=p,uf|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function df(r,l,d,p){return $c(r,l,d,p),qc(r)}function dr(r,l){return $c(r,null,null,l),qc(r)}function Uy(r,l,d){r.lanes|=d;var p=r.alternate;p!==null&&(p.lanes|=d);for(var b=!1,v=r.return;v!==null;)v.childLanes|=d,p=v.alternate,p!==null&&(p.childLanes|=d),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(b=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,b&&l!==null&&(b=31-fe(d),r=v.hiddenUpdates,p=r[b],p===null?r[b]=[l]:p.push(l),l.lane=d|536870912),v):null}function qc(r){if(50<rl)throw rl=0,bp=null,Error(n(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var hr={};function OR(r,l,d,p){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(r,l,d,p){return new OR(r,l,d,p)}function hf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Bi(r,l){var d=r.alternate;return d===null?(d=Rn(r.tag,l,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=l,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,l=r.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function Vy(r,l){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,l=d.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function Wc(r,l,d,p,b,v){var E=0;if(p=r,typeof r=="function")hf(r)&&(E=1);else if(typeof r=="string")E=LM(r,d,J.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case H:return r=Rn(31,d,l,b),r.elementType=H,r.lanes=v,r;case w:return ca(d.children,b,v,l);case x:E=8,b|=24;break;case S:return r=Rn(12,d,l,b|2),r.elementType=S,r.lanes=v,r;case R:return r=Rn(13,d,l,b),r.elementType=R,r.lanes=v,r;case O:return r=Rn(19,d,l,b),r.elementType=O,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case C:E=10;break t;case T:E=9;break t;case k:E=11;break t;case N:E=14;break t;case P:E=16,p=null;break t}E=29,d=Error(n(130,r===null?"null":typeof r,"")),p=null}return l=Rn(E,d,l,b),l.elementType=r,l.type=p,l.lanes=v,l}function ca(r,l,d,p){return r=Rn(7,r,p,l),r.lanes=d,r}function ff(r,l,d){return r=Rn(6,r,null,l),r.lanes=d,r}function pf(r,l,d){return l=Rn(4,r.children!==null?r.children:[],r.key,l),l.lanes=d,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var fr=[],pr=0,Yc=null,Xc=0,$n=[],qn=0,ua=null,Hi=1,Ui="";function da(r,l){fr[pr++]=Xc,fr[pr++]=Yc,Yc=r,Xc=l}function Gy(r,l,d){$n[qn++]=Hi,$n[qn++]=Ui,$n[qn++]=ua,ua=r;var p=Hi;r=Ui;var b=32-fe(p)-1;p&=~(1<<b),d+=1;var v=32-fe(l)+b;if(30<v){var E=b-b%5;v=(p&(1<<E)-1).toString(32),p>>=E,b-=E,Hi=1<<32-fe(l)+b|d<<b|p,Ui=v+r}else Hi=1<<v|d<<b|p,Ui=r}function gf(r){r.return!==null&&(da(r,1),Gy(r,1,0))}function mf(r){for(;r===Yc;)Yc=fr[--pr],fr[pr]=null,Xc=fr[--pr],fr[pr]=null;for(;r===ua;)ua=$n[--qn],$n[qn]=null,Ui=$n[--qn],$n[qn]=null,Hi=$n[--qn],$n[qn]=null}var cn=null,pe=null,Gt=!1,ha=null,fi=!1,bf=Error(n(519));function fa(r){var l=Error(n(418,""));throw Fo(Vn(l,r)),bf}function $y(r){var l=r.stateNode,d=r.type,p=r.memoizedProps;switch(l[Je]=r,l[hn]=p,d){case"dialog":Lt("cancel",l),Lt("close",l);break;case"iframe":case"object":case"embed":Lt("load",l);break;case"video":case"audio":for(d=0;d<ll.length;d++)Lt(ll[d],l);break;case"source":Lt("error",l);break;case"img":case"image":case"link":Lt("error",l),Lt("load",l);break;case"details":Lt("toggle",l);break;case"input":Lt("invalid",l),ry(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Pc(l);break;case"select":Lt("invalid",l);break;case"textarea":Lt("invalid",l),ly(l,p.value,p.defaultValue,p.children),Pc(l)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||lx(l.textContent,d)?(p.popover!=null&&(Lt("beforetoggle",l),Lt("toggle",l)),p.onScroll!=null&&Lt("scroll",l),p.onScrollEnd!=null&&Lt("scrollend",l),p.onClick!=null&&(l.onclick=Mu),l=!0):l=!1,l||fa(r)}function qy(r){for(cn=r.return;cn;)switch(cn.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:cn=cn.return}}function Io(r){if(r!==cn)return!1;if(!Gt)return qy(r),Gt=!0,!1;var l=r.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||Np(r.type,r.memoizedProps)),d=!d),d&&pe&&fa(r),qy(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));t:{for(r=r.nextSibling,l=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(l===0){pe=ri(r.nextSibling);break t}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;r=r.nextSibling}pe=null}}else l===27?(l=pe,Ms(r.type)?(r=jp,jp=null,pe=r):pe=l):pe=cn?ri(r.stateNode.nextSibling):null;return!0}function jo(){pe=cn=null,Gt=!1}function Wy(){var r=ha;return r!==null&&(mn===null?mn=r:mn.push.apply(mn,r),ha=null),r}function Fo(r){ha===null?ha=[r]:ha.push(r)}var yf=Z(null),pa=null,Vi=null;function ps(r,l,d){G(yf,l._currentValue),l._currentValue=d}function Gi(r){r._currentValue=yf.current,B(yf)}function vf(r,l,d){for(;r!==null;){var p=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),r===d)break;r=r.return}}function xf(r,l,d,p){var b=r.child;for(b!==null&&(b.return=r);b!==null;){var v=b.dependencies;if(v!==null){var E=b.child;v=v.firstContext;t:for(;v!==null;){var D=v;v=b;for(var j=0;j<l.length;j++)if(D.context===l[j]){v.lanes|=d,D=v.alternate,D!==null&&(D.lanes|=d),vf(v.return,d,r),p||(E=null);break t}v=D.next}}else if(b.tag===18){if(E=b.return,E===null)throw Error(n(341));E.lanes|=d,v=E.alternate,v!==null&&(v.lanes|=d),vf(E,d,r),E=null}else E=b.child;if(E!==null)E.return=b;else for(E=b;E!==null;){if(E===r){E=null;break}if(b=E.sibling,b!==null){b.return=E.return,E=b;break}E=E.return}b=E}}function zo(r,l,d,p){r=null;for(var b=l,v=!1;b!==null;){if(!v){if((b.flags&524288)!==0)v=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var E=b.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var D=b.type;Tn(b.pendingProps.value,E.value)||(r!==null?r.push(D):r=[D])}}else if(b===ct.current){if(E=b.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(r!==null?r.push(pl):r=[pl])}b=b.return}r!==null&&xf(l,r,d,p),l.flags|=262144}function Kc(r){for(r=r.firstContext;r!==null;){if(!Tn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ga(r){pa=r,Vi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function tn(r){return Yy(pa,r)}function Qc(r,l){return pa===null&&ga(r),Yy(r,l)}function Yy(r,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Vi===null){if(r===null)throw Error(n(308));Vi=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else Vi=Vi.next=l;return d}var NR=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(d,p){r.push(p)}};this.abort=function(){l.aborted=!0,r.forEach(function(d){return d()})}},LR=i.unstable_scheduleCallback,PR=i.unstable_NormalPriority,Le={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new NR,data:new Map,refCount:0}}function Bo(r){r.refCount--,r.refCount===0&&LR(PR,function(){r.controller.abort()})}var Ho=null,Sf=0,gr=0,mr=null;function IR(r,l){if(Ho===null){var d=Ho=[];Sf=0,gr=Ap(),mr={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Sf++,l.then(Xy,Xy),l}function Xy(){if(--Sf===0&&Ho!==null){mr!==null&&(mr.status="fulfilled");var r=Ho;Ho=null,gr=0,mr=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function jR(r,l){var d=[],p={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return r.then(function(){p.status="fulfilled",p.value=l;for(var b=0;b<d.length;b++)(0,d[b])(l)},function(b){for(p.status="rejected",p.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),p}var Ky=L.S;L.S=function(r,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&IR(r,l),Ky!==null&&Ky(r,l)};var ma=Z(null);function _f(){var r=ma.current;return r!==null?r:se.pooledCache}function Zc(r,l){l===null?G(ma,ma.current):G(ma,l.pool)}function Qy(){var r=_f();return r===null?null:{parent:Le._currentValue,pool:r}}var Uo=Error(n(460)),Zy=Error(n(474)),Jc=Error(n(542)),Af={then:function(){}};function Jy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function tu(){}function tv(r,l,d){switch(d=r[d],d===void 0?r.push(l):d!==l&&(l.then(tu,tu),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,nv(r),r;default:if(typeof l.status=="string")l.then(tu,tu);else{if(r=se,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=l,r.status="pending",r.then(function(p){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=p}},function(p){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,nv(r),r}throw Vo=l,Uo}}var Vo=null;function ev(){if(Vo===null)throw Error(n(459));var r=Vo;return Vo=null,r}function nv(r){if(r===Uo||r===Jc)throw Error(n(483))}var gs=!1;function Ef(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cf(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ms(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function bs(r,l,d){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(qt&2)!==0){var b=p.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),p.pending=l,l=qc(r),Uy(r,null,d),l}return $c(r,p,l,d),qc(r)}function Go(r,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=r.pendingLanes,d|=p,l.lanes=d,Xb(r,d)}}function Tf(r,l){var d=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var b=null,v=null;if(d=d.firstBaseUpdate,d!==null){do{var E={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};v===null?b=v=E:v=v.next=E,d=d.next}while(d!==null);v===null?b=v=l:v=v.next=l}else b=v=l;d={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:v,shared:p.shared,callbacks:p.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=l:r.next=l,d.lastBaseUpdate=l}var Rf=!1;function $o(){if(Rf){var r=mr;if(r!==null)throw r}}function qo(r,l,d,p){Rf=!1;var b=r.updateQueue;gs=!1;var v=b.firstBaseUpdate,E=b.lastBaseUpdate,D=b.shared.pending;if(D!==null){b.shared.pending=null;var j=D,q=j.next;j.next=null,E===null?v=q:E.next=q,E=j;var tt=r.alternate;tt!==null&&(tt=tt.updateQueue,D=tt.lastBaseUpdate,D!==E&&(D===null?tt.firstBaseUpdate=q:D.next=q,tt.lastBaseUpdate=j))}if(v!==null){var it=b.baseState;E=0,tt=q=j=null,D=v;do{var Y=D.lane&-536870913,X=Y!==D.lane;if(X?(Ft&Y)===Y:(p&Y)===Y){Y!==0&&Y===gr&&(Rf=!0),tt!==null&&(tt=tt.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});t:{var St=r,vt=D;Y=l;var Qt=d;switch(vt.tag){case 1:if(St=vt.payload,typeof St=="function"){it=St.call(Qt,it,Y);break t}it=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=vt.payload,Y=typeof St=="function"?St.call(Qt,it,Y):St,Y==null)break t;it=f({},it,Y);break t;case 2:gs=!0}}Y=D.callback,Y!==null&&(r.flags|=64,X&&(r.flags|=8192),X=b.callbacks,X===null?b.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:D.tag,payload:D.payload,callback:D.callback,next:null},tt===null?(q=tt=X,j=it):tt=tt.next=X,E|=Y;if(D=D.next,D===null){if(D=b.shared.pending,D===null)break;X=D,D=X.next,X.next=null,b.lastBaseUpdate=X,b.shared.pending=null}}while(!0);tt===null&&(j=it),b.baseState=j,b.firstBaseUpdate=q,b.lastBaseUpdate=tt,v===null&&(b.shared.lanes=0),Es|=E,r.lanes=E,r.memoizedState=it}}function iv(r,l){if(typeof r!="function")throw Error(n(191,r));r.call(l)}function sv(r,l){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)iv(d[r],l)}var br=Z(null),eu=Z(0);function av(r,l){r=Qi,G(eu,r),G(br,l),Qi=r|l.baseLanes}function Mf(){G(eu,Qi),G(br,br.current)}function kf(){Qi=eu.current,B(br),B(eu)}var ys=0,kt=null,Xt=null,Re=null,nu=!1,yr=!1,ba=!1,iu=0,Wo=0,vr=null,FR=0;function ye(){throw Error(n(321))}function Df(r,l){if(l===null)return!1;for(var d=0;d<l.length&&d<r.length;d++)if(!Tn(r[d],l[d]))return!1;return!0}function Of(r,l,d,p,b,v){return ys=v,kt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,L.H=r===null||r.memoizedState===null?Uv:Vv,ba=!1,v=d(p,b),ba=!1,yr&&(v=ov(l,d,p,b)),rv(r),v}function rv(r){L.H=cu;var l=Xt!==null&&Xt.next!==null;if(ys=0,Re=Xt=kt=null,nu=!1,Wo=0,vr=null,l)throw Error(n(300));r===null||Be||(r=r.dependencies,r!==null&&Kc(r)&&(Be=!0))}function ov(r,l,d,p){kt=r;var b=0;do{if(yr&&(vr=null),Wo=0,yr=!1,25<=b)throw Error(n(301));if(b+=1,Re=Xt=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}L.H=$R,v=l(d,p)}while(yr);return v}function zR(){var r=L.H,l=r.useState()[0];return l=typeof l.then=="function"?Yo(l):l,r=r.useState()[0],(Xt!==null?Xt.memoizedState:null)!==r&&(kt.flags|=1024),l}function Nf(){var r=iu!==0;return iu=0,r}function Lf(r,l,d){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~d}function Pf(r){if(nu){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}nu=!1}ys=0,Re=Xt=kt=null,yr=!1,Wo=iu=0,vr=null}function pn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?kt.memoizedState=Re=r:Re=Re.next=r,Re}function Me(){if(Xt===null){var r=kt.alternate;r=r!==null?r.memoizedState:null}else r=Xt.next;var l=Re===null?kt.memoizedState:Re.next;if(l!==null)Re=l,Xt=r;else{if(r===null)throw kt.alternate===null?Error(n(467)):Error(n(310));Xt=r,r={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Re===null?kt.memoizedState=Re=r:Re=Re.next=r}return Re}function If(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(r){var l=Wo;return Wo+=1,vr===null&&(vr=[]),r=tv(vr,r,l),l=kt,(Re===null?l.memoizedState:Re.next)===null&&(l=l.alternate,L.H=l===null||l.memoizedState===null?Uv:Vv),r}function su(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Yo(r);if(r.$$typeof===C)return tn(r)}throw Error(n(438,String(r)))}function jf(r){var l=null,d=kt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=kt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=If(),kt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(r),p=0;p<r;p++)d[p]=W;return l.index++,d}function $i(r,l){return typeof l=="function"?l(r):l}function au(r){var l=Me();return Ff(l,Xt,r)}function Ff(r,l,d){var p=r.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var b=r.baseQueue,v=p.pending;if(v!==null){if(b!==null){var E=b.next;b.next=v.next,v.next=E}l.baseQueue=b=v,p.pending=null}if(v=r.baseState,b===null)r.memoizedState=v;else{l=b.next;var D=E=null,j=null,q=l,tt=!1;do{var it=q.lane&-536870913;if(it!==q.lane?(Ft&it)===it:(ys&it)===it){var Y=q.revertLane;if(Y===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),it===gr&&(tt=!0);else if((ys&Y)===Y){q=q.next,Y===gr&&(tt=!0);continue}else it={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(D=j=it,E=v):j=j.next=it,kt.lanes|=Y,Es|=Y;it=q.action,ba&&d(v,it),v=q.hasEagerState?q.eagerState:d(v,it)}else Y={lane:it,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(D=j=Y,E=v):j=j.next=Y,kt.lanes|=it,Es|=it;q=q.next}while(q!==null&&q!==l);if(j===null?E=v:j.next=D,!Tn(v,r.memoizedState)&&(Be=!0,tt&&(d=mr,d!==null)))throw d;r.memoizedState=v,r.baseState=E,r.baseQueue=j,p.lastRenderedState=v}return b===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function zf(r){var l=Me(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=r;var p=d.dispatch,b=d.pending,v=l.memoizedState;if(b!==null){d.pending=null;var E=b=b.next;do v=r(v,E.action),E=E.next;while(E!==b);Tn(v,l.memoizedState)||(Be=!0),l.memoizedState=v,l.baseQueue===null&&(l.baseState=v),d.lastRenderedState=v}return[v,p]}function lv(r,l,d){var p=kt,b=Me(),v=Gt;if(v){if(d===void 0)throw Error(n(407));d=d()}else d=l();var E=!Tn((Xt||b).memoizedState,d);E&&(b.memoizedState=d,Be=!0),b=b.queue;var D=dv.bind(null,p,b,r);if(Xo(2048,8,D,[r]),b.getSnapshot!==l||E||Re!==null&&Re.memoizedState.tag&1){if(p.flags|=2048,xr(9,ru(),uv.bind(null,p,b,d,l),null),se===null)throw Error(n(349));v||(ys&124)!==0||cv(p,l,d)}return d}function cv(r,l,d){r.flags|=16384,r={getSnapshot:l,value:d},l=kt.updateQueue,l===null?(l=If(),kt.updateQueue=l,l.stores=[r]):(d=l.stores,d===null?l.stores=[r]:d.push(r))}function uv(r,l,d,p){l.value=d,l.getSnapshot=p,hv(l)&&fv(r)}function dv(r,l,d){return d(function(){hv(l)&&fv(r)})}function hv(r){var l=r.getSnapshot;r=r.value;try{var d=l();return!Tn(r,d)}catch{return!0}}function fv(r){var l=dr(r,2);l!==null&&Nn(l,r,2)}function Bf(r){var l=pn();if(typeof r=="function"){var d=r;if(r=d(),ba){ln(!0);try{d()}finally{ln(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:r},l}function pv(r,l,d,p){return r.baseState=d,Ff(r,Xt,typeof p=="function"?p:$i)}function BR(r,l,d,p,b){if(lu(r))throw Error(n(485));if(r=l.action,r!==null){var v={payload:b,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};L.T!==null?d(!0):v.isTransition=!1,p(v),d=l.pending,d===null?(v.next=l.pending=v,gv(l,v)):(v.next=d.next,l.pending=d.next=v)}}function gv(r,l){var d=l.action,p=l.payload,b=r.state;if(l.isTransition){var v=L.T,E={};L.T=E;try{var D=d(b,p),j=L.S;j!==null&&j(E,D),mv(r,l,D)}catch(q){Hf(r,l,q)}finally{L.T=v}}else try{v=d(b,p),mv(r,l,v)}catch(q){Hf(r,l,q)}}function mv(r,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){bv(r,l,p)},function(p){return Hf(r,l,p)}):bv(r,l,d)}function bv(r,l,d){l.status="fulfilled",l.value=d,yv(l),r.state=d,l=r.pending,l!==null&&(d=l.next,d===l?r.pending=null:(d=d.next,l.next=d,gv(r,d)))}function Hf(r,l,d){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,yv(l),l=l.next;while(l!==p)}r.action=null}function yv(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function vv(r,l){return l}function xv(r,l){if(Gt){var d=se.formState;if(d!==null){t:{var p=kt;if(Gt){if(pe){e:{for(var b=pe,v=fi;b.nodeType!==8;){if(!v){b=null;break e}if(b=ri(b.nextSibling),b===null){b=null;break e}}v=b.data,b=v==="F!"||v==="F"?b:null}if(b){pe=ri(b.nextSibling),p=b.data==="F!";break t}}fa(p)}p=!1}p&&(l=d[0])}}return d=pn(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vv,lastRenderedState:l},d.queue=p,d=zv.bind(null,kt,p),p.dispatch=d,p=Bf(!1),v=qf.bind(null,kt,!1,p.queue),p=pn(),b={state:l,dispatch:null,action:r,pending:null},p.queue=b,d=BR.bind(null,kt,b,v,d),b.dispatch=d,p.memoizedState=r,[l,d,!1]}function wv(r){var l=Me();return Sv(l,Xt,r)}function Sv(r,l,d){if(l=Ff(r,l,vv)[0],r=au($i)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Yo(l)}catch(E){throw E===Uo?Jc:E}else p=l;l=Me();var b=l.queue,v=b.dispatch;return d!==l.memoizedState&&(kt.flags|=2048,xr(9,ru(),HR.bind(null,b,d),null)),[p,v,r]}function HR(r,l){r.action=l}function _v(r){var l=Me(),d=Xt;if(d!==null)return Sv(l,d,r);Me(),l=l.memoizedState,d=Me();var p=d.queue.dispatch;return d.memoizedState=r,[l,p,!1]}function xr(r,l,d,p){return r={tag:r,create:d,deps:p,inst:l,next:null},l=kt.updateQueue,l===null&&(l=If(),kt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=r.next=r:(p=d.next,d.next=r,r.next=p,l.lastEffect=r),r}function ru(){return{destroy:void 0,resource:void 0}}function Av(){return Me().memoizedState}function ou(r,l,d,p){var b=pn();p=p===void 0?null:p,kt.flags|=r,b.memoizedState=xr(1|l,ru(),d,p)}function Xo(r,l,d,p){var b=Me();p=p===void 0?null:p;var v=b.memoizedState.inst;Xt!==null&&p!==null&&Df(p,Xt.memoizedState.deps)?b.memoizedState=xr(l,v,d,p):(kt.flags|=r,b.memoizedState=xr(1|l,v,d,p))}function Ev(r,l){ou(8390656,8,r,l)}function Cv(r,l){Xo(2048,8,r,l)}function Tv(r,l){return Xo(4,2,r,l)}function Rv(r,l){return Xo(4,4,r,l)}function Mv(r,l){if(typeof l=="function"){r=r();var d=l(r);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function kv(r,l,d){d=d!=null?d.concat([r]):null,Xo(4,4,Mv.bind(null,l,r),d)}function Uf(){}function Dv(r,l){var d=Me();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&Df(l,p[1])?p[0]:(d.memoizedState=[r,l],r)}function Ov(r,l){var d=Me();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&Df(l,p[1]))return p[0];if(p=r(),ba){ln(!0);try{r()}finally{ln(!1)}}return d.memoizedState=[p,l],p}function Vf(r,l,d){return d===void 0||(ys&1073741824)!==0?r.memoizedState=l:(r.memoizedState=d,r=P0(),kt.lanes|=r,Es|=r,d)}function Nv(r,l,d,p){return Tn(d,l)?d:br.current!==null?(r=Vf(r,d,p),Tn(r,l)||(Be=!0),r):(ys&42)===0?(Be=!0,r.memoizedState=d):(r=P0(),kt.lanes|=r,Es|=r,l)}function Lv(r,l,d,p,b){var v=F.p;F.p=v!==0&&8>v?v:8;var E=L.T,D={};L.T=D,qf(r,!1,l,d);try{var j=b(),q=L.S;if(q!==null&&q(D,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var tt=jR(j,p);Ko(r,l,tt,On(r))}else Ko(r,l,p,On(r))}catch(it){Ko(r,l,{then:function(){},status:"rejected",reason:it},On())}finally{F.p=v,L.T=E}}function UR(){}function Gf(r,l,d,p){if(r.tag!==5)throw Error(n(476));var b=Pv(r).queue;Lv(r,b,l,V,d===null?UR:function(){return Iv(r),d(p)})}function Pv(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:V},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:d},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function Iv(r){var l=Pv(r).next.queue;Ko(r,l,{},On())}function $f(){return tn(pl)}function jv(){return Me().memoizedState}function Fv(){return Me().memoizedState}function VR(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var d=On();r=ms(d);var p=bs(l,r,d);p!==null&&(Nn(p,l,d),Go(p,l,d)),l={cache:wf()},r.payload=l;return}l=l.return}}function GR(r,l,d){var p=On();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},lu(r)?Bv(l,d):(d=df(r,l,d,p),d!==null&&(Nn(d,r,p),Hv(d,l,p)))}function zv(r,l,d){var p=On();Ko(r,l,d,p)}function Ko(r,l,d,p){var b={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(lu(r))Bv(l,b);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=l.lastRenderedReducer,v!==null))try{var E=l.lastRenderedState,D=v(E,d);if(b.hasEagerState=!0,b.eagerState=D,Tn(D,E))return $c(r,l,b,0),se===null&&Gc(),!1}catch{}finally{}if(d=df(r,l,b,p),d!==null)return Nn(d,r,p),Hv(d,l,p),!0}return!1}function qf(r,l,d,p){if(p={lane:2,revertLane:Ap(),action:p,hasEagerState:!1,eagerState:null,next:null},lu(r)){if(l)throw Error(n(479))}else l=df(r,d,p,2),l!==null&&Nn(l,r,2)}function lu(r){var l=r.alternate;return r===kt||l!==null&&l===kt}function Bv(r,l){yr=nu=!0;var d=r.pending;d===null?l.next=l:(l.next=d.next,d.next=l),r.pending=l}function Hv(r,l,d){if((d&4194048)!==0){var p=l.lanes;p&=r.pendingLanes,d|=p,l.lanes=d,Xb(r,d)}}var cu={readContext:tn,use:su,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},Uv={readContext:tn,use:su,useCallback:function(r,l){return pn().memoizedState=[r,l===void 0?null:l],r},useContext:tn,useEffect:Ev,useImperativeHandle:function(r,l,d){d=d!=null?d.concat([r]):null,ou(4194308,4,Mv.bind(null,l,r),d)},useLayoutEffect:function(r,l){return ou(4194308,4,r,l)},useInsertionEffect:function(r,l){ou(4,2,r,l)},useMemo:function(r,l){var d=pn();l=l===void 0?null:l;var p=r();if(ba){ln(!0);try{r()}finally{ln(!1)}}return d.memoizedState=[p,l],p},useReducer:function(r,l,d){var p=pn();if(d!==void 0){var b=d(l);if(ba){ln(!0);try{d(l)}finally{ln(!1)}}}else b=l;return p.memoizedState=p.baseState=b,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:b},p.queue=r,r=r.dispatch=GR.bind(null,kt,r),[p.memoizedState,r]},useRef:function(r){var l=pn();return r={current:r},l.memoizedState=r},useState:function(r){r=Bf(r);var l=r.queue,d=zv.bind(null,kt,l);return l.dispatch=d,[r.memoizedState,d]},useDebugValue:Uf,useDeferredValue:function(r,l){var d=pn();return Vf(d,r,l)},useTransition:function(){var r=Bf(!1);return r=Lv.bind(null,kt,r.queue,!0,!1),pn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,d){var p=kt,b=pn();if(Gt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),se===null)throw Error(n(349));(Ft&124)!==0||cv(p,l,d)}b.memoizedState=d;var v={value:d,getSnapshot:l};return b.queue=v,Ev(dv.bind(null,p,v,r),[r]),p.flags|=2048,xr(9,ru(),uv.bind(null,p,v,d,l),null),d},useId:function(){var r=pn(),l=se.identifierPrefix;if(Gt){var d=Ui,p=Hi;d=(p&~(1<<32-fe(p)-1)).toString(32)+d,l="«"+l+"R"+d,d=iu++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=FR++,l="«"+l+"r"+d.toString(32)+"»";return r.memoizedState=l},useHostTransitionStatus:$f,useFormState:xv,useActionState:xv,useOptimistic:function(r){var l=pn();l.memoizedState=l.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=qf.bind(null,kt,!0,d),d.dispatch=l,[r,l]},useMemoCache:jf,useCacheRefresh:function(){return pn().memoizedState=VR.bind(null,kt)}},Vv={readContext:tn,use:su,useCallback:Dv,useContext:tn,useEffect:Cv,useImperativeHandle:kv,useInsertionEffect:Tv,useLayoutEffect:Rv,useMemo:Ov,useReducer:au,useRef:Av,useState:function(){return au($i)},useDebugValue:Uf,useDeferredValue:function(r,l){var d=Me();return Nv(d,Xt.memoizedState,r,l)},useTransition:function(){var r=au($i)[0],l=Me().memoizedState;return[typeof r=="boolean"?r:Yo(r),l]},useSyncExternalStore:lv,useId:jv,useHostTransitionStatus:$f,useFormState:wv,useActionState:wv,useOptimistic:function(r,l){var d=Me();return pv(d,Xt,r,l)},useMemoCache:jf,useCacheRefresh:Fv},$R={readContext:tn,use:su,useCallback:Dv,useContext:tn,useEffect:Cv,useImperativeHandle:kv,useInsertionEffect:Tv,useLayoutEffect:Rv,useMemo:Ov,useReducer:zf,useRef:Av,useState:function(){return zf($i)},useDebugValue:Uf,useDeferredValue:function(r,l){var d=Me();return Xt===null?Vf(d,r,l):Nv(d,Xt.memoizedState,r,l)},useTransition:function(){var r=zf($i)[0],l=Me().memoizedState;return[typeof r=="boolean"?r:Yo(r),l]},useSyncExternalStore:lv,useId:jv,useHostTransitionStatus:$f,useFormState:_v,useActionState:_v,useOptimistic:function(r,l){var d=Me();return Xt!==null?pv(d,Xt,r,l):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:jf,useCacheRefresh:Fv},wr=null,Qo=0;function uu(r){var l=Qo;return Qo+=1,wr===null&&(wr=[]),tv(wr,r,l)}function Zo(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function du(r,l){throw l.$$typeof===g?Error(n(525)):(r=Object.prototype.toString.call(l),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function Gv(r){var l=r._init;return l(r._payload)}function $v(r){function l(U,z){if(r){var $=U.deletions;$===null?(U.deletions=[z],U.flags|=16):$.push(z)}}function d(U,z){if(!r)return null;for(;z!==null;)l(U,z),z=z.sibling;return null}function p(U){for(var z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function b(U,z){return U=Bi(U,z),U.index=0,U.sibling=null,U}function v(U,z,$){return U.index=$,r?($=U.alternate,$!==null?($=$.index,$<z?(U.flags|=67108866,z):$):(U.flags|=67108866,z)):(U.flags|=1048576,z)}function E(U){return r&&U.alternate===null&&(U.flags|=67108866),U}function D(U,z,$,nt){return z===null||z.tag!==6?(z=ff($,U.mode,nt),z.return=U,z):(z=b(z,$),z.return=U,z)}function j(U,z,$,nt){var ht=$.type;return ht===w?tt(U,z,$.props.children,nt,$.key):z!==null&&(z.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===P&&Gv(ht)===z.type)?(z=b(z,$.props),Zo(z,$),z.return=U,z):(z=Wc($.type,$.key,$.props,null,U.mode,nt),Zo(z,$),z.return=U,z)}function q(U,z,$,nt){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=pf($,U.mode,nt),z.return=U,z):(z=b(z,$.children||[]),z.return=U,z)}function tt(U,z,$,nt,ht){return z===null||z.tag!==7?(z=ca($,U.mode,nt,ht),z.return=U,z):(z=b(z,$),z.return=U,z)}function it(U,z,$){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ff(""+z,U.mode,$),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case m:return $=Wc(z.type,z.key,z.props,null,U.mode,$),Zo($,z),$.return=U,$;case y:return z=pf(z,U.mode,$),z.return=U,z;case P:var nt=z._init;return z=nt(z._payload),it(U,z,$)}if(rt(z)||et(z))return z=ca(z,U.mode,$,null),z.return=U,z;if(typeof z.then=="function")return it(U,uu(z),$);if(z.$$typeof===C)return it(U,Qc(U,z),$);du(U,z)}return null}function Y(U,z,$,nt){var ht=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ht!==null?null:D(U,z,""+$,nt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case m:return $.key===ht?j(U,z,$,nt):null;case y:return $.key===ht?q(U,z,$,nt):null;case P:return ht=$._init,$=ht($._payload),Y(U,z,$,nt)}if(rt($)||et($))return ht!==null?null:tt(U,z,$,nt,null);if(typeof $.then=="function")return Y(U,z,uu($),nt);if($.$$typeof===C)return Y(U,z,Qc(U,$),nt);du(U,$)}return null}function X(U,z,$,nt,ht){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return U=U.get($)||null,D(z,U,""+nt,ht);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case m:return U=U.get(nt.key===null?$:nt.key)||null,j(z,U,nt,ht);case y:return U=U.get(nt.key===null?$:nt.key)||null,q(z,U,nt,ht);case P:var Ot=nt._init;return nt=Ot(nt._payload),X(U,z,$,nt,ht)}if(rt(nt)||et(nt))return U=U.get($)||null,tt(z,U,nt,ht,null);if(typeof nt.then=="function")return X(U,z,$,uu(nt),ht);if(nt.$$typeof===C)return X(U,z,$,Qc(z,nt),ht);du(z,nt)}return null}function St(U,z,$,nt){for(var ht=null,Ot=null,gt=z,xt=z=0,Ue=null;gt!==null&&xt<$.length;xt++){gt.index>xt?(Ue=gt,gt=null):Ue=gt.sibling;var Ut=Y(U,gt,$[xt],nt);if(Ut===null){gt===null&&(gt=Ue);break}r&&gt&&Ut.alternate===null&&l(U,gt),z=v(Ut,z,xt),Ot===null?ht=Ut:Ot.sibling=Ut,Ot=Ut,gt=Ue}if(xt===$.length)return d(U,gt),Gt&&da(U,xt),ht;if(gt===null){for(;xt<$.length;xt++)gt=it(U,$[xt],nt),gt!==null&&(z=v(gt,z,xt),Ot===null?ht=gt:Ot.sibling=gt,Ot=gt);return Gt&&da(U,xt),ht}for(gt=p(gt);xt<$.length;xt++)Ue=X(gt,U,xt,$[xt],nt),Ue!==null&&(r&&Ue.alternate!==null&&gt.delete(Ue.key===null?xt:Ue.key),z=v(Ue,z,xt),Ot===null?ht=Ue:Ot.sibling=Ue,Ot=Ue);return r&&gt.forEach(function(Ls){return l(U,Ls)}),Gt&&da(U,xt),ht}function vt(U,z,$,nt){if($==null)throw Error(n(151));for(var ht=null,Ot=null,gt=z,xt=z=0,Ue=null,Ut=$.next();gt!==null&&!Ut.done;xt++,Ut=$.next()){gt.index>xt?(Ue=gt,gt=null):Ue=gt.sibling;var Ls=Y(U,gt,Ut.value,nt);if(Ls===null){gt===null&&(gt=Ue);break}r&&gt&&Ls.alternate===null&&l(U,gt),z=v(Ls,z,xt),Ot===null?ht=Ls:Ot.sibling=Ls,Ot=Ls,gt=Ue}if(Ut.done)return d(U,gt),Gt&&da(U,xt),ht;if(gt===null){for(;!Ut.done;xt++,Ut=$.next())Ut=it(U,Ut.value,nt),Ut!==null&&(z=v(Ut,z,xt),Ot===null?ht=Ut:Ot.sibling=Ut,Ot=Ut);return Gt&&da(U,xt),ht}for(gt=p(gt);!Ut.done;xt++,Ut=$.next())Ut=X(gt,U,xt,Ut.value,nt),Ut!==null&&(r&&Ut.alternate!==null&&gt.delete(Ut.key===null?xt:Ut.key),z=v(Ut,z,xt),Ot===null?ht=Ut:Ot.sibling=Ut,Ot=Ut);return r&&gt.forEach(function(qM){return l(U,qM)}),Gt&&da(U,xt),ht}function Qt(U,z,$,nt){if(typeof $=="object"&&$!==null&&$.type===w&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case m:t:{for(var ht=$.key;z!==null;){if(z.key===ht){if(ht=$.type,ht===w){if(z.tag===7){d(U,z.sibling),nt=b(z,$.props.children),nt.return=U,U=nt;break t}}else if(z.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===P&&Gv(ht)===z.type){d(U,z.sibling),nt=b(z,$.props),Zo(nt,$),nt.return=U,U=nt;break t}d(U,z);break}else l(U,z);z=z.sibling}$.type===w?(nt=ca($.props.children,U.mode,nt,$.key),nt.return=U,U=nt):(nt=Wc($.type,$.key,$.props,null,U.mode,nt),Zo(nt,$),nt.return=U,U=nt)}return E(U);case y:t:{for(ht=$.key;z!==null;){if(z.key===ht)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){d(U,z.sibling),nt=b(z,$.children||[]),nt.return=U,U=nt;break t}else{d(U,z);break}else l(U,z);z=z.sibling}nt=pf($,U.mode,nt),nt.return=U,U=nt}return E(U);case P:return ht=$._init,$=ht($._payload),Qt(U,z,$,nt)}if(rt($))return St(U,z,$,nt);if(et($)){if(ht=et($),typeof ht!="function")throw Error(n(150));return $=ht.call($),vt(U,z,$,nt)}if(typeof $.then=="function")return Qt(U,z,uu($),nt);if($.$$typeof===C)return Qt(U,z,Qc(U,$),nt);du(U,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,z!==null&&z.tag===6?(d(U,z.sibling),nt=b(z,$),nt.return=U,U=nt):(d(U,z),nt=ff($,U.mode,nt),nt.return=U,U=nt),E(U)):d(U,z)}return function(U,z,$,nt){try{Qo=0;var ht=Qt(U,z,$,nt);return wr=null,ht}catch(gt){if(gt===Uo||gt===Jc)throw gt;var Ot=Rn(29,gt,null,U.mode);return Ot.lanes=nt,Ot.return=U,Ot}finally{}}}var Sr=$v(!0),qv=$v(!1),Wn=Z(null),pi=null;function vs(r){var l=r.alternate;G(Pe,Pe.current&1),G(Wn,r),pi===null&&(l===null||br.current!==null||l.memoizedState!==null)&&(pi=r)}function Wv(r){if(r.tag===22){if(G(Pe,Pe.current),G(Wn,r),pi===null){var l=r.alternate;l!==null&&l.memoizedState!==null&&(pi=r)}}else xs()}function xs(){G(Pe,Pe.current),G(Wn,Wn.current)}function qi(r){B(Wn),pi===r&&(pi=null),B(Pe)}var Pe=Z(0);function hu(r){for(var l=r;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||Ip(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Wf(r,l,d,p){l=r.memoizedState,d=d(p,l),d=d==null?l:f({},l,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Yf={enqueueSetState:function(r,l,d){r=r._reactInternals;var p=On(),b=ms(p);b.payload=l,d!=null&&(b.callback=d),l=bs(r,b,p),l!==null&&(Nn(l,r,p),Go(l,r,p))},enqueueReplaceState:function(r,l,d){r=r._reactInternals;var p=On(),b=ms(p);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=bs(r,b,p),l!==null&&(Nn(l,r,p),Go(l,r,p))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var d=On(),p=ms(d);p.tag=2,l!=null&&(p.callback=l),l=bs(r,p,d),l!==null&&(Nn(l,r,d),Go(l,r,d))}};function Yv(r,l,d,p,b,v,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,v,E):l.prototype&&l.prototype.isPureReactComponent?!Lo(d,p)||!Lo(b,v):!0}function Xv(r,l,d,p){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==r&&Yf.enqueueReplaceState(l,l.state,null)}function ya(r,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(r=r.defaultProps){d===l&&(d=f({},d));for(var b in r)d[b]===void 0&&(d[b]=r[b])}return d}var fu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Kv(r){fu(r)}function Qv(r){console.error(r)}function Zv(r){fu(r)}function pu(r,l){try{var d=r.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function Jv(r,l,d){try{var p=r.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Xf(r,l,d){return d=ms(d),d.tag=3,d.payload={element:null},d.callback=function(){pu(r,l)},d}function t0(r){return r=ms(r),r.tag=3,r}function e0(r,l,d,p){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var v=p.value;r.payload=function(){return b(v)},r.callback=function(){Jv(l,d,p)}}var E=d.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Jv(l,d,p),typeof b!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var D=p.stack;this.componentDidCatch(p.value,{componentStack:D!==null?D:""})})}function qR(r,l,d,p,b){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&zo(l,d,b,!0),d=Wn.current,d!==null){switch(d.tag){case 13:return pi===null?vp():d.alternate===null&&ge===0&&(ge=3),d.flags&=-257,d.flags|=65536,d.lanes=b,p===Af?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),wp(r,p,b)),!1;case 22:return d.flags|=65536,p===Af?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),wp(r,p,b)),!1}throw Error(n(435,d.tag))}return wp(r,p,b),vp(),!1}if(Gt)return l=Wn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,p!==bf&&(r=Error(n(422),{cause:p}),Fo(Vn(r,d)))):(p!==bf&&(l=Error(n(423),{cause:p}),Fo(Vn(l,d))),r=r.current.alternate,r.flags|=65536,b&=-b,r.lanes|=b,p=Vn(p,d),b=Xf(r.stateNode,p,b),Tf(r,b),ge!==4&&(ge=2)),!1;var v=Error(n(520),{cause:p});if(v=Vn(v,d),al===null?al=[v]:al.push(v),ge!==4&&(ge=2),l===null)return!0;p=Vn(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,r=b&-b,d.lanes|=r,r=Xf(d.stateNode,p,r),Tf(d,r),!1;case 1:if(l=d.type,v=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Cs===null||!Cs.has(v))))return d.flags|=65536,b&=-b,d.lanes|=b,b=t0(b),e0(b,r,d,p),Tf(d,b),!1}d=d.return}while(d!==null);return!1}var n0=Error(n(461)),Be=!1;function We(r,l,d,p){l.child=r===null?qv(l,null,d,p):Sr(l,r.child,d,p)}function i0(r,l,d,p,b){d=d.render;var v=l.ref;if("ref"in p){var E={};for(var D in p)D!=="ref"&&(E[D]=p[D])}else E=p;return ga(l),p=Of(r,l,d,E,v,b),D=Nf(),r!==null&&!Be?(Lf(r,l,b),Wi(r,l,b)):(Gt&&D&&gf(l),l.flags|=1,We(r,l,p,b),l.child)}function s0(r,l,d,p,b){if(r===null){var v=d.type;return typeof v=="function"&&!hf(v)&&v.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=v,a0(r,l,v,p,b)):(r=Wc(d.type,null,p,l,l.mode,b),r.ref=l.ref,r.return=l,l.child=r)}if(v=r.child,!ip(r,b)){var E=v.memoizedProps;if(d=d.compare,d=d!==null?d:Lo,d(E,p)&&r.ref===l.ref)return Wi(r,l,b)}return l.flags|=1,r=Bi(v,p),r.ref=l.ref,r.return=l,l.child=r}function a0(r,l,d,p,b){if(r!==null){var v=r.memoizedProps;if(Lo(v,p)&&r.ref===l.ref)if(Be=!1,l.pendingProps=p=v,ip(r,b))(r.flags&131072)!==0&&(Be=!0);else return l.lanes=r.lanes,Wi(r,l,b)}return Kf(r,l,d,p,b)}function r0(r,l,d){var p=l.pendingProps,b=p.children,v=r!==null?r.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=v!==null?v.baseLanes|d:d,r!==null){for(b=l.child=r.child,v=0;b!==null;)v=v|b.lanes|b.childLanes,b=b.sibling;l.childLanes=v&~p}else l.childLanes=0,l.child=null;return o0(r,l,p,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&Zc(l,v!==null?v.cachePool:null),v!==null?av(l,v):Mf(),Wv(l);else return l.lanes=l.childLanes=536870912,o0(r,l,v!==null?v.baseLanes|d:d,d)}else v!==null?(Zc(l,v.cachePool),av(l,v),xs(),l.memoizedState=null):(r!==null&&Zc(l,null),Mf(),xs());return We(r,l,b,d),l.child}function o0(r,l,d,p){var b=_f();return b=b===null?null:{parent:Le._currentValue,pool:b},l.memoizedState={baseLanes:d,cachePool:b},r!==null&&Zc(l,null),Mf(),Wv(l),r!==null&&zo(r,l,p,!0),null}function gu(r,l){var d=l.ref;if(d===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(r===null||r.ref!==d)&&(l.flags|=4194816)}}function Kf(r,l,d,p,b){return ga(l),d=Of(r,l,d,p,void 0,b),p=Nf(),r!==null&&!Be?(Lf(r,l,b),Wi(r,l,b)):(Gt&&p&&gf(l),l.flags|=1,We(r,l,d,b),l.child)}function l0(r,l,d,p,b,v){return ga(l),l.updateQueue=null,d=ov(l,p,d,b),rv(r),p=Nf(),r!==null&&!Be?(Lf(r,l,v),Wi(r,l,v)):(Gt&&p&&gf(l),l.flags|=1,We(r,l,d,v),l.child)}function c0(r,l,d,p,b){if(ga(l),l.stateNode===null){var v=hr,E=d.contextType;typeof E=="object"&&E!==null&&(v=tn(E)),v=new d(p,v),l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Yf,l.stateNode=v,v._reactInternals=l,v=l.stateNode,v.props=p,v.state=l.memoizedState,v.refs={},Ef(l),E=d.contextType,v.context=typeof E=="object"&&E!==null?tn(E):hr,v.state=l.memoizedState,E=d.getDerivedStateFromProps,typeof E=="function"&&(Wf(l,d,E,p),v.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&Yf.enqueueReplaceState(v,v.state,null),qo(l,p,v,b),$o(),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(r===null){v=l.stateNode;var D=l.memoizedProps,j=ya(d,D);v.props=j;var q=v.context,tt=d.contextType;E=hr,typeof tt=="object"&&tt!==null&&(E=tn(tt));var it=d.getDerivedStateFromProps;tt=typeof it=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=l.pendingProps!==D,tt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||q!==E)&&Xv(l,v,p,E),gs=!1;var Y=l.memoizedState;v.state=Y,qo(l,p,v,b),$o(),q=l.memoizedState,D||Y!==q||gs?(typeof it=="function"&&(Wf(l,d,it,p),q=l.memoizedState),(j=gs||Yv(l,d,j,p,Y,q,E))?(tt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(l.flags|=4194308)):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=q),v.props=p,v.state=q,v.context=E,p=j):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{v=l.stateNode,Cf(r,l),E=l.memoizedProps,tt=ya(d,E),v.props=tt,it=l.pendingProps,Y=v.context,q=d.contextType,j=hr,typeof q=="object"&&q!==null&&(j=tn(q)),D=d.getDerivedStateFromProps,(q=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==it||Y!==j)&&Xv(l,v,p,j),gs=!1,Y=l.memoizedState,v.state=Y,qo(l,p,v,b),$o();var X=l.memoizedState;E!==it||Y!==X||gs||r!==null&&r.dependencies!==null&&Kc(r.dependencies)?(typeof D=="function"&&(Wf(l,d,D,p),X=l.memoizedState),(tt=gs||Yv(l,d,tt,p,Y,X,j)||r!==null&&r.dependencies!==null&&Kc(r.dependencies))?(q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(p,X,j),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(p,X,j)),typeof v.componentDidUpdate=="function"&&(l.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=X),v.props=p,v.state=X,v.context=j,p=tt):(typeof v.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(l.flags|=1024),p=!1)}return v=p,gu(r,l),p=(l.flags&128)!==0,v||p?(v=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:v.render(),l.flags|=1,r!==null&&p?(l.child=Sr(l,r.child,null,b),l.child=Sr(l,null,d,b)):We(r,l,d,b),l.memoizedState=v.state,r=l.child):r=Wi(r,l,b),r}function u0(r,l,d,p){return jo(),l.flags|=256,We(r,l,d,p),l.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(r){return{baseLanes:r,cachePool:Qy()}}function Jf(r,l,d){return r=r!==null?r.childLanes&~d:0,l&&(r|=Yn),r}function d0(r,l,d){var p=l.pendingProps,b=!1,v=(l.flags&128)!==0,E;if((E=v)||(E=r!==null&&r.memoizedState===null?!1:(Pe.current&2)!==0),E&&(b=!0,l.flags&=-129),E=(l.flags&32)!==0,l.flags&=-33,r===null){if(Gt){if(b?vs(l):xs(),Gt){var D=pe,j;if(j=D){t:{for(j=D,D=fi;j.nodeType!==8;){if(!D){D=null;break t}if(j=ri(j.nextSibling),j===null){D=null;break t}}D=j}D!==null?(l.memoizedState={dehydrated:D,treeContext:ua!==null?{id:Hi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},j=Rn(18,null,null,0),j.stateNode=D,j.return=l,l.child=j,cn=l,pe=null,j=!0):j=!1}j||fa(l)}if(D=l.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Ip(D)?l.lanes=32:l.lanes=536870912,null;qi(l)}return D=p.children,p=p.fallback,b?(xs(),b=l.mode,D=mu({mode:"hidden",children:D},b),p=ca(p,b,d,null),D.return=l,p.return=l,D.sibling=p,l.child=D,b=l.child,b.memoizedState=Zf(d),b.childLanes=Jf(r,E,d),l.memoizedState=Qf,p):(vs(l),tp(l,D))}if(j=r.memoizedState,j!==null&&(D=j.dehydrated,D!==null)){if(v)l.flags&256?(vs(l),l.flags&=-257,l=ep(r,l,d)):l.memoizedState!==null?(xs(),l.child=r.child,l.flags|=128,l=null):(xs(),b=p.fallback,D=l.mode,p=mu({mode:"visible",children:p.children},D),b=ca(b,D,d,null),b.flags|=2,p.return=l,b.return=l,p.sibling=b,l.child=p,Sr(l,r.child,null,d),p=l.child,p.memoizedState=Zf(d),p.childLanes=Jf(r,E,d),l.memoizedState=Qf,l=b);else if(vs(l),Ip(D)){if(E=D.nextSibling&&D.nextSibling.dataset,E)var q=E.dgst;E=q,p=Error(n(419)),p.stack="",p.digest=E,Fo({value:p,source:null,stack:null}),l=ep(r,l,d)}else if(Be||zo(r,l,d,!1),E=(d&r.childLanes)!==0,Be||E){if(E=se,E!==null&&(p=d&-d,p=(p&42)!==0?1:Ih(p),p=(p&(E.suspendedLanes|d))!==0?0:p,p!==0&&p!==j.retryLane))throw j.retryLane=p,dr(r,p),Nn(E,r,p),n0;D.data==="$?"||vp(),l=ep(r,l,d)}else D.data==="$?"?(l.flags|=192,l.child=r.child,l=null):(r=j.treeContext,pe=ri(D.nextSibling),cn=l,Gt=!0,ha=null,fi=!1,r!==null&&($n[qn++]=Hi,$n[qn++]=Ui,$n[qn++]=ua,Hi=r.id,Ui=r.overflow,ua=l),l=tp(l,p.children),l.flags|=4096);return l}return b?(xs(),b=p.fallback,D=l.mode,j=r.child,q=j.sibling,p=Bi(j,{mode:"hidden",children:p.children}),p.subtreeFlags=j.subtreeFlags&65011712,q!==null?b=Bi(q,b):(b=ca(b,D,d,null),b.flags|=2),b.return=l,p.return=l,p.sibling=b,l.child=p,p=b,b=l.child,D=r.child.memoizedState,D===null?D=Zf(d):(j=D.cachePool,j!==null?(q=Le._currentValue,j=j.parent!==q?{parent:q,pool:q}:j):j=Qy(),D={baseLanes:D.baseLanes|d,cachePool:j}),b.memoizedState=D,b.childLanes=Jf(r,E,d),l.memoizedState=Qf,p):(vs(l),d=r.child,r=d.sibling,d=Bi(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,r!==null&&(E=l.deletions,E===null?(l.deletions=[r],l.flags|=16):E.push(r)),l.child=d,l.memoizedState=null,d)}function tp(r,l){return l=mu({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function mu(r,l){return r=Rn(22,r,null,l),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function ep(r,l,d){return Sr(l,r.child,null,d),r=tp(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function h0(r,l,d){r.lanes|=l;var p=r.alternate;p!==null&&(p.lanes|=l),vf(r.return,l,d)}function np(r,l,d,p,b){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:b}:(v.isBackwards=l,v.rendering=null,v.renderingStartTime=0,v.last=p,v.tail=d,v.tailMode=b)}function f0(r,l,d){var p=l.pendingProps,b=p.revealOrder,v=p.tail;if(We(r,l,p.children,d),p=Pe.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&h0(r,d,l);else if(r.tag===19)h0(r,d,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break t;for(;r.sibling===null;){if(r.return===null||r.return===l)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}switch(G(Pe,p),b){case"forwards":for(d=l.child,b=null;d!==null;)r=d.alternate,r!==null&&hu(r)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),np(l,!1,b,d,v);break;case"backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(r=b.alternate,r!==null&&hu(r)===null){l.child=b;break}r=b.sibling,b.sibling=d,d=b,b=r}np(l,!0,d,null,v);break;case"together":np(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Wi(r,l,d){if(r!==null&&(l.dependencies=r.dependencies),Es|=l.lanes,(d&l.childLanes)===0)if(r!==null){if(zo(r,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(n(153));if(l.child!==null){for(r=l.child,d=Bi(r,r.pendingProps),l.child=d,d.return=l;r.sibling!==null;)r=r.sibling,d=d.sibling=Bi(r,r.pendingProps),d.return=l;d.sibling=null}return l.child}function ip(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&Kc(r)))}function WR(r,l,d){switch(l.tag){case 3:bt(l,l.stateNode.containerInfo),ps(l,Le,r.memoizedState.cache),jo();break;case 27:case 5:Mt(l);break;case 4:bt(l,l.stateNode.containerInfo);break;case 10:ps(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(vs(l),l.flags|=128,null):(d&l.child.childLanes)!==0?d0(r,l,d):(vs(l),r=Wi(r,l,d),r!==null?r.sibling:null);vs(l);break;case 19:var b=(r.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(zo(r,l,d,!1),p=(d&l.childLanes)!==0),b){if(p)return f0(r,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),G(Pe,Pe.current),p)break;return null;case 22:case 23:return l.lanes=0,r0(r,l,d);case 24:ps(l,Le,r.memoizedState.cache)}return Wi(r,l,d)}function p0(r,l,d){if(r!==null)if(r.memoizedProps!==l.pendingProps)Be=!0;else{if(!ip(r,d)&&(l.flags&128)===0)return Be=!1,WR(r,l,d);Be=(r.flags&131072)!==0}else Be=!1,Gt&&(l.flags&1048576)!==0&&Gy(l,Xc,l.index);switch(l.lanes=0,l.tag){case 16:t:{r=l.pendingProps;var p=l.elementType,b=p._init;if(p=b(p._payload),l.type=p,typeof p=="function")hf(p)?(r=ya(p,r),l.tag=1,l=c0(null,l,p,r,d)):(l.tag=0,l=Kf(null,l,p,r,d));else{if(p!=null){if(b=p.$$typeof,b===k){l.tag=11,l=i0(null,l,p,r,d);break t}else if(b===N){l.tag=14,l=s0(null,l,p,r,d);break t}}throw l=at(p)||p,Error(n(306,l,""))}}return l;case 0:return Kf(r,l,l.type,l.pendingProps,d);case 1:return p=l.type,b=ya(p,l.pendingProps),c0(r,l,p,b,d);case 3:t:{if(bt(l,l.stateNode.containerInfo),r===null)throw Error(n(387));p=l.pendingProps;var v=l.memoizedState;b=v.element,Cf(r,l),qo(l,p,null,d);var E=l.memoizedState;if(p=E.cache,ps(l,Le,p),p!==v.cache&&xf(l,[Le],d,!0),$o(),p=E.element,v.isDehydrated)if(v={element:p,isDehydrated:!1,cache:E.cache},l.updateQueue.baseState=v,l.memoizedState=v,l.flags&256){l=u0(r,l,p,d);break t}else if(p!==b){b=Vn(Error(n(424)),l),Fo(b),l=u0(r,l,p,d);break t}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(pe=ri(r.firstChild),cn=l,Gt=!0,ha=null,fi=!0,d=qv(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(jo(),p===b){l=Wi(r,l,d);break t}We(r,l,p,d)}l=l.child}return l;case 26:return gu(r,l),r===null?(d=yx(l.type,null,l.pendingProps,null))?l.memoizedState=d:Gt||(d=l.type,r=l.pendingProps,p=ku(ot.current).createElement(d),p[Je]=l,p[hn]=r,Xe(p,d,r),ze(p),l.stateNode=p):l.memoizedState=yx(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return Mt(l),r===null&&Gt&&(p=l.stateNode=gx(l.type,l.pendingProps,ot.current),cn=l,fi=!0,b=pe,Ms(l.type)?(jp=b,pe=ri(p.firstChild)):pe=b),We(r,l,l.pendingProps.children,d),gu(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Gt&&((b=p=pe)&&(p=wM(p,l.type,l.pendingProps,fi),p!==null?(l.stateNode=p,cn=l,pe=ri(p.firstChild),fi=!1,b=!0):b=!1),b||fa(l)),Mt(l),b=l.type,v=l.pendingProps,E=r!==null?r.memoizedProps:null,p=v.children,Np(b,v)?p=null:E!==null&&Np(b,E)&&(l.flags|=32),l.memoizedState!==null&&(b=Of(r,l,zR,null,null,d),pl._currentValue=b),gu(r,l),We(r,l,p,d),l.child;case 6:return r===null&&Gt&&((r=d=pe)&&(d=SM(d,l.pendingProps,fi),d!==null?(l.stateNode=d,cn=l,pe=null,r=!0):r=!1),r||fa(l)),null;case 13:return d0(r,l,d);case 4:return bt(l,l.stateNode.containerInfo),p=l.pendingProps,r===null?l.child=Sr(l,null,p,d):We(r,l,p,d),l.child;case 11:return i0(r,l,l.type,l.pendingProps,d);case 7:return We(r,l,l.pendingProps,d),l.child;case 8:return We(r,l,l.pendingProps.children,d),l.child;case 12:return We(r,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,ps(l,l.type,p.value),We(r,l,p.children,d),l.child;case 9:return b=l.type._context,p=l.pendingProps.children,ga(l),b=tn(b),p=p(b),l.flags|=1,We(r,l,p,d),l.child;case 14:return s0(r,l,l.type,l.pendingProps,d);case 15:return a0(r,l,l.type,l.pendingProps,d);case 19:return f0(r,l,d);case 31:return p=l.pendingProps,d=l.mode,p={mode:p.mode,children:p.children},r===null?(d=mu(p,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=Bi(r.child,p),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return r0(r,l,d);case 24:return ga(l),p=tn(Le),r===null?(b=_f(),b===null&&(b=se,v=wf(),b.pooledCache=v,v.refCount++,v!==null&&(b.pooledCacheLanes|=d),b=v),l.memoizedState={parent:p,cache:b},Ef(l),ps(l,Le,b)):((r.lanes&d)!==0&&(Cf(r,l),qo(l,null,null,d),$o()),b=r.memoizedState,v=l.memoizedState,b.parent!==p?(b={parent:p,cache:p},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),ps(l,Le,p)):(p=v.cache,ps(l,Le,p),p!==b.cache&&xf(l,[Le],d,!0))),We(r,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Yi(r){r.flags|=4}function g0(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!_x(l)){if(l=Wn.current,l!==null&&((Ft&4194048)===Ft?pi!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||l!==pi))throw Vo=Af,Zy;r.flags|=8192}}function bu(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?Wb():536870912,r.lanes|=l,Cr|=l)}function Jo(r,l){if(!Gt)switch(r.tailMode){case"hidden":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function ue(r){var l=r.alternate!==null&&r.alternate.child===r.child,d=0,p=0;if(l)for(var b=r.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=r,b=b.sibling;else for(b=r.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=r,b=b.sibling;return r.subtreeFlags|=p,r.childLanes=d,l}function YR(r,l,d){var p=l.pendingProps;switch(mf(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(l),null;case 1:return ue(l),null;case 3:return d=l.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Gi(Le),Et(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Io(l)?Yi(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Wy())),ue(l),null;case 26:return d=l.memoizedState,r===null?(Yi(l),d!==null?(ue(l),g0(l,d)):(ue(l),l.flags&=-16777217)):d?d!==r.memoizedState?(Yi(l),ue(l),g0(l,d)):(ue(l),l.flags&=-16777217):(r.memoizedProps!==p&&Yi(l),ue(l),l.flags&=-16777217),null;case 27:Ee(l),d=ot.current;var b=l.type;if(r!==null&&l.stateNode!=null)r.memoizedProps!==p&&Yi(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return ue(l),null}r=J.current,Io(l)?$y(l):(r=gx(b,p,d),l.stateNode=r,Yi(l))}return ue(l),null;case 5:if(Ee(l),d=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==p&&Yi(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return ue(l),null}if(r=J.current,Io(l))$y(l);else{switch(b=ku(ot.current),r){case 1:r=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof p.is=="string"?b.createElement("select",{is:p.is}):b.createElement("select"),p.multiple?r.multiple=!0:p.size&&(r.size=p.size);break;default:r=typeof p.is=="string"?b.createElement(d,{is:p.is}):b.createElement(d)}}r[Je]=l,r[hn]=p;t:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)r.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break t;for(;b.sibling===null;){if(b.return===null||b.return===l)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=r;t:switch(Xe(r,d,p),d){case"button":case"input":case"select":case"textarea":r=!!p.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Yi(l)}}return ue(l),l.flags&=-16777217,null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==p&&Yi(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(r=ot.current,Io(l)){if(r=l.stateNode,d=l.memoizedProps,p=null,b=cn,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}r[Je]=l,r=!!(r.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||lx(r.nodeValue,d)),r||fa(l)}else r=ku(r).createTextNode(p),r[Je]=l,l.stateNode=r}return ue(l),null;case 13:if(p=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(b=Io(l),p!==null&&p.dehydrated!==null){if(r===null){if(!b)throw Error(n(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Je]=l}else jo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ue(l),b=!1}else b=Wy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(qi(l),l):(qi(l),null)}if(qi(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=p!==null,r=r!==null&&r.memoizedState!==null,d){p=l.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool);var v=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(v=p.memoizedState.cachePool.pool),v!==b&&(p.flags|=2048)}return d!==r&&d&&(l.child.flags|=8192),bu(l,l.updateQueue),ue(l),null;case 4:return Et(),r===null&&Rp(l.stateNode.containerInfo),ue(l),null;case 10:return Gi(l.type),ue(l),null;case 19:if(B(Pe),b=l.memoizedState,b===null)return ue(l),null;if(p=(l.flags&128)!==0,v=b.rendering,v===null)if(p)Jo(b,!1);else{if(ge!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(v=hu(r),v!==null){for(l.flags|=128,Jo(b,!1),r=v.updateQueue,l.updateQueue=r,bu(l,r),l.subtreeFlags=0,r=d,d=l.child;d!==null;)Vy(d,r),d=d.sibling;return G(Pe,Pe.current&1|2),l.child}r=r.sibling}b.tail!==null&&qe()>xu&&(l.flags|=128,p=!0,Jo(b,!1),l.lanes=4194304)}else{if(!p)if(r=hu(v),r!==null){if(l.flags|=128,p=!0,r=r.updateQueue,l.updateQueue=r,bu(l,r),Jo(b,!0),b.tail===null&&b.tailMode==="hidden"&&!v.alternate&&!Gt)return ue(l),null}else 2*qe()-b.renderingStartTime>xu&&d!==536870912&&(l.flags|=128,p=!0,Jo(b,!1),l.lanes=4194304);b.isBackwards?(v.sibling=l.child,l.child=v):(r=b.last,r!==null?r.sibling=v:l.child=v,b.last=v)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=qe(),l.sibling=null,r=Pe.current,G(Pe,p?r&1|2:r&1),l):(ue(l),null);case 22:case 23:return qi(l),kf(),p=l.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(ue(l),l.subtreeFlags&6&&(l.flags|=8192)):ue(l),d=l.updateQueue,d!==null&&bu(l,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),r!==null&&B(ma),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Gi(Le),ue(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function XR(r,l){switch(mf(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return Gi(Le),Et(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return Ee(l),null;case 13:if(qi(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(n(340));jo()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return B(Pe),null;case 4:return Et(),null;case 10:return Gi(l.type),null;case 22:case 23:return qi(l),kf(),r!==null&&B(ma),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return Gi(Le),null;case 25:return null;default:return null}}function m0(r,l){switch(mf(l),l.tag){case 3:Gi(Le),Et();break;case 26:case 27:case 5:Ee(l);break;case 4:Et();break;case 13:qi(l);break;case 19:B(Pe);break;case 10:Gi(l.type);break;case 22:case 23:qi(l),kf(),r!==null&&B(ma);break;case 24:Gi(Le)}}function tl(r,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&r)===r){p=void 0;var v=d.create,E=d.inst;p=v(),E.destroy=p}d=d.next}while(d!==b)}}catch(D){Jt(l,l.return,D)}}function ws(r,l,d){try{var p=l.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var v=b.next;p=v;do{if((p.tag&r)===r){var E=p.inst,D=E.destroy;if(D!==void 0){E.destroy=void 0,b=l;var j=d,q=D;try{q()}catch(tt){Jt(b,j,tt)}}}p=p.next}while(p!==v)}}catch(tt){Jt(l,l.return,tt)}}function b0(r){var l=r.updateQueue;if(l!==null){var d=r.stateNode;try{sv(l,d)}catch(p){Jt(r,r.return,p)}}}function y0(r,l,d){d.props=ya(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(p){Jt(r,l,p)}}function el(r,l){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof d=="function"?r.refCleanup=d(p):d.current=p}}catch(b){Jt(r,l,b)}}function gi(r,l){var d=r.ref,p=r.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(b){Jt(r,l,b)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){Jt(r,l,b)}else d.current=null}function v0(r){var l=r.type,d=r.memoizedProps,p=r.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break t;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(b){Jt(r,r.return,b)}}function sp(r,l,d){try{var p=r.stateNode;mM(p,r.type,d,l),p[hn]=l}catch(b){Jt(r,r.return,b)}}function x0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ms(r.type)||r.tag===4}function ap(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||x0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ms(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function rp(r,l,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(r),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Mu));else if(p!==4&&(p===27&&Ms(r.type)&&(d=r.stateNode,l=null),r=r.child,r!==null))for(rp(r,l,d),r=r.sibling;r!==null;)rp(r,l,d),r=r.sibling}function yu(r,l,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,l?d.insertBefore(r,l):d.appendChild(r);else if(p!==4&&(p===27&&Ms(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(yu(r,l,d),r=r.sibling;r!==null;)yu(r,l,d),r=r.sibling}function w0(r){var l=r.stateNode,d=r.memoizedProps;try{for(var p=r.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Xe(l,p,d),l[Je]=r,l[hn]=d}catch(v){Jt(r,r.return,v)}}var Xi=!1,ve=!1,op=!1,S0=typeof WeakSet=="function"?WeakSet:Set,He=null;function KR(r,l){if(r=r.containerInfo,Dp=Iu,r=Ny(r),af(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else t:{d=(d=r.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var b=p.anchorOffset,v=p.focusNode;p=p.focusOffset;try{d.nodeType,v.nodeType}catch{d=null;break t}var E=0,D=-1,j=-1,q=0,tt=0,it=r,Y=null;e:for(;;){for(var X;it!==d||b!==0&&it.nodeType!==3||(D=E+b),it!==v||p!==0&&it.nodeType!==3||(j=E+p),it.nodeType===3&&(E+=it.nodeValue.length),(X=it.firstChild)!==null;)Y=it,it=X;for(;;){if(it===r)break e;if(Y===d&&++q===b&&(D=E),Y===v&&++tt===p&&(j=E),(X=it.nextSibling)!==null)break;it=Y,Y=it.parentNode}it=X}d=D===-1||j===-1?null:{start:D,end:j}}else d=null}d=d||{start:0,end:0}}else d=null;for(Op={focusedElem:r,selectionRange:d},Iu=!1,He=l;He!==null;)if(l=He,r=l.child,(l.subtreeFlags&1024)!==0&&r!==null)r.return=l,He=r;else for(;He!==null;){switch(l=He,v=l.alternate,r=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,d=l,b=v.memoizedProps,v=v.memoizedState,p=d.stateNode;try{var St=ya(d.type,b,d.elementType===d.type);r=p.getSnapshotBeforeUpdate(St,v),p.__reactInternalSnapshotBeforeUpdate=r}catch(vt){Jt(d,d.return,vt)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,d=r.nodeType,d===9)Pp(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Pp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=l.sibling,r!==null){r.return=l.return,He=r;break}He=l.return}}function _0(r,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Ss(r,d),p&4&&tl(5,d);break;case 1:if(Ss(r,d),p&4)if(r=d.stateNode,l===null)try{r.componentDidMount()}catch(E){Jt(d,d.return,E)}else{var b=ya(d.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(b,l,r.__reactInternalSnapshotBeforeUpdate)}catch(E){Jt(d,d.return,E)}}p&64&&b0(d),p&512&&el(d,d.return);break;case 3:if(Ss(r,d),p&64&&(r=d.updateQueue,r!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{sv(r,l)}catch(E){Jt(d,d.return,E)}}break;case 27:l===null&&p&4&&w0(d);case 26:case 5:Ss(r,d),l===null&&p&4&&v0(d),p&512&&el(d,d.return);break;case 12:Ss(r,d);break;case 13:Ss(r,d),p&4&&C0(r,d),p&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=aM.bind(null,d),_M(r,d))));break;case 22:if(p=d.memoizedState!==null||Xi,!p){l=l!==null&&l.memoizedState!==null||ve,b=Xi;var v=ve;Xi=p,(ve=l)&&!v?_s(r,d,(d.subtreeFlags&8772)!==0):Ss(r,d),Xi=b,ve=v}break;case 30:break;default:Ss(r,d)}}function A0(r){var l=r.alternate;l!==null&&(r.alternate=null,A0(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&zh(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var re=null,gn=!1;function Ki(r,l,d){for(d=d.child;d!==null;)E0(r,l,d),d=d.sibling}function E0(r,l,d){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(ia,d)}catch{}switch(d.tag){case 26:ve||gi(d,l),Ki(r,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:ve||gi(d,l);var p=re,b=gn;Ms(d.type)&&(re=d.stateNode,gn=!1),Ki(r,l,d),ul(d.stateNode),re=p,gn=b;break;case 5:ve||gi(d,l);case 6:if(p=re,b=gn,re=null,Ki(r,l,d),re=p,gn=b,re!==null)if(gn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(d.stateNode)}catch(v){Jt(d,l,v)}else try{re.removeChild(d.stateNode)}catch(v){Jt(d,l,v)}break;case 18:re!==null&&(gn?(r=re,fx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),yl(r)):fx(re,d.stateNode));break;case 4:p=re,b=gn,re=d.stateNode.containerInfo,gn=!0,Ki(r,l,d),re=p,gn=b;break;case 0:case 11:case 14:case 15:ve||ws(2,d,l),ve||ws(4,d,l),Ki(r,l,d);break;case 1:ve||(gi(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&y0(d,l,p)),Ki(r,l,d);break;case 21:Ki(r,l,d);break;case 22:ve=(p=ve)||d.memoizedState!==null,Ki(r,l,d),ve=p;break;default:Ki(r,l,d)}}function C0(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{yl(r)}catch(d){Jt(l,l.return,d)}}function QR(r){switch(r.tag){case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new S0),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new S0),l;default:throw Error(n(435,r.tag))}}function lp(r,l){var d=QR(r);l.forEach(function(p){var b=rM.bind(null,r,p);d.has(p)||(d.add(p),p.then(b,b))})}function Mn(r,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var b=d[p],v=r,E=l,D=E;t:for(;D!==null;){switch(D.tag){case 27:if(Ms(D.type)){re=D.stateNode,gn=!1;break t}break;case 5:re=D.stateNode,gn=!1;break t;case 3:case 4:re=D.stateNode.containerInfo,gn=!0;break t}D=D.return}if(re===null)throw Error(n(160));E0(v,E,b),re=null,gn=!1,v=b.alternate,v!==null&&(v.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)T0(l,r),l=l.sibling}var ai=null;function T0(r,l){var d=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mn(l,r),kn(r),p&4&&(ws(3,r,r.return),tl(3,r),ws(5,r,r.return));break;case 1:Mn(l,r),kn(r),p&512&&(ve||d===null||gi(d,d.return)),p&64&&Xi&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var b=ai;if(Mn(l,r),kn(r),p&512&&(ve||d===null||gi(d,d.return)),p&4){var v=d!==null?d.memoizedState:null;if(p=r.memoizedState,d===null)if(p===null)if(r.stateNode===null){t:{p=r.type,d=r.memoizedProps,b=b.ownerDocument||b;e:switch(p){case"title":v=b.getElementsByTagName("title")[0],(!v||v[Eo]||v[Je]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=b.createElement(p),b.head.insertBefore(v,b.querySelector("head > title"))),Xe(v,p,d),v[Je]=r,ze(v),p=v;break t;case"link":var E=wx("link","href",b).get(p+(d.href||""));if(E){for(var D=0;D<E.length;D++)if(v=E[D],v.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&v.getAttribute("rel")===(d.rel==null?null:d.rel)&&v.getAttribute("title")===(d.title==null?null:d.title)&&v.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){E.splice(D,1);break e}}v=b.createElement(p),Xe(v,p,d),b.head.appendChild(v);break;case"meta":if(E=wx("meta","content",b).get(p+(d.content||""))){for(D=0;D<E.length;D++)if(v=E[D],v.getAttribute("content")===(d.content==null?null:""+d.content)&&v.getAttribute("name")===(d.name==null?null:d.name)&&v.getAttribute("property")===(d.property==null?null:d.property)&&v.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&v.getAttribute("charset")===(d.charSet==null?null:d.charSet)){E.splice(D,1);break e}}v=b.createElement(p),Xe(v,p,d),b.head.appendChild(v);break;default:throw Error(n(468,p))}v[Je]=r,ze(v),p=v}r.stateNode=p}else Sx(b,r.type,r.stateNode);else r.stateNode=xx(b,p,r.memoizedProps);else v!==p?(v===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):v.count--,p===null?Sx(b,r.type,r.stateNode):xx(b,p,r.memoizedProps)):p===null&&r.stateNode!==null&&sp(r,r.memoizedProps,d.memoizedProps)}break;case 27:Mn(l,r),kn(r),p&512&&(ve||d===null||gi(d,d.return)),d!==null&&p&4&&sp(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Mn(l,r),kn(r),p&512&&(ve||d===null||gi(d,d.return)),r.flags&32){b=r.stateNode;try{sr(b,"")}catch(X){Jt(r,r.return,X)}}p&4&&r.stateNode!=null&&(b=r.memoizedProps,sp(r,b,d!==null?d.memoizedProps:b)),p&1024&&(op=!0);break;case 6:if(Mn(l,r),kn(r),p&4){if(r.stateNode===null)throw Error(n(162));p=r.memoizedProps,d=r.stateNode;try{d.nodeValue=p}catch(X){Jt(r,r.return,X)}}break;case 3:if(Nu=null,b=ai,ai=Du(l.containerInfo),Mn(l,r),ai=b,kn(r),p&4&&d!==null&&d.memoizedState.isDehydrated)try{yl(l.containerInfo)}catch(X){Jt(r,r.return,X)}op&&(op=!1,R0(r));break;case 4:p=ai,ai=Du(r.stateNode.containerInfo),Mn(l,r),kn(r),ai=p;break;case 12:Mn(l,r),kn(r);break;case 13:Mn(l,r),kn(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(pp=qe()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,lp(r,p)));break;case 22:b=r.memoizedState!==null;var j=d!==null&&d.memoizedState!==null,q=Xi,tt=ve;if(Xi=q||b,ve=tt||j,Mn(l,r),ve=tt,Xi=q,kn(r),p&8192)t:for(l=r.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(d===null||j||Xi||ve||va(r)),d=null,l=r;;){if(l.tag===5||l.tag===26){if(d===null){j=d=l;try{if(v=j.stateNode,b)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{D=j.stateNode;var it=j.memoizedProps.style,Y=it!=null&&it.hasOwnProperty("display")?it.display:null;D.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){Jt(j,j.return,X)}}}else if(l.tag===6){if(d===null){j=l;try{j.stateNode.nodeValue=b?"":j.memoizedProps}catch(X){Jt(j,j.return,X)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break t;for(;l.sibling===null;){if(l.return===null||l.return===r)break t;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=r.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,lp(r,d))));break;case 19:Mn(l,r),kn(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,lp(r,p)));break;case 30:break;case 21:break;default:Mn(l,r),kn(r)}}function kn(r){var l=r.flags;if(l&2){try{for(var d,p=r.return;p!==null;){if(x0(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var b=d.stateNode,v=ap(r);yu(r,v,b);break;case 5:var E=d.stateNode;d.flags&32&&(sr(E,""),d.flags&=-33);var D=ap(r);yu(r,D,E);break;case 3:case 4:var j=d.stateNode.containerInfo,q=ap(r);rp(r,q,j);break;default:throw Error(n(161))}}catch(tt){Jt(r,r.return,tt)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function R0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;R0(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function Ss(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)_0(r,l.alternate,l),l=l.sibling}function va(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:ws(4,l,l.return),va(l);break;case 1:gi(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&y0(l,l.return,d),va(l);break;case 27:ul(l.stateNode);case 26:case 5:gi(l,l.return),va(l);break;case 22:l.memoizedState===null&&va(l);break;case 30:va(l);break;default:va(l)}r=r.sibling}}function _s(r,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,b=r,v=l,E=v.flags;switch(v.tag){case 0:case 11:case 15:_s(b,v,d),tl(4,v);break;case 1:if(_s(b,v,d),p=v,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(q){Jt(p,p.return,q)}if(p=v,b=p.updateQueue,b!==null){var D=p.stateNode;try{var j=b.shared.hiddenCallbacks;if(j!==null)for(b.shared.hiddenCallbacks=null,b=0;b<j.length;b++)iv(j[b],D)}catch(q){Jt(p,p.return,q)}}d&&E&64&&b0(v),el(v,v.return);break;case 27:w0(v);case 26:case 5:_s(b,v,d),d&&p===null&&E&4&&v0(v),el(v,v.return);break;case 12:_s(b,v,d);break;case 13:_s(b,v,d),d&&E&4&&C0(b,v);break;case 22:v.memoizedState===null&&_s(b,v,d),el(v,v.return);break;case 30:break;default:_s(b,v,d)}l=l.sibling}}function cp(r,l){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&Bo(d))}function up(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Bo(r))}function mi(r,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)M0(r,l,d,p),l=l.sibling}function M0(r,l,d,p){var b=l.flags;switch(l.tag){case 0:case 11:case 15:mi(r,l,d,p),b&2048&&tl(9,l);break;case 1:mi(r,l,d,p);break;case 3:mi(r,l,d,p),b&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Bo(r)));break;case 12:if(b&2048){mi(r,l,d,p),r=l.stateNode;try{var v=l.memoizedProps,E=v.id,D=v.onPostCommit;typeof D=="function"&&D(E,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){Jt(l,l.return,j)}}else mi(r,l,d,p);break;case 13:mi(r,l,d,p);break;case 23:break;case 22:v=l.stateNode,E=l.alternate,l.memoizedState!==null?v._visibility&2?mi(r,l,d,p):nl(r,l):v._visibility&2?mi(r,l,d,p):(v._visibility|=2,_r(r,l,d,p,(l.subtreeFlags&10256)!==0)),b&2048&&cp(E,l);break;case 24:mi(r,l,d,p),b&2048&&up(l.alternate,l);break;default:mi(r,l,d,p)}}function _r(r,l,d,p,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var v=r,E=l,D=d,j=p,q=E.flags;switch(E.tag){case 0:case 11:case 15:_r(v,E,D,j,b),tl(8,E);break;case 23:break;case 22:var tt=E.stateNode;E.memoizedState!==null?tt._visibility&2?_r(v,E,D,j,b):nl(v,E):(tt._visibility|=2,_r(v,E,D,j,b)),b&&q&2048&&cp(E.alternate,E);break;case 24:_r(v,E,D,j,b),b&&q&2048&&up(E.alternate,E);break;default:_r(v,E,D,j,b)}l=l.sibling}}function nl(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=r,p=l,b=p.flags;switch(p.tag){case 22:nl(d,p),b&2048&&cp(p.alternate,p);break;case 24:nl(d,p),b&2048&&up(p.alternate,p);break;default:nl(d,p)}l=l.sibling}}var il=8192;function Ar(r){if(r.subtreeFlags&il)for(r=r.child;r!==null;)k0(r),r=r.sibling}function k0(r){switch(r.tag){case 26:Ar(r),r.flags&il&&r.memoizedState!==null&&IM(ai,r.memoizedState,r.memoizedProps);break;case 5:Ar(r);break;case 3:case 4:var l=ai;ai=Du(r.stateNode.containerInfo),Ar(r),ai=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=il,il=16777216,Ar(r),il=l):Ar(r));break;default:Ar(r)}}function D0(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function sl(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];He=p,N0(p,r)}D0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)O0(r),r=r.sibling}function O0(r){switch(r.tag){case 0:case 11:case 15:sl(r),r.flags&2048&&ws(9,r,r.return);break;case 3:sl(r);break;case 12:sl(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,vu(r)):sl(r);break;default:sl(r)}}function vu(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];He=p,N0(p,r)}D0(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:ws(8,l,l.return),vu(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,vu(l));break;default:vu(l)}r=r.sibling}}function N0(r,l){for(;He!==null;){var d=He;switch(d.tag){case 0:case 11:case 15:ws(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Bo(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,He=p;else t:for(d=r;He!==null;){p=He;var b=p.sibling,v=p.return;if(A0(p),p===d){He=null;break t}if(b!==null){b.return=v,He=b;break t}He=v}}}var ZR={getCacheForType:function(r){var l=tn(Le),d=l.data.get(r);return d===void 0&&(d=r(),l.data.set(r,d)),d}},JR=typeof WeakMap=="function"?WeakMap:Map,qt=0,se=null,Nt=null,Ft=0,Wt=0,Dn=null,As=!1,Er=!1,dp=!1,Qi=0,ge=0,Es=0,xa=0,hp=0,Yn=0,Cr=0,al=null,mn=null,fp=!1,pp=0,xu=1/0,wu=null,Cs=null,Ye=0,Ts=null,Tr=null,Rr=0,gp=0,mp=null,L0=null,rl=0,bp=null;function On(){if((qt&2)!==0&&Ft!==0)return Ft&-Ft;if(L.T!==null){var r=gr;return r!==0?r:Ap()}return Kb()}function P0(){Yn===0&&(Yn=(Ft&536870912)===0||Gt?qb():536870912);var r=Wn.current;return r!==null&&(r.flags|=32),Yn}function Nn(r,l,d){(r===se&&(Wt===2||Wt===9)||r.cancelPendingCommit!==null)&&(Mr(r,0),Rs(r,Ft,Yn,!1)),Ao(r,d),((qt&2)===0||r!==se)&&(r===se&&((qt&2)===0&&(xa|=d),ge===4&&Rs(r,Ft,Yn,!1)),bi(r))}function I0(r,l,d){if((qt&6)!==0)throw Error(n(327));var p=!d&&(l&124)===0&&(l&r.expiredLanes)===0||_o(r,l),b=p?nM(r,l):xp(r,l,!0),v=p;do{if(b===0){Er&&!p&&Rs(r,l,0,!1);break}else{if(d=r.current.alternate,v&&!tM(d)){b=xp(r,l,!1),v=!1;continue}if(b===2){if(v=l,r.errorRecoveryDisabledLanes&v)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){l=E;t:{var D=r;b=al;var j=D.current.memoizedState.isDehydrated;if(j&&(Mr(D,E).flags|=256),E=xp(D,E,!1),E!==2){if(dp&&!j){D.errorRecoveryDisabledLanes|=v,xa|=v,b=4;break t}v=mn,mn=b,v!==null&&(mn===null?mn=v:mn.push.apply(mn,v))}b=E}if(v=!1,b!==2)continue}}if(b===1){Mr(r,0),Rs(r,l,0,!0);break}t:{switch(p=r,v=b,v){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Rs(p,l,Yn,!As);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(b=pp+300-qe(),10<b)){if(Rs(p,l,Yn,!As),Oc(p,0,!0)!==0)break t;p.timeoutHandle=dx(j0.bind(null,p,d,mn,wu,fp,l,Yn,xa,Cr,As,v,2,-0,0),b);break t}j0(p,d,mn,wu,fp,l,Yn,xa,Cr,As,v,0,-0,0)}}break}while(!0);bi(r)}function j0(r,l,d,p,b,v,E,D,j,q,tt,it,Y,X){if(r.timeoutHandle=-1,it=l.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(fl={stylesheets:null,count:0,unsuspend:PM},k0(l),it=jM(),it!==null)){r.cancelPendingCommit=it(G0.bind(null,r,l,v,d,p,b,E,D,j,tt,1,Y,X)),Rs(r,v,E,!q);return}G0(r,l,v,d,p,b,E,D,j)}function tM(r){for(var l=r;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var b=d[p],v=b.getSnapshot;b=b.value;try{if(!Tn(v(),b))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Rs(r,l,d,p){l&=~hp,l&=~xa,r.suspendedLanes|=l,r.pingedLanes&=~l,p&&(r.warmLanes|=l),p=r.expirationTimes;for(var b=l;0<b;){var v=31-fe(b),E=1<<v;p[v]=-1,b&=~E}d!==0&&Yb(r,d,l)}function Su(){return(qt&6)===0?(ol(0),!1):!0}function yp(){if(Nt!==null){if(Wt===0)var r=Nt.return;else r=Nt,Vi=pa=null,Pf(r),wr=null,Qo=0,r=Nt;for(;r!==null;)m0(r.alternate,r),r=r.return;Nt=null}}function Mr(r,l){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,yM(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),yp(),se=r,Nt=d=Bi(r.current,null),Ft=l,Wt=0,Dn=null,As=!1,Er=_o(r,l),dp=!1,Cr=Yn=hp=xa=Es=ge=0,mn=al=null,fp=!1,(l&8)!==0&&(l|=l&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=l;0<p;){var b=31-fe(p),v=1<<b;l|=r[b],p&=~v}return Qi=l,Gc(),d}function F0(r,l){kt=null,L.H=cu,l===Uo||l===Jc?(l=ev(),Wt=3):l===Zy?(l=ev(),Wt=4):Wt=l===n0?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Dn=l,Nt===null&&(ge=1,pu(r,Vn(l,r.current)))}function z0(){var r=L.H;return L.H=cu,r===null?cu:r}function B0(){var r=L.A;return L.A=ZR,r}function vp(){ge=4,As||(Ft&4194048)!==Ft&&Wn.current!==null||(Er=!0),(Es&134217727)===0&&(xa&134217727)===0||se===null||Rs(se,Ft,Yn,!1)}function xp(r,l,d){var p=qt;qt|=2;var b=z0(),v=B0();(se!==r||Ft!==l)&&(wu=null,Mr(r,l)),l=!1;var E=ge;t:do try{if(Wt!==0&&Nt!==null){var D=Nt,j=Dn;switch(Wt){case 8:yp(),E=6;break t;case 3:case 2:case 9:case 6:Wn.current===null&&(l=!0);var q=Wt;if(Wt=0,Dn=null,kr(r,D,j,q),d&&Er){E=0;break t}break;default:q=Wt,Wt=0,Dn=null,kr(r,D,j,q)}}eM(),E=ge;break}catch(tt){F0(r,tt)}while(!0);return l&&r.shellSuspendCounter++,Vi=pa=null,qt=p,L.H=b,L.A=v,Nt===null&&(se=null,Ft=0,Gc()),E}function eM(){for(;Nt!==null;)H0(Nt)}function nM(r,l){var d=qt;qt|=2;var p=z0(),b=B0();se!==r||Ft!==l?(wu=null,xu=qe()+500,Mr(r,l)):Er=_o(r,l);t:do try{if(Wt!==0&&Nt!==null){l=Nt;var v=Dn;e:switch(Wt){case 1:Wt=0,Dn=null,kr(r,l,v,1);break;case 2:case 9:if(Jy(v)){Wt=0,Dn=null,U0(l);break}l=function(){Wt!==2&&Wt!==9||se!==r||(Wt=7),bi(r)},v.then(l,l);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Jy(v)?(Wt=0,Dn=null,U0(l)):(Wt=0,Dn=null,kr(r,l,v,7));break;case 5:var E=null;switch(Nt.tag){case 26:E=Nt.memoizedState;case 5:case 27:var D=Nt;if(!E||_x(E)){Wt=0,Dn=null;var j=D.sibling;if(j!==null)Nt=j;else{var q=D.return;q!==null?(Nt=q,_u(q)):Nt=null}break e}}Wt=0,Dn=null,kr(r,l,v,5);break;case 6:Wt=0,Dn=null,kr(r,l,v,6);break;case 8:yp(),ge=6;break t;default:throw Error(n(462))}}iM();break}catch(tt){F0(r,tt)}while(!0);return Vi=pa=null,L.H=p,L.A=b,qt=d,Nt!==null?0:(se=null,Ft=0,Gc(),ge)}function iM(){for(;Nt!==null&&!be();)H0(Nt)}function H0(r){var l=p0(r.alternate,r,Qi);r.memoizedProps=r.pendingProps,l===null?_u(r):Nt=l}function U0(r){var l=r,d=l.alternate;switch(l.tag){case 15:case 0:l=l0(d,l,l.pendingProps,l.type,void 0,Ft);break;case 11:l=l0(d,l,l.pendingProps,l.type.render,l.ref,Ft);break;case 5:Pf(l);default:m0(d,l),l=Nt=Vy(l,Qi),l=p0(d,l,Qi)}r.memoizedProps=r.pendingProps,l===null?_u(r):Nt=l}function kr(r,l,d,p){Vi=pa=null,Pf(l),wr=null,Qo=0;var b=l.return;try{if(qR(r,b,l,d,Ft)){ge=1,pu(r,Vn(d,r.current)),Nt=null;return}}catch(v){if(b!==null)throw Nt=b,v;ge=1,pu(r,Vn(d,r.current)),Nt=null;return}l.flags&32768?(Gt||p===1?r=!0:Er||(Ft&536870912)!==0?r=!1:(As=r=!0,(p===2||p===9||p===3||p===6)&&(p=Wn.current,p!==null&&p.tag===13&&(p.flags|=16384))),V0(l,r)):_u(l)}function _u(r){var l=r;do{if((l.flags&32768)!==0){V0(l,As);return}r=l.return;var d=YR(l.alternate,l,Qi);if(d!==null){Nt=d;return}if(l=l.sibling,l!==null){Nt=l;return}Nt=l=r}while(l!==null);ge===0&&(ge=5)}function V0(r,l){do{var d=XR(r.alternate,r);if(d!==null){d.flags&=32767,Nt=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(r=r.sibling,r!==null)){Nt=r;return}Nt=r=d}while(r!==null);ge=6,Nt=null}function G0(r,l,d,p,b,v,E,D,j){r.cancelPendingCommit=null;do Au();while(Ye!==0);if((qt&6)!==0)throw Error(n(327));if(l!==null){if(l===r.current)throw Error(n(177));if(v=l.lanes|l.childLanes,v|=uf,PT(r,d,v,E,D,j),r===se&&(Nt=se=null,Ft=0),Tr=l,Ts=r,Rr=d,gp=v,mp=b,L0=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,oM(ji,function(){return X0(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=L.T,L.T=null,b=F.p,F.p=2,E=qt,qt|=4;try{KR(r,l,d)}finally{qt=E,F.p=b,L.T=p}}Ye=1,$0(),q0(),W0()}}function $0(){if(Ye===1){Ye=0;var r=Ts,l=Tr,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=L.T,L.T=null;var p=F.p;F.p=2;var b=qt;qt|=4;try{T0(l,r);var v=Op,E=Ny(r.containerInfo),D=v.focusedElem,j=v.selectionRange;if(E!==D&&D&&D.ownerDocument&&Oy(D.ownerDocument.documentElement,D)){if(j!==null&&af(D)){var q=j.start,tt=j.end;if(tt===void 0&&(tt=q),"selectionStart"in D)D.selectionStart=q,D.selectionEnd=Math.min(tt,D.value.length);else{var it=D.ownerDocument||document,Y=it&&it.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),St=D.textContent.length,vt=Math.min(j.start,St),Qt=j.end===void 0?vt:Math.min(j.end,St);!X.extend&&vt>Qt&&(E=Qt,Qt=vt,vt=E);var U=Dy(D,vt),z=Dy(D,Qt);if(U&&z&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var $=it.createRange();$.setStart(U.node,U.offset),X.removeAllRanges(),vt>Qt?(X.addRange($),X.extend(z.node,z.offset)):($.setEnd(z.node,z.offset),X.addRange($))}}}}for(it=[],X=D;X=X.parentNode;)X.nodeType===1&&it.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<it.length;D++){var nt=it[D];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Iu=!!Dp,Op=Dp=null}finally{qt=b,F.p=p,L.T=d}}r.current=l,Ye=2}}function q0(){if(Ye===2){Ye=0;var r=Ts,l=Tr,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=L.T,L.T=null;var p=F.p;F.p=2;var b=qt;qt|=4;try{_0(r,l.alternate,l)}finally{qt=b,F.p=p,L.T=d}}Ye=3}}function W0(){if(Ye===4||Ye===3){Ye=0,Te();var r=Ts,l=Tr,d=Rr,p=L0;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ye=5:(Ye=0,Tr=Ts=null,Y0(r,r.pendingLanes));var b=r.pendingLanes;if(b===0&&(Cs=null),jh(d),l=l.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(ia,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=L.T,b=F.p,F.p=2,L.T=null;try{for(var v=r.onRecoverableError,E=0;E<p.length;E++){var D=p[E];v(D.value,{componentStack:D.stack})}}finally{L.T=l,F.p=b}}(Rr&3)!==0&&Au(),bi(r),b=r.pendingLanes,(d&4194090)!==0&&(b&42)!==0?r===bp?rl++:(rl=0,bp=r):rl=0,ol(0)}}function Y0(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Bo(l)))}function Au(r){return $0(),q0(),W0(),X0()}function X0(){if(Ye!==5)return!1;var r=Ts,l=gp;gp=0;var d=jh(Rr),p=L.T,b=F.p;try{F.p=32>d?32:d,L.T=null,d=mp,mp=null;var v=Ts,E=Rr;if(Ye=0,Tr=Ts=null,Rr=0,(qt&6)!==0)throw Error(n(331));var D=qt;if(qt|=4,O0(v.current),M0(v,v.current,E,d),qt=D,ol(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(ia,v)}catch{}return!0}finally{F.p=b,L.T=p,Y0(r,l)}}function K0(r,l,d){l=Vn(d,l),l=Xf(r.stateNode,l,2),r=bs(r,l,2),r!==null&&(Ao(r,2),bi(r))}function Jt(r,l,d){if(r.tag===3)K0(r,r,d);else for(;l!==null;){if(l.tag===3){K0(l,r,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Cs===null||!Cs.has(p))){r=Vn(d,r),d=t0(2),p=bs(l,d,2),p!==null&&(e0(d,p,l,r),Ao(p,2),bi(p));break}}l=l.return}}function wp(r,l,d){var p=r.pingCache;if(p===null){p=r.pingCache=new JR;var b=new Set;p.set(l,b)}else b=p.get(l),b===void 0&&(b=new Set,p.set(l,b));b.has(d)||(dp=!0,b.add(d),r=sM.bind(null,r,l,d),l.then(r,r))}function sM(r,l,d){var p=r.pingCache;p!==null&&p.delete(l),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,se===r&&(Ft&d)===d&&(ge===4||ge===3&&(Ft&62914560)===Ft&&300>qe()-pp?(qt&2)===0&&Mr(r,0):hp|=d,Cr===Ft&&(Cr=0)),bi(r)}function Q0(r,l){l===0&&(l=Wb()),r=dr(r,l),r!==null&&(Ao(r,l),bi(r))}function aM(r){var l=r.memoizedState,d=0;l!==null&&(d=l.retryLane),Q0(r,d)}function rM(r,l){var d=0;switch(r.tag){case 13:var p=r.stateNode,b=r.memoizedState;b!==null&&(d=b.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(l),Q0(r,d)}function oM(r,l){return Rt(r,l)}var Eu=null,Dr=null,Sp=!1,Cu=!1,_p=!1,wa=0;function bi(r){r!==Dr&&r.next===null&&(Dr===null?Eu=Dr=r:Dr=Dr.next=r),Cu=!0,Sp||(Sp=!0,cM())}function ol(r,l){if(!_p&&Cu){_p=!0;do for(var d=!1,p=Eu;p!==null;){if(r!==0){var b=p.pendingLanes;if(b===0)var v=0;else{var E=p.suspendedLanes,D=p.pingedLanes;v=(1<<31-fe(42|r)+1)-1,v&=b&~(E&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(d=!0,ex(p,v))}else v=Ft,v=Oc(p,p===se?v:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(v&3)===0||_o(p,v)||(d=!0,ex(p,v));p=p.next}while(d);_p=!1}}function lM(){Z0()}function Z0(){Cu=Sp=!1;var r=0;wa!==0&&(bM()&&(r=wa),wa=0);for(var l=qe(),d=null,p=Eu;p!==null;){var b=p.next,v=J0(p,l);v===0?(p.next=null,d===null?Eu=b:d.next=b,b===null&&(Dr=d)):(d=p,(r!==0||(v&3)!==0)&&(Cu=!0)),p=b}ol(r)}function J0(r,l){for(var d=r.suspendedLanes,p=r.pingedLanes,b=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var E=31-fe(v),D=1<<E,j=b[E];j===-1?((D&d)===0||(D&p)!==0)&&(b[E]=LT(D,l)):j<=l&&(r.expiredLanes|=D),v&=~D}if(l=se,d=Ft,d=Oc(r,r===l?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,d===0||r===l&&(Wt===2||Wt===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&Yt(p),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||_o(r,d)){if(l=d&-d,l===r.callbackPriority)return l;switch(p!==null&&Yt(p),jh(d)){case 2:case 8:d=Rc;break;case 32:d=ji;break;case 268435456:d=Mc;break;default:d=ji}return p=tx.bind(null,r),d=Rt(d,p),r.callbackPriority=l,r.callbackNode=d,l}return p!==null&&p!==null&&Yt(p),r.callbackPriority=2,r.callbackNode=null,2}function tx(r,l){if(Ye!==0&&Ye!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(Au()&&r.callbackNode!==d)return null;var p=Ft;return p=Oc(r,r===se?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(I0(r,p,l),J0(r,qe()),r.callbackNode!=null&&r.callbackNode===d?tx.bind(null,r):null)}function ex(r,l){if(Au())return null;I0(r,l,!0)}function cM(){vM(function(){(qt&6)!==0?Rt(Ka,lM):Z0()})}function Ap(){return wa===0&&(wa=qb()),wa}function nx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:jc(""+r)}function ix(r,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,r.id&&d.setAttribute("form",r.id),l.parentNode.insertBefore(d,l),r=new FormData(r),d.parentNode.removeChild(d),r}function uM(r,l,d,p,b){if(l==="submit"&&d&&d.stateNode===b){var v=nx((b[hn]||null).action),E=p.submitter;E&&(l=(l=E[hn]||null)?nx(l.formAction):E.getAttribute("formAction"),l!==null&&(v=l,E=null));var D=new Hc("action","action",null,p,b);r.push({event:D,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(wa!==0){var j=E?ix(b,E):new FormData(b);Gf(d,{pending:!0,data:j,method:b.method,action:v},null,j)}}else typeof v=="function"&&(D.preventDefault(),j=E?ix(b,E):new FormData(b),Gf(d,{pending:!0,data:j,method:b.method,action:v},v,j))},currentTarget:b}]})}}for(var Ep=0;Ep<cf.length;Ep++){var Cp=cf[Ep],dM=Cp.toLowerCase(),hM=Cp[0].toUpperCase()+Cp.slice(1);si(dM,"on"+hM)}si(Iy,"onAnimationEnd"),si(jy,"onAnimationIteration"),si(Fy,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(MR,"onTransitionRun"),si(kR,"onTransitionStart"),si(DR,"onTransitionCancel"),si(zy,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function sx(r,l){l=(l&4)!==0;for(var d=0;d<r.length;d++){var p=r[d],b=p.event;p=p.listeners;t:{var v=void 0;if(l)for(var E=p.length-1;0<=E;E--){var D=p[E],j=D.instance,q=D.currentTarget;if(D=D.listener,j!==v&&b.isPropagationStopped())break t;v=D,b.currentTarget=q;try{v(b)}catch(tt){fu(tt)}b.currentTarget=null,v=j}else for(E=0;E<p.length;E++){if(D=p[E],j=D.instance,q=D.currentTarget,D=D.listener,j!==v&&b.isPropagationStopped())break t;v=D,b.currentTarget=q;try{v(b)}catch(tt){fu(tt)}b.currentTarget=null,v=j}}}}function Lt(r,l){var d=l[Fh];d===void 0&&(d=l[Fh]=new Set);var p=r+"__bubble";d.has(p)||(ax(l,r,2,!1),d.add(p))}function Tp(r,l,d){var p=0;l&&(p|=4),ax(d,r,p,l)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function Rp(r){if(!r[Tu]){r[Tu]=!0,Zb.forEach(function(d){d!=="selectionchange"&&(fM.has(d)||Tp(d,!1,r),Tp(d,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[Tu]||(l[Tu]=!0,Tp("selectionchange",!1,l))}}function ax(r,l,d,p){switch(Mx(l)){case 2:var b=BM;break;case 8:b=HM;break;default:b=Up}d=b.bind(null,l,d,r),b=void 0,!Xh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),p?b!==void 0?r.addEventListener(l,d,{capture:!0,passive:b}):r.addEventListener(l,d,!0):b!==void 0?r.addEventListener(l,d,{passive:b}):r.addEventListener(l,d,!1)}function Mp(r,l,d,p,b){var v=p;if((l&1)===0&&(l&2)===0&&p!==null)t:for(;;){if(p===null)return;var E=p.tag;if(E===3||E===4){var D=p.stateNode.containerInfo;if(D===b)break;if(E===4)for(E=p.return;E!==null;){var j=E.tag;if((j===3||j===4)&&E.stateNode.containerInfo===b)return;E=E.return}for(;D!==null;){if(E=Za(D),E===null)return;if(j=E.tag,j===5||j===6||j===26||j===27){p=v=E;continue t}D=D.parentNode}}p=p.return}hy(function(){var q=v,tt=Wh(d),it=[];t:{var Y=By.get(r);if(Y!==void 0){var X=Hc,St=r;switch(r){case"keypress":if(zc(d)===0)break t;case"keydown":case"keyup":X=oR;break;case"focusin":St="focus",X=Jh;break;case"focusout":St="blur",X=Jh;break;case"beforeblur":case"afterblur":X=Jh;break;case"click":if(d.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=XT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=uR;break;case Iy:case jy:case Fy:X=ZT;break;case zy:X=hR;break;case"scroll":case"scrollend":X=WT;break;case"wheel":X=pR;break;case"copy":case"cut":case"paste":X=tR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=by;break;case"toggle":case"beforetoggle":X=mR}var vt=(l&4)!==0,Qt=!vt&&(r==="scroll"||r==="scrollend"),U=vt?Y!==null?Y+"Capture":null:Y;vt=[];for(var z=q,$;z!==null;){var nt=z;if($=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||$===null||U===null||(nt=To(z,U),nt!=null&&vt.push(cl(z,nt,$))),Qt)break;z=z.return}0<vt.length&&(Y=new X(Y,St,null,d,tt),it.push({event:Y,listeners:vt}))}}if((l&7)===0){t:{if(Y=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",Y&&d!==qh&&(St=d.relatedTarget||d.fromElement)&&(Za(St)||St[Qa]))break t;if((X||Y)&&(Y=tt.window===tt?tt:(Y=tt.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(St=d.relatedTarget||d.toElement,X=q,St=St?Za(St):null,St!==null&&(Qt=a(St),vt=St.tag,St!==Qt||vt!==5&&vt!==27&&vt!==6)&&(St=null)):(X=null,St=q),X!==St)){if(vt=gy,nt="onMouseLeave",U="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(vt=by,nt="onPointerLeave",U="onPointerEnter",z="pointer"),Qt=X==null?Y:Co(X),$=St==null?Y:Co(St),Y=new vt(nt,z+"leave",X,d,tt),Y.target=Qt,Y.relatedTarget=$,nt=null,Za(tt)===q&&(vt=new vt(U,z+"enter",St,d,tt),vt.target=$,vt.relatedTarget=Qt,nt=vt),Qt=nt,X&&St)e:{for(vt=X,U=St,z=0,$=vt;$;$=Or($))z++;for($=0,nt=U;nt;nt=Or(nt))$++;for(;0<z-$;)vt=Or(vt),z--;for(;0<$-z;)U=Or(U),$--;for(;z--;){if(vt===U||U!==null&&vt===U.alternate)break e;vt=Or(vt),U=Or(U)}vt=null}else vt=null;X!==null&&rx(it,Y,X,vt,!1),St!==null&&Qt!==null&&rx(it,Qt,St,vt,!0)}}t:{if(Y=q?Co(q):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var ht=Ey;else if(_y(Y))if(Cy)ht=CR;else{ht=AR;var Ot=_R}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&$h(q.elementType)&&(ht=Ey):ht=ER;if(ht&&(ht=ht(r,q))){Ay(it,ht,d,tt);break t}Ot&&Ot(r,Y,q),r==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&Gh(Y,"number",Y.value)}switch(Ot=q?Co(q):window,r){case"focusin":(_y(Ot)||Ot.contentEditable==="true")&&(lr=Ot,rf=q,Po=null);break;case"focusout":Po=rf=lr=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,Ly(it,d,tt);break;case"selectionchange":if(RR)break;case"keydown":case"keyup":Ly(it,d,tt)}var gt;if(ef)t:{switch(r){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else or?wy(r,d)&&(xt="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(xt="onCompositionStart");xt&&(yy&&d.locale!=="ko"&&(or||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&or&&(gt=fy()):(fs=tt,Kh="value"in fs?fs.value:fs.textContent,or=!0)),Ot=Ru(q,xt),0<Ot.length&&(xt=new my(xt,r,null,d,tt),it.push({event:xt,listeners:Ot}),gt?xt.data=gt:(gt=Sy(d),gt!==null&&(xt.data=gt)))),(gt=yR?vR(r,d):xR(r,d))&&(xt=Ru(q,"onBeforeInput"),0<xt.length&&(Ot=new my("onBeforeInput","beforeinput",null,d,tt),it.push({event:Ot,listeners:xt}),Ot.data=gt)),uM(it,r,q,d,tt)}sx(it,l)})}function cl(r,l,d){return{instance:r,listener:l,currentTarget:d}}function Ru(r,l){for(var d=l+"Capture",p=[];r!==null;){var b=r,v=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||v===null||(b=To(r,d),b!=null&&p.unshift(cl(r,b,v)),b=To(r,l),b!=null&&p.push(cl(r,b,v))),r.tag===3)return p;r=r.return}return[]}function Or(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function rx(r,l,d,p,b){for(var v=l._reactName,E=[];d!==null&&d!==p;){var D=d,j=D.alternate,q=D.stateNode;if(D=D.tag,j!==null&&j===p)break;D!==5&&D!==26&&D!==27||q===null||(j=q,b?(q=To(d,v),q!=null&&E.unshift(cl(d,q,j))):b||(q=To(d,v),q!=null&&E.push(cl(d,q,j)))),d=d.return}E.length!==0&&r.push({event:l,listeners:E})}var pM=/\r\n?/g,gM=/\u0000|\uFFFD/g;function ox(r){return(typeof r=="string"?r:""+r).replace(pM,`
`).replace(gM,"")}function lx(r,l){return l=ox(l),ox(r)===l}function Mu(){}function Kt(r,l,d,p,b,v){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||sr(r,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&sr(r,""+p);break;case"className":Lc(r,"class",p);break;case"tabIndex":Lc(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Lc(r,d,p);break;case"style":uy(r,p,v);break;case"data":if(l!=="object"){Lc(r,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){r.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(d);break}p=jc(""+p),r.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(d==="formAction"?(l!=="input"&&Kt(r,l,"name",b.name,b,null),Kt(r,l,"formEncType",b.formEncType,b,null),Kt(r,l,"formMethod",b.formMethod,b,null),Kt(r,l,"formTarget",b.formTarget,b,null)):(Kt(r,l,"encType",b.encType,b,null),Kt(r,l,"method",b.method,b,null),Kt(r,l,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(d);break}p=jc(""+p),r.setAttribute(d,p);break;case"onClick":p!=null&&(r.onclick=Mu);break;case"onScroll":p!=null&&Lt("scroll",r);break;case"onScrollEnd":p!=null&&Lt("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));r.innerHTML=d}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}d=jc(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,""+p):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":p===!0?r.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,p):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(d,p):r.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(d):r.setAttribute(d,p);break;case"popover":Lt("beforetoggle",r),Lt("toggle",r),Nc(r,"popover",p);break;case"xlinkActuate":Fi(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Fi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Fi(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Fi(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Fi(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Fi(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Fi(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Fi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Fi(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Nc(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=$T.get(d)||d,Nc(r,d,p))}}function kp(r,l,d,p,b,v){switch(d){case"style":uy(r,p,v);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));r.innerHTML=d}}break;case"children":typeof p=="string"?sr(r,p):(typeof p=="number"||typeof p=="bigint")&&sr(r,""+p);break;case"onScroll":p!=null&&Lt("scroll",r);break;case"onScrollEnd":p!=null&&Lt("scrollend",r);break;case"onClick":p!=null&&(r.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jb.hasOwnProperty(d))t:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),l=d.slice(2,b?d.length-7:void 0),v=r[hn]||null,v=v!=null?v[d]:null,typeof v=="function"&&r.removeEventListener(l,v,b),typeof p=="function")){typeof v!="function"&&v!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(l,p,b);break t}d in r?r[d]=p:p===!0?r.setAttribute(d,""):Nc(r,d,p)}}}function Xe(r,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",r),Lt("load",r);var p=!1,b=!1,v;for(v in d)if(d.hasOwnProperty(v)){var E=d[v];if(E!=null)switch(v){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Kt(r,l,v,E,d,null)}}b&&Kt(r,l,"srcSet",d.srcSet,d,null),p&&Kt(r,l,"src",d.src,d,null);return;case"input":Lt("invalid",r);var D=v=E=b=null,j=null,q=null;for(p in d)if(d.hasOwnProperty(p)){var tt=d[p];if(tt!=null)switch(p){case"name":b=tt;break;case"type":E=tt;break;case"checked":j=tt;break;case"defaultChecked":q=tt;break;case"value":v=tt;break;case"defaultValue":D=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(137,l));break;default:Kt(r,l,p,tt,d,null)}}ry(r,v,D,j,q,E,b,!1),Pc(r);return;case"select":Lt("invalid",r),p=E=v=null;for(b in d)if(d.hasOwnProperty(b)&&(D=d[b],D!=null))switch(b){case"value":v=D;break;case"defaultValue":E=D;break;case"multiple":p=D;default:Kt(r,l,b,D,d,null)}l=v,d=E,r.multiple=!!p,l!=null?ir(r,!!p,l,!1):d!=null&&ir(r,!!p,d,!0);return;case"textarea":Lt("invalid",r),v=b=p=null;for(E in d)if(d.hasOwnProperty(E)&&(D=d[E],D!=null))switch(E){case"value":p=D;break;case"defaultValue":b=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:Kt(r,l,E,D,d,null)}ly(r,p,b,v),Pc(r);return;case"option":for(j in d)if(d.hasOwnProperty(j)&&(p=d[j],p!=null))switch(j){case"selected":r.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Kt(r,l,j,p,d,null)}return;case"dialog":Lt("beforetoggle",r),Lt("toggle",r),Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":Lt("load",r);break;case"video":case"audio":for(p=0;p<ll.length;p++)Lt(ll[p],r);break;case"image":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"embed":case"source":case"link":Lt("error",r),Lt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in d)if(d.hasOwnProperty(q)&&(p=d[q],p!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Kt(r,l,q,p,d,null)}return;default:if($h(l)){for(tt in d)d.hasOwnProperty(tt)&&(p=d[tt],p!==void 0&&kp(r,l,tt,p,d,void 0));return}}for(D in d)d.hasOwnProperty(D)&&(p=d[D],p!=null&&Kt(r,l,D,p,d,null))}function mM(r,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,v=null,E=null,D=null,j=null,q=null,tt=null;for(X in d){var it=d[X];if(d.hasOwnProperty(X)&&it!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":j=it;default:p.hasOwnProperty(X)||Kt(r,l,X,null,p,it)}}for(var Y in p){var X=p[Y];if(it=d[Y],p.hasOwnProperty(Y)&&(X!=null||it!=null))switch(Y){case"type":v=X;break;case"name":b=X;break;case"checked":q=X;break;case"defaultChecked":tt=X;break;case"value":E=X;break;case"defaultValue":D=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,l));break;default:X!==it&&Kt(r,l,Y,X,p,it)}}Vh(r,E,D,j,q,tt,v,b);return;case"select":X=E=D=Y=null;for(v in d)if(j=d[v],d.hasOwnProperty(v)&&j!=null)switch(v){case"value":break;case"multiple":X=j;default:p.hasOwnProperty(v)||Kt(r,l,v,null,p,j)}for(b in p)if(v=p[b],j=d[b],p.hasOwnProperty(b)&&(v!=null||j!=null))switch(b){case"value":Y=v;break;case"defaultValue":D=v;break;case"multiple":E=v;default:v!==j&&Kt(r,l,b,v,p,j)}l=D,d=E,p=X,Y!=null?ir(r,!!d,Y,!1):!!p!=!!d&&(l!=null?ir(r,!!d,l,!0):ir(r,!!d,d?[]:"",!1));return;case"textarea":X=Y=null;for(D in d)if(b=d[D],d.hasOwnProperty(D)&&b!=null&&!p.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Kt(r,l,D,null,p,b)}for(E in p)if(b=p[E],v=d[E],p.hasOwnProperty(E)&&(b!=null||v!=null))switch(E){case"value":Y=b;break;case"defaultValue":X=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==v&&Kt(r,l,E,b,p,v)}oy(r,Y,X);return;case"option":for(var St in d)if(Y=d[St],d.hasOwnProperty(St)&&Y!=null&&!p.hasOwnProperty(St))switch(St){case"selected":r.selected=!1;break;default:Kt(r,l,St,null,p,Y)}for(j in p)if(Y=p[j],X=d[j],p.hasOwnProperty(j)&&Y!==X&&(Y!=null||X!=null))switch(j){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Kt(r,l,j,Y,p,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in d)Y=d[vt],d.hasOwnProperty(vt)&&Y!=null&&!p.hasOwnProperty(vt)&&Kt(r,l,vt,null,p,Y);for(q in p)if(Y=p[q],X=d[q],p.hasOwnProperty(q)&&Y!==X&&(Y!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(137,l));break;default:Kt(r,l,q,Y,p,X)}return;default:if($h(l)){for(var Qt in d)Y=d[Qt],d.hasOwnProperty(Qt)&&Y!==void 0&&!p.hasOwnProperty(Qt)&&kp(r,l,Qt,void 0,p,Y);for(tt in p)Y=p[tt],X=d[tt],!p.hasOwnProperty(tt)||Y===X||Y===void 0&&X===void 0||kp(r,l,tt,Y,p,X);return}}for(var U in d)Y=d[U],d.hasOwnProperty(U)&&Y!=null&&!p.hasOwnProperty(U)&&Kt(r,l,U,null,p,Y);for(it in p)Y=p[it],X=d[it],!p.hasOwnProperty(it)||Y===X||Y==null&&X==null||Kt(r,l,it,Y,p,X)}var Dp=null,Op=null;function ku(r){return r.nodeType===9?r:r.ownerDocument}function cx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ux(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function Np(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Lp=null;function bM(){var r=window.event;return r&&r.type==="popstate"?r===Lp?!1:(Lp=r,!0):(Lp=null,!1)}var dx=typeof setTimeout=="function"?setTimeout:void 0,yM=typeof clearTimeout=="function"?clearTimeout:void 0,hx=typeof Promise=="function"?Promise:void 0,vM=typeof queueMicrotask=="function"?queueMicrotask:typeof hx<"u"?function(r){return hx.resolve(null).then(r).catch(xM)}:dx;function xM(r){setTimeout(function(){throw r})}function Ms(r){return r==="head"}function fx(r,l){var d=l,p=0,b=0;do{var v=d.nextSibling;if(r.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(0<p&&8>p){d=p;var E=r.ownerDocument;if(d&1&&ul(E.documentElement),d&2&&ul(E.body),d&4)for(d=E.head,ul(d),E=d.firstChild;E;){var D=E.nextSibling,j=E.nodeName;E[Eo]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&E.rel.toLowerCase()==="stylesheet"||d.removeChild(E),E=D}}if(b===0){r.removeChild(v),yl(l);return}b--}else d==="$"||d==="$?"||d==="$!"?b++:p=d.charCodeAt(0)-48;else p=0;d=v}while(d);yl(l)}function Pp(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Pp(d),zh(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function wM(r,l,d,p){for(;r.nodeType===1;){var b=d;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[Eo])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==b.rel||r.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||r.getAttribute("title")!==(b.title==null?null:b.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(b.src==null?null:b.src)||r.getAttribute("type")!==(b.type==null?null:b.type)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var v=b.name==null?null:""+b.name;if(b.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=ri(r.nextSibling),r===null)break}return null}function SM(r,l,d){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=ri(r.nextSibling),r===null))return null;return r}function Ip(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function _M(r,l){var d=r.ownerDocument;if(r.data!=="$?"||d.readyState==="complete")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function ri(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return r}var jp=null;function px(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return r;l--}else d==="/$"&&l++}r=r.previousSibling}return null}function gx(r,l,d){switch(l=ku(d),r){case"html":if(r=l.documentElement,!r)throw Error(n(452));return r;case"head":if(r=l.head,!r)throw Error(n(453));return r;case"body":if(r=l.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function ul(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);zh(r)}var Xn=new Map,mx=new Set;function Du(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Zi=F.d;F.d={f:AM,r:EM,D:CM,C:TM,L:RM,m:MM,X:DM,S:kM,M:OM};function AM(){var r=Zi.f(),l=Su();return r||l}function EM(r){var l=Ja(r);l!==null&&l.tag===5&&l.type==="form"?Iv(l):Zi.r(r)}var Nr=typeof document>"u"?null:document;function bx(r,l,d){var p=Nr;if(p&&typeof l=="string"&&l){var b=Un(l);b='link[rel="'+r+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),mx.has(b)||(mx.add(b),r={rel:r,crossOrigin:d,href:l},p.querySelector(b)===null&&(l=p.createElement("link"),Xe(l,"link",r),ze(l),p.head.appendChild(l)))}}function CM(r){Zi.D(r),bx("dns-prefetch",r,null)}function TM(r,l){Zi.C(r,l),bx("preconnect",r,l)}function RM(r,l,d){Zi.L(r,l,d);var p=Nr;if(p&&r&&l){var b='link[rel="preload"][as="'+Un(l)+'"]';l==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Un(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Un(d.imageSizes)+'"]')):b+='[href="'+Un(r)+'"]';var v=b;switch(l){case"style":v=Lr(r);break;case"script":v=Pr(r)}Xn.has(v)||(r=f({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:r,as:l},d),Xn.set(v,r),p.querySelector(b)!==null||l==="style"&&p.querySelector(dl(v))||l==="script"&&p.querySelector(hl(v))||(l=p.createElement("link"),Xe(l,"link",r),ze(l),p.head.appendChild(l)))}}function MM(r,l){Zi.m(r,l);var d=Nr;if(d&&r){var p=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Un(p)+'"][href="'+Un(r)+'"]',v=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Pr(r)}if(!Xn.has(v)&&(r=f({rel:"modulepreload",href:r},l),Xn.set(v,r),d.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(hl(v)))return}p=d.createElement("link"),Xe(p,"link",r),ze(p),d.head.appendChild(p)}}}function kM(r,l,d){Zi.S(r,l,d);var p=Nr;if(p&&r){var b=tr(p).hoistableStyles,v=Lr(r);l=l||"default";var E=b.get(v);if(!E){var D={loading:0,preload:null};if(E=p.querySelector(dl(v)))D.loading=5;else{r=f({rel:"stylesheet",href:r,"data-precedence":l},d),(d=Xn.get(v))&&Fp(r,d);var j=E=p.createElement("link");ze(j),Xe(j,"link",r),j._p=new Promise(function(q,tt){j.onload=q,j.onerror=tt}),j.addEventListener("load",function(){D.loading|=1}),j.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Ou(E,l,p)}E={type:"stylesheet",instance:E,count:1,state:D},b.set(v,E)}}}function DM(r,l){Zi.X(r,l);var d=Nr;if(d&&r){var p=tr(d).hoistableScripts,b=Pr(r),v=p.get(b);v||(v=d.querySelector(hl(b)),v||(r=f({src:r,async:!0},l),(l=Xn.get(b))&&zp(r,l),v=d.createElement("script"),ze(v),Xe(v,"link",r),d.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(b,v))}}function OM(r,l){Zi.M(r,l);var d=Nr;if(d&&r){var p=tr(d).hoistableScripts,b=Pr(r),v=p.get(b);v||(v=d.querySelector(hl(b)),v||(r=f({src:r,async:!0,type:"module"},l),(l=Xn.get(b))&&zp(r,l),v=d.createElement("script"),ze(v),Xe(v,"link",r),d.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(b,v))}}function yx(r,l,d,p){var b=(b=ot.current)?Du(b):null;if(!b)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Lr(d.href),d=tr(b).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=Lr(d.href);var v=tr(b).hoistableStyles,E=v.get(r);if(E||(b=b.ownerDocument||b,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,E),(v=b.querySelector(dl(r)))&&!v._p&&(E.instance=v,E.state.loading=5),Xn.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Xn.set(r,d),v||NM(b,r,d,E.state))),l&&p===null)throw Error(n(528,""));return E}if(l&&p!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Pr(d),d=tr(b).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function Lr(r){return'href="'+Un(r)+'"'}function dl(r){return'link[rel="stylesheet"]['+r+"]"}function vx(r){return f({},r,{"data-precedence":r.precedence,precedence:null})}function NM(r,l,d,p){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=r.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Xe(l,"link",d),ze(l),r.head.appendChild(l))}function Pr(r){return'[src="'+Un(r)+'"]'}function hl(r){return"script[async]"+r}function xx(r,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=r.querySelector('style[data-href~="'+Un(d.href)+'"]');if(p)return l.instance=p,ze(p),p;var b=f({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),ze(p),Xe(p,"style",b),Ou(p,d.precedence,r),l.instance=p;case"stylesheet":b=Lr(d.href);var v=r.querySelector(dl(b));if(v)return l.state.loading|=4,l.instance=v,ze(v),v;p=vx(d),(b=Xn.get(b))&&Fp(p,b),v=(r.ownerDocument||r).createElement("link"),ze(v);var E=v;return E._p=new Promise(function(D,j){E.onload=D,E.onerror=j}),Xe(v,"link",p),l.state.loading|=4,Ou(v,d.precedence,r),l.instance=v;case"script":return v=Pr(d.src),(b=r.querySelector(hl(v)))?(l.instance=b,ze(b),b):(p=d,(b=Xn.get(v))&&(p=f({},d),zp(p,b)),r=r.ownerDocument||r,b=r.createElement("script"),ze(b),Xe(b,"link",p),r.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Ou(p,d.precedence,r));return l.instance}function Ou(r,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,v=b,E=0;E<p.length;E++){var D=p[E];if(D.dataset.precedence===l)v=D;else if(v!==b)break}v?v.parentNode.insertBefore(r,v.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(r,l.firstChild))}function Fp(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function zp(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var Nu=null;function wx(r,l,d){if(Nu===null){var p=new Map,b=Nu=new Map;b.set(d,p)}else b=Nu,p=b.get(d),p||(p=new Map,b.set(d,p));if(p.has(r))return p;for(p.set(r,null),d=d.getElementsByTagName(r),b=0;b<d.length;b++){var v=d[b];if(!(v[Eo]||v[Je]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(l)||"";E=r+E;var D=p.get(E);D?D.push(v):p.set(E,[v])}}return p}function Sx(r,l,d){r=r.ownerDocument||r,r.head.insertBefore(d,l==="title"?r.querySelector("head > title"):null)}function LM(r,l,d){if(d===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function _x(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var fl=null;function PM(){}function IM(r,l,d){if(fl===null)throw Error(n(475));var p=fl;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=Lr(d.href),v=r.querySelector(dl(b));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(p.count++,p=Lu.bind(p),r.then(p,p)),l.state.loading|=4,l.instance=v,ze(v);return}v=r.ownerDocument||r,d=vx(d),(b=Xn.get(b))&&Fp(d,b),v=v.createElement("link"),ze(v);var E=v;E._p=new Promise(function(D,j){E.onload=D,E.onerror=j}),Xe(v,"link",d),l.instance=v}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=Lu.bind(p),r.addEventListener("load",l),r.addEventListener("error",l))}}function jM(){if(fl===null)throw Error(n(475));var r=fl;return r.stylesheets&&r.count===0&&Bp(r,r.stylesheets),0<r.count?function(l){var d=setTimeout(function(){if(r.stylesheets&&Bp(r,r.stylesheets),r.unsuspend){var p=r.unsuspend;r.unsuspend=null,p()}},6e4);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(d)}}:null}function Lu(){if(this.count--,this.count===0){if(this.stylesheets)Bp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Pu=null;function Bp(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Pu=new Map,l.forEach(FM,r),Pu=null,Lu.call(r))}function FM(r,l){if(!(l.state.loading&4)){var d=Pu.get(r);if(d)var p=d.get(null);else{d=new Map,Pu.set(r,d);for(var b=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<b.length;v++){var E=b[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(d.set(E.dataset.precedence,E),p=E)}p&&d.set(null,p)}b=l.instance,E=b.getAttribute("data-precedence"),v=d.get(E)||p,v===p&&d.set(null,b),d.set(E,b),this.count++,p=Lu.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),v?v.parentNode.insertBefore(b,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(b,r.firstChild)),l.state.loading|=4}}var pl={$$typeof:C,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function zM(r,l,d,p,b,v,E,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ph(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ph(0),this.hiddenUpdates=Ph(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ax(r,l,d,p,b,v,E,D,j,q,tt,it){return r=new zM(r,l,d,E,D,j,q,it),l=1,v===!0&&(l|=24),v=Rn(3,null,null,l),r.current=v,v.stateNode=r,l=wf(),l.refCount++,r.pooledCache=l,l.refCount++,v.memoizedState={element:p,isDehydrated:d,cache:l},Ef(v),r}function Ex(r){return r?(r=hr,r):hr}function Cx(r,l,d,p,b,v){b=Ex(b),p.context===null?p.context=b:p.pendingContext=b,p=ms(l),p.payload={element:d},v=v===void 0?null:v,v!==null&&(p.callback=v),d=bs(r,p,l),d!==null&&(Nn(d,r,l),Go(d,r,l))}function Tx(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<l?d:l}}function Hp(r,l){Tx(r,l),(r=r.alternate)&&Tx(r,l)}function Rx(r){if(r.tag===13){var l=dr(r,67108864);l!==null&&Nn(l,r,67108864),Hp(r,67108864)}}var Iu=!0;function BM(r,l,d,p){var b=L.T;L.T=null;var v=F.p;try{F.p=2,Up(r,l,d,p)}finally{F.p=v,L.T=b}}function HM(r,l,d,p){var b=L.T;L.T=null;var v=F.p;try{F.p=8,Up(r,l,d,p)}finally{F.p=v,L.T=b}}function Up(r,l,d,p){if(Iu){var b=Vp(p);if(b===null)Mp(r,l,p,ju,d),kx(r,p);else if(VM(b,r,l,d,p))p.stopPropagation();else if(kx(r,p),l&4&&-1<UM.indexOf(r)){for(;b!==null;){var v=Ja(b);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=sa(v.pendingLanes);if(E!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;E;){var j=1<<31-fe(E);D.entanglements[1]|=j,E&=~j}bi(v),(qt&6)===0&&(xu=qe()+500,ol(0))}}break;case 13:D=dr(v,2),D!==null&&Nn(D,v,2),Su(),Hp(v,2)}if(v=Vp(p),v===null&&Mp(r,l,p,ju,d),v===b)break;b=v}b!==null&&p.stopPropagation()}else Mp(r,l,p,null,d)}}function Vp(r){return r=Wh(r),Gp(r)}var ju=null;function Gp(r){if(ju=null,r=Za(r),r!==null){var l=a(r);if(l===null)r=null;else{var d=l.tag;if(d===13){if(r=o(l),r!==null)return r;r=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return ju=r,null}function Mx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(na()){case Ka:return 2;case Rc:return 8;case ji:case Oh:return 32;case Mc:return 268435456;default:return 32}default:return 32}}var $p=!1,ks=null,Ds=null,Os=null,gl=new Map,ml=new Map,Ns=[],UM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kx(r,l){switch(r){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":gl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(l.pointerId)}}function bl(r,l,d,p,b,v){return r===null||r.nativeEvent!==v?(r={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:v,targetContainers:[b]},l!==null&&(l=Ja(l),l!==null&&Rx(l)),r):(r.eventSystemFlags|=p,l=r.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),r)}function VM(r,l,d,p,b){switch(l){case"focusin":return ks=bl(ks,r,l,d,p,b),!0;case"dragenter":return Ds=bl(Ds,r,l,d,p,b),!0;case"mouseover":return Os=bl(Os,r,l,d,p,b),!0;case"pointerover":var v=b.pointerId;return gl.set(v,bl(gl.get(v)||null,r,l,d,p,b)),!0;case"gotpointercapture":return v=b.pointerId,ml.set(v,bl(ml.get(v)||null,r,l,d,p,b)),!0}return!1}function Dx(r){var l=Za(r.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){r.blockedOn=l,IT(r.priority,function(){if(d.tag===13){var p=On();p=Ih(p);var b=dr(d,p);b!==null&&Nn(b,d,p),Hp(d,p)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fu(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var d=Vp(r.nativeEvent);if(d===null){d=r.nativeEvent;var p=new d.constructor(d.type,d);qh=p,d.target.dispatchEvent(p),qh=null}else return l=Ja(d),l!==null&&Rx(l),r.blockedOn=d,!1;l.shift()}return!0}function Ox(r,l,d){Fu(r)&&d.delete(l)}function GM(){$p=!1,ks!==null&&Fu(ks)&&(ks=null),Ds!==null&&Fu(Ds)&&(Ds=null),Os!==null&&Fu(Os)&&(Os=null),gl.forEach(Ox),ml.forEach(Ox)}function zu(r,l){r.blockedOn===l&&(r.blockedOn=null,$p||($p=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,GM)))}var Bu=null;function Nx(r){Bu!==r&&(Bu=r,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Bu===r&&(Bu=null);for(var l=0;l<r.length;l+=3){var d=r[l],p=r[l+1],b=r[l+2];if(typeof p!="function"){if(Gp(p||d)===null)continue;break}var v=Ja(d);v!==null&&(r.splice(l,3),l-=3,Gf(v,{pending:!0,data:b,method:d.method,action:p},p,b))}}))}function yl(r){function l(j){return zu(j,r)}ks!==null&&zu(ks,r),Ds!==null&&zu(Ds,r),Os!==null&&zu(Os,r),gl.forEach(l),ml.forEach(l);for(var d=0;d<Ns.length;d++){var p=Ns[d];p.blockedOn===r&&(p.blockedOn=null)}for(;0<Ns.length&&(d=Ns[0],d.blockedOn===null);)Dx(d),d.blockedOn===null&&Ns.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var b=d[p],v=d[p+1],E=b[hn]||null;if(typeof v=="function")E||Nx(d);else if(E){var D=null;if(v&&v.hasAttribute("formAction")){if(b=v,E=v[hn]||null)D=E.formAction;else if(Gp(b)!==null)continue}else D=E.action;typeof D=="function"?d[p+1]=D:(d.splice(p,3),p-=3),Nx(d)}}}function qp(r){this._internalRoot=r}Hu.prototype.render=qp.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,p=On();Cx(d,p,r,l,null,null)},Hu.prototype.unmount=qp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;Cx(r.current,2,null,r,null,null),Su(),l[Qa]=null}};function Hu(r){this._internalRoot=r}Hu.prototype.unstable_scheduleHydration=function(r){if(r){var l=Kb();r={blockedOn:null,target:r,priority:l};for(var d=0;d<Ns.length&&l!==0&&l<Ns[d].priority;d++);Ns.splice(d,0,r),d===0&&Dx(r)}};var Lx=t.version;if(Lx!=="19.1.1")throw Error(n(527,Lx,"19.1.1"));F.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=u(l),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var $M={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{ia=Uu.inject($M),he=Uu}catch{}}return xl.createRoot=function(r,l){if(!s(r))throw Error(n(299));var d=!1,p="",b=Kv,v=Qv,E=Zv,D=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(D=l.unstable_transitionCallbacks)),l=Ax(r,1,!1,null,null,d,p,b,v,E,D,null),r[Qa]=l.current,Rp(r),new qp(l)},xl.hydrateRoot=function(r,l,d){if(!s(r))throw Error(n(299));var p=!1,b="",v=Kv,E=Qv,D=Zv,j=null,q=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(v=d.onUncaughtError),d.onCaughtError!==void 0&&(E=d.onCaughtError),d.onRecoverableError!==void 0&&(D=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(j=d.unstable_transitionCallbacks),d.formState!==void 0&&(q=d.formState)),l=Ax(r,1,!0,l,d??null,p,b,v,E,D,j,q),l.context=Ex(null),d=l.current,p=On(),p=Ih(p),b=ms(p),b.callback=null,bs(d,b,p),d=p,l.current.lanes=d,Ao(l,d),bi(l),r[Qa]=l.current,Rp(r),new Hu(l)},xl.version="19.1.1",xl}var qx;function ek(){if(qx)return Kp.exports;qx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Kp.exports=tk(),Kp.exports}var nk=ek();function G_(i,t){return function(){return i.apply(t,arguments)}}const{toString:ik}=Object.prototype,{getPrototypeOf:Rm}=Object,{iterator:eh,toStringTag:$_}=Symbol,nh=(i=>t=>{const e=ik.call(t);return i[e]||(i[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),di=i=>(i=i.toLowerCase(),t=>nh(t)===i),ih=i=>t=>typeof t===i,{isArray:fo}=Array,Kl=ih("undefined");function lc(i){return i!==null&&!Kl(i)&&i.constructor!==null&&!Kl(i.constructor)&&An(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const q_=di("ArrayBuffer");function sk(i){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(i):t=i&&i.buffer&&q_(i.buffer),t}const ak=ih("string"),An=ih("function"),W_=ih("number"),cc=i=>i!==null&&typeof i=="object",rk=i=>i===!0||i===!1,wd=i=>{if(nh(i)!=="object")return!1;const t=Rm(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!($_ in i)&&!(eh in i)},ok=i=>{if(!cc(i)||lc(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},lk=di("Date"),ck=di("File"),uk=di("Blob"),dk=di("FileList"),hk=i=>cc(i)&&An(i.pipe),fk=i=>{let t;return i&&(typeof FormData=="function"&&i instanceof FormData||An(i.append)&&((t=nh(i))==="formdata"||t==="object"&&An(i.toString)&&i.toString()==="[object FormData]"))},pk=di("URLSearchParams"),[gk,mk,bk,yk]=["ReadableStream","Request","Response","Headers"].map(di),vk=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uc(i,t,{allOwnKeys:e=!1}={}){if(i===null||typeof i>"u")return;let n,s;if(typeof i!="object"&&(i=[i]),fo(i))for(n=0,s=i.length;n<s;n++)t.call(null,i[n],n,i);else{if(lc(i))return;const a=e?Object.getOwnPropertyNames(i):Object.keys(i),o=a.length;let c;for(n=0;n<o;n++)c=a[n],t.call(null,i[c],c,i)}}function Y_(i,t){if(lc(i))return null;t=t.toLowerCase();const e=Object.keys(i);let n=e.length,s;for(;n-- >0;)if(s=e[n],t===s.toLowerCase())return s;return null}const Ma=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,X_=i=>!Kl(i)&&i!==Ma;function Ug(){const{caseless:i}=X_(this)&&this||{},t={},e=(n,s)=>{const a=i&&Y_(t,s)||s;wd(t[a])&&wd(n)?t[a]=Ug(t[a],n):wd(n)?t[a]=Ug({},n):fo(n)?t[a]=n.slice():t[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&uc(arguments[n],e);return t}const xk=(i,t,e,{allOwnKeys:n}={})=>(uc(t,(s,a)=>{e&&An(s)?i[a]=G_(s,e):i[a]=s},{allOwnKeys:n}),i),wk=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),Sk=(i,t,e,n)=>{i.prototype=Object.create(t.prototype,n),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:t.prototype}),e&&Object.assign(i.prototype,e)},_k=(i,t,e,n)=>{let s,a,o;const c={};if(t=t||{},i==null)return t;do{for(s=Object.getOwnPropertyNames(i),a=s.length;a-- >0;)o=s[a],(!n||n(o,i,t))&&!c[o]&&(t[o]=i[o],c[o]=!0);i=e!==!1&&Rm(i)}while(i&&(!e||e(i,t))&&i!==Object.prototype);return t},Ak=(i,t,e)=>{i=String(i),(e===void 0||e>i.length)&&(e=i.length),e-=t.length;const n=i.indexOf(t,e);return n!==-1&&n===e},Ek=i=>{if(!i)return null;if(fo(i))return i;let t=i.length;if(!W_(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=i[t];return e},Ck=(i=>t=>i&&t instanceof i)(typeof Uint8Array<"u"&&Rm(Uint8Array)),Tk=(i,t)=>{const n=(i&&i[eh]).call(i);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(i,a[0],a[1])}},Rk=(i,t)=>{let e;const n=[];for(;(e=i.exec(t))!==null;)n.push(e);return n},Mk=di("HTMLFormElement"),kk=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,s){return n.toUpperCase()+s}),Wx=(({hasOwnProperty:i})=>(t,e)=>i.call(t,e))(Object.prototype),Dk=di("RegExp"),K_=(i,t)=>{const e=Object.getOwnPropertyDescriptors(i),n={};uc(e,(s,a)=>{let o;(o=t(s,a,i))!==!1&&(n[a]=o||s)}),Object.defineProperties(i,n)},Ok=i=>{K_(i,(t,e)=>{if(An(i)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=i[e];if(An(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},Nk=(i,t)=>{const e={},n=s=>{s.forEach(a=>{e[a]=!0})};return fo(i)?n(i):n(String(i).split(t)),e},Lk=()=>{},Pk=(i,t)=>i!=null&&Number.isFinite(i=+i)?i:t;function Ik(i){return!!(i&&An(i.append)&&i[$_]==="FormData"&&i[eh])}const jk=i=>{const t=new Array(10),e=(n,s)=>{if(cc(n)){if(t.indexOf(n)>=0)return;if(lc(n))return n;if(!("toJSON"in n)){t[s]=n;const a=fo(n)?[]:{};return uc(n,(o,c)=>{const u=e(o,s+1);!Kl(u)&&(a[c]=u)}),t[s]=void 0,a}}return n};return e(i,0)},Fk=di("AsyncFunction"),zk=i=>i&&(cc(i)||An(i))&&An(i.then)&&An(i.catch),Q_=((i,t)=>i?setImmediate:t?((e,n)=>(Ma.addEventListener("message",({source:s,data:a})=>{s===Ma&&a===e&&n.length&&n.shift()()},!1),s=>{n.push(s),Ma.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",An(Ma.postMessage)),Bk=typeof queueMicrotask<"u"?queueMicrotask.bind(Ma):typeof process<"u"&&process.nextTick||Q_,Hk=i=>i!=null&&An(i[eh]),Q={isArray:fo,isArrayBuffer:q_,isBuffer:lc,isFormData:fk,isArrayBufferView:sk,isString:ak,isNumber:W_,isBoolean:rk,isObject:cc,isPlainObject:wd,isEmptyObject:ok,isReadableStream:gk,isRequest:mk,isResponse:bk,isHeaders:yk,isUndefined:Kl,isDate:lk,isFile:ck,isBlob:uk,isRegExp:Dk,isFunction:An,isStream:hk,isURLSearchParams:pk,isTypedArray:Ck,isFileList:dk,forEach:uc,merge:Ug,extend:xk,trim:vk,stripBOM:wk,inherits:Sk,toFlatObject:_k,kindOf:nh,kindOfTest:di,endsWith:Ak,toArray:Ek,forEachEntry:Tk,matchAll:Rk,isHTMLForm:Mk,hasOwnProperty:Wx,hasOwnProp:Wx,reduceDescriptors:K_,freezeMethods:Ok,toObjectSet:Nk,toCamelCase:kk,noop:Lk,toFiniteNumber:Pk,findKey:Y_,global:Ma,isContextDefined:X_,isSpecCompliantForm:Ik,toJSONObject:jk,isAsyncFn:Fk,isThenable:zk,setImmediate:Q_,asap:Bk,isIterable:Hk};function Ct(i,t,e,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Q.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const Z_=Ct.prototype,J_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{J_[i]={value:i}});Object.defineProperties(Ct,J_);Object.defineProperty(Z_,"isAxiosError",{value:!0});Ct.from=(i,t,e,n,s,a)=>{const o=Object.create(Z_);return Q.toFlatObject(i,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),Ct.call(o,i.message,t,e,n,s),o.cause=i,o.name=i.name,a&&Object.assign(o,a),o};const Uk=null;function Vg(i){return Q.isPlainObject(i)||Q.isArray(i)}function tA(i){return Q.endsWith(i,"[]")?i.slice(0,-2):i}function Yx(i,t,e){return i?i.concat(t).map(function(s,a){return s=tA(s),!e&&a?"["+s+"]":s}).join(e?".":""):t}function Vk(i){return Q.isArray(i)&&!i.some(Vg)}const Gk=Q.toFlatObject(Q,{},null,function(t){return/^is[A-Z]/.test(t)});function sh(i,t,e){if(!Q.isObject(i))throw new TypeError("target must be an object");t=t||new FormData,e=Q.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,S){return!Q.isUndefined(S[x])});const n=e.metaTokens,s=e.visitor||f,a=e.dots,o=e.indexes,u=(e.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(t);if(!Q.isFunction(s))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(Q.isDate(w))return w.toISOString();if(Q.isBoolean(w))return w.toString();if(!u&&Q.isBlob(w))throw new Ct("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(w)||Q.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function f(w,x,S){let _=w;if(w&&!S&&typeof w=="object"){if(Q.endsWith(x,"{}"))x=n?x:x.slice(0,-2),w=JSON.stringify(w);else if(Q.isArray(w)&&Vk(w)||(Q.isFileList(w)||Q.endsWith(x,"[]"))&&(_=Q.toArray(w)))return x=tA(x),_.forEach(function(C,k){!(Q.isUndefined(C)||C===null)&&t.append(o===!0?Yx([x],k,a):o===null?x:x+"[]",h(C))}),!1}return Vg(w)?!0:(t.append(Yx(S,x,a),h(w)),!1)}const g=[],m=Object.assign(Gk,{defaultVisitor:f,convertValue:h,isVisitable:Vg});function y(w,x){if(!Q.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+x.join("."));g.push(w),Q.forEach(w,function(_,T){(!(Q.isUndefined(_)||_===null)&&s.call(t,_,Q.isString(T)?T.trim():T,x,m))===!0&&y(_,x?x.concat(T):[T])}),g.pop()}}if(!Q.isObject(i))throw new TypeError("data must be an object");return y(i),t}function Xx(i){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Mm(i,t){this._pairs=[],i&&sh(i,this,t)}const eA=Mm.prototype;eA.append=function(t,e){this._pairs.push([t,e])};eA.toString=function(t){const e=t?function(n){return t.call(this,n,Xx)}:Xx;return this._pairs.map(function(s){return e(s[0])+"="+e(s[1])},"").join("&")};function $k(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nA(i,t,e){if(!t)return i;const n=e&&e.encode||$k;Q.isFunction(e)&&(e={serialize:e});const s=e&&e.serialize;let a;if(s?a=s(t,e):a=Q.isURLSearchParams(t)?t.toString():new Mm(t,e).toString(n),a){const o=i.indexOf("#");o!==-1&&(i=i.slice(0,o)),i+=(i.indexOf("?")===-1?"?":"&")+a}return i}class Kx{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Q.forEach(this.handlers,function(n){n!==null&&t(n)})}}const iA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qk=typeof URLSearchParams<"u"?URLSearchParams:Mm,Wk=typeof FormData<"u"?FormData:null,Yk=typeof Blob<"u"?Blob:null,Xk={isBrowser:!0,classes:{URLSearchParams:qk,FormData:Wk,Blob:Yk},protocols:["http","https","file","blob","url","data"]},km=typeof window<"u"&&typeof document<"u",Gg=typeof navigator=="object"&&navigator||void 0,Kk=km&&(!Gg||["ReactNative","NativeScript","NS"].indexOf(Gg.product)<0),Qk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zk=km&&window.location.href||"http://localhost",Jk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:km,hasStandardBrowserEnv:Kk,hasStandardBrowserWebWorkerEnv:Qk,navigator:Gg,origin:Zk},Symbol.toStringTag,{value:"Module"})),rn={...Jk,...Xk};function t2(i,t){return sh(i,new rn.classes.URLSearchParams,{visitor:function(e,n,s,a){return rn.isNode&&Q.isBuffer(e)?(this.append(n,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function e2(i){return Q.matchAll(/\w+|\[(\w*)]/g,i).map(t=>t[0]==="[]"?"":t[1]||t[0])}function n2(i){const t={},e=Object.keys(i);let n;const s=e.length;let a;for(n=0;n<s;n++)a=e[n],t[a]=i[a];return t}function sA(i){function t(e,n,s,a){let o=e[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=a>=e.length;return o=!o&&Q.isArray(s)?s.length:o,u?(Q.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!c):((!s[o]||!Q.isObject(s[o]))&&(s[o]=[]),t(e,n,s[o],a)&&Q.isArray(s[o])&&(s[o]=n2(s[o])),!c)}if(Q.isFormData(i)&&Q.isFunction(i.entries)){const e={};return Q.forEachEntry(i,(n,s)=>{t(e2(n),s,e,0)}),e}return null}function i2(i,t,e){if(Q.isString(i))try{return(t||JSON.parse)(i),Q.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(i)}const dc={transitional:iA,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",s=n.indexOf("application/json")>-1,a=Q.isObject(t);if(a&&Q.isHTMLForm(t)&&(t=new FormData(t)),Q.isFormData(t))return s?JSON.stringify(sA(t)):t;if(Q.isArrayBuffer(t)||Q.isBuffer(t)||Q.isStream(t)||Q.isFile(t)||Q.isBlob(t)||Q.isReadableStream(t))return t;if(Q.isArrayBufferView(t))return t.buffer;if(Q.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return t2(t,this.formSerializer).toString();if((c=Q.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return sh(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||s?(e.setContentType("application/json",!1),i2(t)):t}],transformResponse:[function(t){const e=this.transitional||dc.transitional,n=e&&e.forcedJSONParsing,s=this.responseType==="json";if(Q.isResponse(t)||Q.isReadableStream(t))return t;if(t&&Q.isString(t)&&(n&&!this.responseType||s)){const o=!(e&&e.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?Ct.from(c,Ct.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rn.classes.FormData,Blob:rn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],i=>{dc.headers[i]={}});const s2=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),a2=i=>{const t={};let e,n,s;return i&&i.split(`
`).forEach(function(o){s=o.indexOf(":"),e=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!e||t[e]&&s2[e])&&(e==="set-cookie"?t[e]?t[e].push(n):t[e]=[n]:t[e]=t[e]?t[e]+", "+n:n)}),t},Qx=Symbol("internals");function wl(i){return i&&String(i).trim().toLowerCase()}function Sd(i){return i===!1||i==null?i:Q.isArray(i)?i.map(Sd):String(i)}function r2(i){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(i);)t[n[1]]=n[2];return t}const o2=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function tg(i,t,e,n,s){if(Q.isFunction(n))return n.call(this,t,e);if(s&&(t=e),!!Q.isString(t)){if(Q.isString(n))return t.indexOf(n)!==-1;if(Q.isRegExp(n))return n.test(t)}}function l2(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function c2(i,t){const e=Q.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(i,n+e,{value:function(s,a,o){return this[n].call(this,t,s,a,o)},configurable:!0})})}let En=class{constructor(t){t&&this.set(t)}set(t,e,n){const s=this;function a(c,u,h){const f=wl(u);if(!f)throw new Error("header name must be a non-empty string");const g=Q.findKey(s,f);(!g||s[g]===void 0||h===!0||h===void 0&&s[g]!==!1)&&(s[g||u]=Sd(c))}const o=(c,u)=>Q.forEach(c,(h,f)=>a(h,f,u));if(Q.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(Q.isString(t)&&(t=t.trim())&&!o2(t))o(a2(t),e);else if(Q.isObject(t)&&Q.isIterable(t)){let c={},u,h;for(const f of t){if(!Q.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[h=f[0]]=(u=c[h])?Q.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(c,e)}else t!=null&&a(e,t,n);return this}get(t,e){if(t=wl(t),t){const n=Q.findKey(this,t);if(n){const s=this[n];if(!e)return s;if(e===!0)return r2(s);if(Q.isFunction(e))return e.call(this,s,n);if(Q.isRegExp(e))return e.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=wl(t),t){const n=Q.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||tg(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let s=!1;function a(o){if(o=wl(o),o){const c=Q.findKey(n,o);c&&(!e||tg(n,n[c],c,e))&&(delete n[c],s=!0)}}return Q.isArray(t)?t.forEach(a):a(t),s}clear(t){const e=Object.keys(this);let n=e.length,s=!1;for(;n--;){const a=e[n];(!t||tg(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const e=this,n={};return Q.forEach(this,(s,a)=>{const o=Q.findKey(n,a);if(o){e[o]=Sd(s),delete e[a];return}const c=t?l2(a):String(a).trim();c!==a&&delete e[a],e[c]=Sd(s),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Q.forEach(this,(n,s)=>{n!=null&&n!==!1&&(e[s]=t&&Q.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Qx]=this[Qx]={accessors:{}}).accessors,s=this.prototype;function a(o){const c=wl(o);n[c]||(c2(s,o),n[c]=!0)}return Q.isArray(t)?t.forEach(a):a(t),this}};En.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(En.prototype,({value:i},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(n){this[e]=n}}});Q.freezeMethods(En);function eg(i,t){const e=this||dc,n=t||e,s=En.from(n.headers);let a=n.data;return Q.forEach(i,function(c){a=c.call(e,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function aA(i){return!!(i&&i.__CANCEL__)}function po(i,t,e){Ct.call(this,i??"canceled",Ct.ERR_CANCELED,t,e),this.name="CanceledError"}Q.inherits(po,Ct,{__CANCEL__:!0});function rA(i,t,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?i(e):t(new Ct("Request failed with status code "+e.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function u2(i){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return t&&t[1]||""}function d2(i,t){i=i||10;const e=new Array(i),n=new Array(i);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(u){const h=Date.now(),f=n[a];o||(o=h),e[s]=u,n[s]=h;let g=a,m=0;for(;g!==s;)m+=e[g++],g=g%i;if(s=(s+1)%i,s===a&&(a=(a+1)%i),h-o<t)return;const y=f&&h-f;return y?Math.round(m*1e3/y):void 0}}function h2(i,t){let e=0,n=1e3/t,s,a;const o=(h,f=Date.now())=>{e=f,s=null,a&&(clearTimeout(a),a=null),i(...h)};return[(...h)=>{const f=Date.now(),g=f-e;g>=n?o(h,f):(s=h,a||(a=setTimeout(()=>{a=null,o(s)},n-g)))},()=>s&&o(s)]}const Nd=(i,t,e=3)=>{let n=0;const s=d2(50,250);return h2(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,u=o-n,h=s(u),f=o<=c;n=o;const g={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:h||void 0,estimated:h&&c&&f?(c-o)/h:void 0,event:a,lengthComputable:c!=null,[t?"download":"upload"]:!0};i(g)},e)},Zx=(i,t)=>{const e=i!=null;return[n=>t[0]({lengthComputable:e,total:i,loaded:n}),t[1]]},Jx=i=>(...t)=>Q.asap(()=>i(...t)),f2=rn.hasStandardBrowserEnv?((i,t)=>e=>(e=new URL(e,rn.origin),i.protocol===e.protocol&&i.host===e.host&&(t||i.port===e.port)))(new URL(rn.origin),rn.navigator&&/(msie|trident)/i.test(rn.navigator.userAgent)):()=>!0,p2=rn.hasStandardBrowserEnv?{write(i,t,e,n,s,a){const o=[i+"="+encodeURIComponent(t)];Q.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),Q.isString(n)&&o.push("path="+n),Q.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(i){const t=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function g2(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function m2(i,t){return t?i.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):i}function oA(i,t,e){let n=!g2(t);return i&&(n||e==!1)?m2(i,t):t}const tw=i=>i instanceof En?{...i}:i;function ja(i,t){t=t||{};const e={};function n(h,f,g,m){return Q.isPlainObject(h)&&Q.isPlainObject(f)?Q.merge.call({caseless:m},h,f):Q.isPlainObject(f)?Q.merge({},f):Q.isArray(f)?f.slice():f}function s(h,f,g,m){if(Q.isUndefined(f)){if(!Q.isUndefined(h))return n(void 0,h,g,m)}else return n(h,f,g,m)}function a(h,f){if(!Q.isUndefined(f))return n(void 0,f)}function o(h,f){if(Q.isUndefined(f)){if(!Q.isUndefined(h))return n(void 0,h)}else return n(void 0,f)}function c(h,f,g){if(g in t)return n(h,f);if(g in i)return n(void 0,h)}const u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,f,g)=>s(tw(h),tw(f),g,!0)};return Q.forEach(Object.keys({...i,...t}),function(f){const g=u[f]||s,m=g(i[f],t[f],f);Q.isUndefined(m)&&g!==c||(e[f]=m)}),e}const lA=i=>{const t=ja({},i);let{data:e,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:c}=t;t.headers=o=En.from(o),t.url=nA(oA(t.baseURL,t.url,t.allowAbsoluteUrls),i.params,i.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(Q.isFormData(e)){if(rn.hasStandardBrowserEnv||rn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[h,...f]=u?u.split(";").map(g=>g.trim()).filter(Boolean):[];o.setContentType([h||"multipart/form-data",...f].join("; "))}}if(rn.hasStandardBrowserEnv&&(n&&Q.isFunction(n)&&(n=n(t)),n||n!==!1&&f2(t.url))){const h=s&&a&&p2.read(a);h&&o.set(s,h)}return t},b2=typeof XMLHttpRequest<"u",y2=b2&&function(i){return new Promise(function(e,n){const s=lA(i);let a=s.data;const o=En.from(s.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:h}=s,f,g,m,y,w;function x(){y&&y(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function _(){if(!S)return;const C=En.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),R={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:C,config:i,request:S};rA(function(N){e(N),x()},function(N){n(N),x()},R),S=null}"onloadend"in S?S.onloadend=_:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(_)},S.onabort=function(){S&&(n(new Ct("Request aborted",Ct.ECONNABORTED,i,S)),S=null)},S.onerror=function(){n(new Ct("Network Error",Ct.ERR_NETWORK,i,S)),S=null},S.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||iA;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new Ct(k,R.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,i,S)),S=null},a===void 0&&o.setContentType(null),"setRequestHeader"in S&&Q.forEach(o.toJSON(),function(k,R){S.setRequestHeader(R,k)}),Q.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),c&&c!=="json"&&(S.responseType=s.responseType),h&&([m,w]=Nd(h,!0),S.addEventListener("progress",m)),u&&S.upload&&([g,y]=Nd(u),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(f=C=>{S&&(n(!C||C.type?new po(null,i,S):C),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const T=u2(s.url);if(T&&rn.protocols.indexOf(T)===-1){n(new Ct("Unsupported protocol "+T+":",Ct.ERR_BAD_REQUEST,i));return}S.send(a||null)})},v2=(i,t)=>{const{length:e}=i=i?i.filter(Boolean):[];if(t||e){let n=new AbortController,s;const a=function(h){if(!s){s=!0,c();const f=h instanceof Error?h:this.reason;n.abort(f instanceof Ct?f:new po(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,a(new Ct(`timeout ${t} of ms exceeded`,Ct.ETIMEDOUT))},t);const c=()=>{i&&(o&&clearTimeout(o),o=null,i.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),i=null)};i.forEach(h=>h.addEventListener("abort",a));const{signal:u}=n;return u.unsubscribe=()=>Q.asap(c),u}},x2=function*(i,t){let e=i.byteLength;if(e<t){yield i;return}let n=0,s;for(;n<e;)s=n+t,yield i.slice(n,s),n=s},w2=async function*(i,t){for await(const e of S2(i))yield*x2(e,t)},S2=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const t=i.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},ew=(i,t,e,n)=>{const s=w2(i,t);let a=0,o,c=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await s.next();if(h){c(),u.close();return}let g=f.byteLength;if(e){let m=a+=g;e(m)}u.enqueue(new Uint8Array(f))}catch(h){throw c(h),h}},cancel(u){return c(u),s.return()}},{highWaterMark:2})},ah=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cA=ah&&typeof ReadableStream=="function",_2=ah&&(typeof TextEncoder=="function"?(i=>t=>i.encode(t))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),uA=(i,...t)=>{try{return!!i(...t)}catch{return!1}},A2=cA&&uA(()=>{let i=!1;const t=new Request(rn.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!t}),nw=64*1024,$g=cA&&uA(()=>Q.isReadableStream(new Response("").body)),Ld={stream:$g&&(i=>i.body)};ah&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ld[t]&&(Ld[t]=Q.isFunction(i[t])?e=>e[t]():(e,n)=>{throw new Ct(`Response type '${t}' is not supported`,Ct.ERR_NOT_SUPPORT,n)})})})(new Response);const E2=async i=>{if(i==null)return 0;if(Q.isBlob(i))return i.size;if(Q.isSpecCompliantForm(i))return(await new Request(rn.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(i)||Q.isArrayBuffer(i))return i.byteLength;if(Q.isURLSearchParams(i)&&(i=i+""),Q.isString(i))return(await _2(i)).byteLength},C2=async(i,t)=>{const e=Q.toFiniteNumber(i.getContentLength());return e??E2(t)},T2=ah&&(async i=>{let{url:t,method:e,data:n,signal:s,cancelToken:a,timeout:o,onDownloadProgress:c,onUploadProgress:u,responseType:h,headers:f,withCredentials:g="same-origin",fetchOptions:m}=lA(i);h=h?(h+"").toLowerCase():"text";let y=v2([s,a&&a.toAbortSignal()],o),w;const x=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let S;try{if(u&&A2&&e!=="get"&&e!=="head"&&(S=await C2(f,n))!==0){let R=new Request(t,{method:"POST",body:n,duplex:"half"}),O;if(Q.isFormData(n)&&(O=R.headers.get("content-type"))&&f.setContentType(O),R.body){const[N,P]=Zx(S,Nd(Jx(u)));n=ew(R.body,nw,N,P)}}Q.isString(g)||(g=g?"include":"omit");const _="credentials"in Request.prototype;w=new Request(t,{...m,signal:y,method:e.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:_?g:void 0});let T=await fetch(w,m);const C=$g&&(h==="stream"||h==="response");if($g&&(c||C&&x)){const R={};["status","statusText","headers"].forEach(H=>{R[H]=T[H]});const O=Q.toFiniteNumber(T.headers.get("content-length")),[N,P]=c&&Zx(O,Nd(Jx(c),!0))||[];T=new Response(ew(T.body,nw,N,()=>{P&&P(),x&&x()}),R)}h=h||"text";let k=await Ld[Q.findKey(Ld,h)||"text"](T,i);return!C&&x&&x(),await new Promise((R,O)=>{rA(R,O,{data:k,headers:En.from(T.headers),status:T.status,statusText:T.statusText,config:i,request:w})})}catch(_){throw x&&x(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new Ct("Network Error",Ct.ERR_NETWORK,i,w),{cause:_.cause||_}):Ct.from(_,_&&_.code,i,w)}}),qg={http:Uk,xhr:y2,fetch:T2};Q.forEach(qg,(i,t)=>{if(i){try{Object.defineProperty(i,"name",{value:t})}catch{}Object.defineProperty(i,"adapterName",{value:t})}});const iw=i=>`- ${i}`,R2=i=>Q.isFunction(i)||i===null||i===!1,dA={getAdapter:i=>{i=Q.isArray(i)?i:[i];const{length:t}=i;let e,n;const s={};for(let a=0;a<t;a++){e=i[a];let o;if(n=e,!R2(e)&&(n=qg[(o=String(e)).toLowerCase()],n===void 0))throw new Ct(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+a]=n}if(!n){const a=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(iw).join(`
`):" "+iw(a[0]):"as no adapter specified";throw new Ct("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:qg};function ng(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new po(null,i)}function sw(i){return ng(i),i.headers=En.from(i.headers),i.data=eg.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),dA.getAdapter(i.adapter||dc.adapter)(i).then(function(n){return ng(i),n.data=eg.call(i,i.transformResponse,n),n.headers=En.from(n.headers),n},function(n){return aA(n)||(ng(i),n&&n.response&&(n.response.data=eg.call(i,i.transformResponse,n.response),n.response.headers=En.from(n.response.headers))),Promise.reject(n)})}const hA="1.11.0",rh={};["object","boolean","number","function","string","symbol"].forEach((i,t)=>{rh[i]=function(n){return typeof n===i||"a"+(t<1?"n ":" ")+i}});const aw={};rh.transitional=function(t,e,n){function s(a,o){return"[Axios v"+hA+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,c)=>{if(t===!1)throw new Ct(s(o," has been removed"+(e?" in "+e:"")),Ct.ERR_DEPRECATED);return e&&!aw[o]&&(aw[o]=!0,console.warn(s(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(a,o,c):!0}};rh.spelling=function(t){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function M2(i,t,e){if(typeof i!="object")throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const n=Object.keys(i);let s=n.length;for(;s-- >0;){const a=n[s],o=t[a];if(o){const c=i[a],u=c===void 0||o(c,a,i);if(u!==!0)throw new Ct("option "+a+" must be "+u,Ct.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Ct("Unknown option "+a,Ct.ERR_BAD_OPTION)}}const _d={assertOptions:M2,validators:rh},xi=_d.validators;let Pa=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Kx,response:new Kx}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=ja(this.defaults,e);const{transitional:n,paramsSerializer:s,headers:a}=e;n!==void 0&&_d.assertOptions(n,{silentJSONParsing:xi.transitional(xi.boolean),forcedJSONParsing:xi.transitional(xi.boolean),clarifyTimeoutError:xi.transitional(xi.boolean)},!1),s!=null&&(Q.isFunction(s)?e.paramsSerializer={serialize:s}:_d.assertOptions(s,{encode:xi.function,serialize:xi.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),_d.assertOptions(e,{baseUrl:xi.spelling("baseURL"),withXsrfToken:xi.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=a&&Q.merge(a.common,a[e.method]);a&&Q.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),e.headers=En.concat(o,a);const c=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(e)===!1||(u=u&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const h=[];this.interceptors.response.forEach(function(x){h.push(x.fulfilled,x.rejected)});let f,g=0,m;if(!u){const w=[sw.bind(this),void 0];for(w.unshift(...c),w.push(...h),m=w.length,f=Promise.resolve(e);g<m;)f=f.then(w[g++],w[g++]);return f}m=c.length;let y=e;for(g=0;g<m;){const w=c[g++],x=c[g++];try{y=w(y)}catch(S){x.call(this,S);break}}try{f=sw.call(this,y)}catch(w){return Promise.reject(w)}for(g=0,m=h.length;g<m;)f=f.then(h[g++],h[g++]);return f}getUri(t){t=ja(this.defaults,t);const e=oA(t.baseURL,t.url,t.allowAbsoluteUrls);return nA(e,t.params,t.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(t){Pa.prototype[t]=function(e,n){return this.request(ja(n||{},{method:t,url:e,data:(n||{}).data}))}});Q.forEach(["post","put","patch"],function(t){function e(n){return function(a,o,c){return this.request(ja(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Pa.prototype[t]=e(),Pa.prototype[t+"Form"]=e(!0)});let k2=class fA{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(a){e=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(c=>{n.subscribe(c),a=c}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,c){n.reason||(n.reason=new po(a,o,c),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=n=>{t.abort(n)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new fA(function(s){t=s}),cancel:t}}};function D2(i){return function(e){return i.apply(null,e)}}function O2(i){return Q.isObject(i)&&i.isAxiosError===!0}const Wg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wg).forEach(([i,t])=>{Wg[t]=i});function pA(i){const t=new Pa(i),e=G_(Pa.prototype.request,t);return Q.extend(e,Pa.prototype,t,{allOwnKeys:!0}),Q.extend(e,t,null,{allOwnKeys:!0}),e.create=function(s){return pA(ja(i,s))},e}const _e=pA(dc);_e.Axios=Pa;_e.CanceledError=po;_e.CancelToken=k2;_e.isCancel=aA;_e.VERSION=hA;_e.toFormData=sh;_e.AxiosError=Ct;_e.Cancel=_e.CanceledError;_e.all=function(t){return Promise.all(t)};_e.spread=D2;_e.isAxiosError=O2;_e.mergeConfig=ja;_e.AxiosHeaders=En;_e.formToJSON=i=>sA(Q.isHTMLForm(i)?new FormData(i):i);_e.getAdapter=dA.getAdapter;_e.HttpStatusCode=Wg;_e.default=_e;const{Axios:u5,AxiosError:d5,CanceledError:h5,isCancel:f5,CancelToken:p5,VERSION:g5,all:m5,Cancel:b5,isAxiosError:y5,spread:v5,toFormData:x5,AxiosHeaders:w5,HttpStatusCode:S5,formToJSON:_5,getAdapter:A5,mergeConfig:E5}=_e;class N2{httpClient;constructor(t){this.httpClient=t}async title(){const t="/titulo";try{const{data:e}=await this.httpClient.get(`/config${t}`);return e.map(s=>({id:s.id,name:s.nombre}))}catch{return[{id:0,name:"ELECCION DE AUTORIDADES Y REPRESENTANTES DEL ESTADO PLURINACIONAL 2025"},{id:1,name:"SISTEMA DE CONSOLIDACIÓN OFICIAL DE RESULTADOS DE CÓMPUTO EN PROCESO"}]}}}const L2=({children:i})=>A.jsxs("header",{className:"w-full flex flex-col gap-4",children:[A.jsxs("div",{className:"w-full flex justify-between md:grid md:grid-cols-[auto_1fr_auto] place-items-center",children:[A.jsx("section",{className:"p-4 flex justify-center items-center",children:A.jsx("div",{className:"relative max-w-[140px] md:max-w-[200px]",children:A.jsx("img",{src:"/oep2.svg",alt:"logo oep",className:"w-full"})})}),A.jsx("section",{className:"hidden md:block",children:i}),A.jsx("section",{className:"p-4 flex justify-center items-center",children:A.jsx("div",{className:"relative max-w-[140px] md:max-w-[200px]",children:A.jsx("img",{src:"/logo-eg-2025-2th-h.webp",alt:"logo elecciones generales 2025",className:"w-full"})})})]}),A.jsx("section",{className:"md:hidden",children:i})]}),rw=i=>{let t;const e=new Set,n=(h,f)=>{const g=typeof h=="function"?h(t):h;if(!Object.is(g,t)){const m=t;t=f??(typeof g!="object"||g===null)?g:Object.assign({},t,g),e.forEach(y=>y(t,m))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:h=>(e.add(h),()=>e.delete(h))},u=t=i(n,s,c);return c},P2=i=>i?rw(i):rw,I2=i=>i;function j2(i,t=I2){const e=Jn.useSyncExternalStore(i.subscribe,()=>t(i.getState()),()=>t(i.getInitialState()));return Jn.useDebugValue(e),e}const ow=i=>{const t=P2(i),e=n=>j2(t,n);return Object.assign(e,t),e},Dm=i=>i?ow(i):ow,F2="https://computo.oep.org.bo/api/v1",oh=_e.create({baseURL:F2,headers:{"Content-Type":"application/json",Accept:"application/json"}}),z2={world:"/presidente",international:"/presidente/exterior",national:"/presidente/nacional",uninominal:"/uninominal",special:"/especial"};class gA{httpClient;constructor(t){this.httpClient=t}async getResults(t,e){const n=z2[t];try{const{data:s}=await this.httpClient.post(`/resultados${n}`,e);return s}catch(s){return console.error(s),{grafica:[],tabla:[],fecha:null}}}async downloadResults(t){try{const{data:e}=await this.httpClient.post("/descargar",{tipoArchivo:t});return e}catch(e){throw console.error("Error downloading file:",e),e}}}const B2=new gA(oh),ao=Dm((i,t)=>({currentView:"mundial",chartType:"bar",chartSortOrder:"default",setChartType:e=>i({chartType:e}),setChartSortOrder:()=>{const e=t().chartSortOrder;let n="default";e==="default"?n="desc":e==="desc"?n="asc":n="default",i({chartSortOrder:n})},selections:{},serverDate:null,availableOptions:{},data:{international:null,national:null,constituencies:null},chartData:null,resultsData:null,isLoading:!1,isDataLoaded:!1,loadInitialData:async()=>{if(!t().isLoading){i({isLoading:!0});try{const[e,n,s]=await Promise.all([fetch("/geografiaExtranjero.json"),fetch("/geografiaNacional.json"),fetch("/geografiaCircunscripcion.json")]),a=await e.json(),o=await n.json(),c=await s.json();i({data:{international:a,national:o,constituencies:c},isDataLoaded:!0}),t().fetchResults()}catch(e){console.error(e)}finally{i({isLoading:!1})}}},setCurrentView:e=>{let n={};e==="national"&&(n={electionType:"presidente"}),i({currentView:e,selections:n,availableOptions:{},chartData:null,resultsData:null,chartSortOrder:"default"}),t().updateAvailableOptions(),t().fetchResults()},updateSelection:(e,n)=>{const{selections:s}=t(),a={...s,[e]:n};e==="electionType"&&(delete a.departamento,delete a.provincia,delete a.municipio,delete a.localidad,delete a.recinto,delete a.circunscripcion);const o=t().getSelectorsForView(),c=o.findIndex(u=>u.key===e);o.slice(c+1).forEach(u=>{delete a[u.key]}),i({selections:a,chartData:null,resultsData:null}),t().updateAvailableOptions(),t().fetchResults()},fetchResults:async()=>{i({isLoading:!0,chartSortOrder:"default"});const{currentView:e,selections:n}=t();let s={idPais:null,idDepartamento:null,idCircunscripcion:null,idProvincia:null,idSeccion:null,idLocalidad:null,idRecinto:null,codigoMesa:null},a="world";switch(e){case"mundial":a="world",s={};break;case"international":a="international",s.idPais=n.pais?Number(n.pais):null,s.idDepartamento=n.ciudad?Number(n.ciudad):null,s.idRecinto=n.recinto?Number(n.recinto):null;break;case"national":const{electionType:o}=n;if(!o){a="national",s={};break}switch(o){case"presidente":a="national",s.idDepartamento=n.departamento?Number(n.departamento):null,s.idProvincia=n.provincia?Number(n.provincia):null,s.idSeccion=n.municipio?Number(n.municipio):null,s.idLocalidad=n.localidad?Number(n.localidad):null,s.idRecinto=n.recinto?Number(n.recinto):null;break;case"uninominal":a="uninominal",s.idDepartamento=n.departamento?Number(n.departamento):null,s.idCircunscripcion=n.circunscripcion?Number(n.circunscripcion):null;break;case"special":a="special",s.idDepartamento=n.departamento?Number(n.departamento):null,s.idCircunscripcion=n.circunscripcion?Number(n.circunscripcion):null;break}break}try{const c=await new gA(oh).getResults(a,s);i({resultsData:c.tabla,chartData:c.grafica,serverDate:c.fecha})}catch(o){console.error({fetchError:o}),i({chartData:null,resultsData:null,serverDate:null})}finally{i({isLoading:!1})}},getSelectorsForView:()=>{const{currentView:e,selections:n}=t();switch(e){case"international":return[{key:"pais",label:"PAÍS",placeholder:"Seleccionar país",disabled:!1},{key:"ciudad",label:"CIUDAD",placeholder:"Seleccionar ciudad",disabled:!n.pais},{key:"recinto",label:"RECINTO",placeholder:"Seleccionar recinto",disabled:!n.ciudad}];case"national":const s=n.electionType,a={key:"electionType",label:"TIPO DE ELECCIÓN",placeholder:"Seleccionar tipo",disabled:!1};return s==="presidente"?[a,{key:"departamento",label:"DEPARTAMENTO",placeholder:"Seleccionar departamento",disabled:!1},{key:"provincia",label:"PROVINCIA",placeholder:"Seleccionar provincia",disabled:!n.departamento},{key:"municipio",label:"MUNICIPIO",placeholder:"Seleccionar municipio",disabled:!n.provincia},{key:"localidad",label:"LOCALIDAD",placeholder:"Seleccionar localidad",disabled:!n.municipio},{key:"recinto",label:"RECINTO",placeholder:"Seleccionar recinto",disabled:!n.localidad}]:s==="uninominal"||s==="special"?[a,{key:"departamento",label:"DEPARTAMENTO",placeholder:"Seleccionar departamento",disabled:!1},{key:"circunscripcion",label:"CIRCUNSCRIPCIÓN",placeholder:"Seleccionar circunscripción",disabled:!n.departamento}]:[a];case"mundial":return[{key:"mundial",label:"MUNDIAL",placeholder:"Mundial",disabled:!0}];default:return[]}},updateAvailableOptions:()=>{const{currentView:e,data:n,selections:s}=t(),a={};switch(e){case"international":if(!n.international)break;if(a.pais=n.international.map(u=>({id:u.i,name:u.n})),s.pais){const u=n.international.find(h=>h.i===Number(s.pais));u&&(a.ciudad=u.c.map(h=>({id:h.i,name:h.n})))}if(s.ciudad){const h=n.international.find(f=>f.i===Number(s.pais))?.c.find(f=>f.i===Number(s.ciudad));h&&(a.recinto=h.r.map(f=>({id:f.i,name:f.n})))}break;case"national":if(!n.national||!n.constituencies)break;a.electionType=[{id:"presidente",name:"Presidente"}];const{electionType:o,departamento:c}=s;if(!o)break;if(o==="presidente"){if(a.departamento=n.national[0].d.map(u=>({id:u.i,name:u.n})),s.departamento){const u=n.national[0].d.find(h=>h.i===Number(s.departamento));u&&(a.provincia=u.p.map(h=>({id:h.i,name:h.n})))}if(s.provincia){const h=n.national[0].d.find(f=>f.i===Number(s.departamento))?.p.find(f=>f.i===Number(s.provincia));h&&(a.municipio=h.m.map(f=>({id:f.i,name:f.n})))}if(s.municipio){const f=n.national[0].d.find(g=>g.i===Number(s.departamento))?.p.find(g=>g.i===Number(s.provincia))?.m.find(g=>g.i===Number(s.municipio));f&&(a.localidad=f.l.map(g=>({id:g.i,name:g.n})))}if(s.localidad){const g=n.national[0].d.find(m=>m.i===Number(s.departamento))?.p.find(m=>m.i===Number(s.provincia))?.m.find(m=>m.i===Number(s.municipio))?.l.find(m=>m.i===Number(s.localidad));g&&(a.recinto=g.r.map(m=>({id:m.i,name:m.n})))}}else if(a.departamento=n.constituencies.map(u=>({id:u.i,name:u.n})),c){const u=n.constituencies.find(h=>h.i===Number(c));if(u){const h=o==="uninominal"?u.c:u.e;h&&(a.circunscripcion=h.map(f=>({id:f.i,name:String(f.n)})))}}break}i({availableOptions:a})}}));class H2{httpClient;constructor(t){this.httpClient=t}async getActaByMesa(t){const{data:e}=await this.httpClient.post("/resultados/mesa",{codigoMesa:Number(t)});return e}formatDate(t){const[e,n,s]=t.split("-");return`${s}/${n}/${e}`}async getActaByCedula(t){const{data:e}=await this.httpClient.post("/list/codigomesa/ciudadano",{...t,fechaNac:this.formatDate(t.fechaNac)});if(!e.id)throw new Error("Con los datos proporcionados no se pudo encontrar la acta");const{data:n}=await this.httpClient.post("/resultados/mesa",{codigoMesa:e.id});return{actaData:n,codigoMesa:e.id}}async getProveido(t){const{data:e}=await this.httpClient.post("/resultados/mesa/adjunto",{codigoMesa:Number(t),tipoRecurso:"PROVEIDO"});return e}async getResolucion(t){const{data:e}=await this.httpClient.post("/resultados/mesa/adjunto",{codigoMesa:Number(t),tipoRecurso:"RESOLUCION"});return e}async getMesaCodeByGeo(t){const{data:e}=await this.httpClient.post("/list/codigomesa/geo",t);return e}}const Ir=new H2(oh),Om=Dm((i,t)=>({searchMode:"geografia",inputs:{mesaNumber:"",documentoIdentidad:"",complemento:"",birthDate:""},currentGeographyView:"national",selections:{},availableOptions:{},actaData:null,serverDate:null,isLoading:!1,errorMessage:null,isFetchingProveido:!1,isFetchingResolucion:!1,setSearchMode:e=>{i({searchMode:e,selections:{},inputs:{mesaNumber:"",documentoIdentidad:"",complemento:"",birthDate:""},actaData:null}),t().updateAvailableGeographyOptions()},setInput:(e,n)=>{i(s=>({inputs:{...s.inputs,[e]:n}}))},setCurrentGeographyView:e=>{i({currentGeographyView:e,selections:{},actaData:null}),t().updateAvailableGeographyOptions()},updateGeographySelection:(e,n)=>{const{selections:s}=t(),a={...s,[e]:n},o=t().getGeographySelectors(),c=o.findIndex(u=>u.key===e);o.slice(c+1).forEach(u=>{delete a[u.key]}),i({selections:a,actaData:null}),t().updateAvailableGeographyOptions()},getGeographySelectors:()=>{const{currentGeographyView:e,selections:n}=t();switch(e){case"national":return[{key:"departamento",label:"DEPARTAMENTO",placeholder:"Seleccionar departamento",disabled:!1},{key:"provincia",label:"PROVINCIA",placeholder:"Seleccionar provincia",disabled:!n.departamento},{key:"municipio",label:"MUNICIPIO",placeholder:"Seleccionar municipio",disabled:!n.provincia},{key:"localidad",label:"LOCALIDAD",placeholder:"Seleccionar localidad",disabled:!n.municipio},{key:"recinto",label:"RECINTO",placeholder:"Seleccionar recinto",disabled:!n.localidad},{key:"mesa",label:"MESA",placeholder:"Seleccionar mesa",disabled:!n.recinto}];case"international":return[{key:"pais",label:"PAÍS",placeholder:"Seleccionar país",disabled:!1},{key:"ciudad",label:"CIUDAD",placeholder:"Seleccionar ciudad",disabled:!n.pais},{key:"recinto",label:"RECINTO",placeholder:"Seleccionar recinto",disabled:!n.ciudad},{key:"mesa",label:"MESA",placeholder:"Seleccionar mesa",disabled:!n.recinto}];default:return[]}},updateAvailableGeographyOptions:()=>{const e=ao.getState().data,{currentGeographyView:n,selections:s}=t(),a={};if(!(!e.national||!e.international)){switch(n){case"international":if(!e.international)break;if(a.pais=e.international.map(o=>({id:o.i,name:o.n})),s.pais){const o=e.international.find(c=>c.i===Number(s.pais));o&&(a.ciudad=o.c.map(c=>({id:c.i,name:c.n})))}if(s.ciudad){const c=e.international.find(u=>u.i===Number(s.pais))?.c.find(u=>u.i===Number(s.ciudad));c&&(a.recinto=c.r.map(u=>({id:u.i,name:u.n})))}if(s.recinto){const u=e.international.find(h=>h.i===Number(s.pais))?.c.find(h=>h.i===Number(s.ciudad))?.r.find(h=>h.i===Number(s.recinto));u&&(a.mesa=u.t.map(h=>({id:h.i,name:String(h.n)})))}break;case"national":if(!e.national)break;if(a.departamento=e.national[0].d.map(o=>({id:o.i,name:o.n})),s.departamento){const o=e.national[0].d.find(c=>c.i===Number(s.departamento));o&&(a.provincia=o.p.map(c=>({id:c.i,name:c.n})))}if(s.provincia){const c=e.national[0].d.find(u=>u.i===Number(s.departamento))?.p.find(u=>u.i===Number(s.provincia));c&&(a.municipio=c.m.map(u=>({id:u.i,name:u.n})))}if(s.municipio){const u=e.national[0].d.find(h=>h.i===Number(s.departamento))?.p.find(h=>h.i===Number(s.provincia))?.m.find(h=>h.i===Number(s.municipio));u&&(a.localidad=u.l.map(h=>({id:h.i,name:h.n})))}if(s.localidad){const h=e.national[0].d.find(f=>f.i===Number(s.departamento))?.p.find(f=>f.i===Number(s.provincia))?.m.find(f=>f.i===Number(s.municipio))?.l.find(f=>f.i===Number(s.localidad));h&&(a.recinto=h.r.map(f=>({id:f.i,name:f.n})))}if(s.recinto){const f=e.national[0].d.find(g=>g.i===Number(s.departamento))?.p.find(g=>g.i===Number(s.provincia))?.m.find(g=>g.i===Number(s.municipio))?.l.find(g=>g.i===Number(s.localidad))?.r.find(g=>g.i===Number(s.recinto));f&&(a.mesa=f.t.map(g=>({id:g.i,name:String(g.n)})))}break}i({availableOptions:a})}},fetchActa:async()=>{const{searchMode:e,inputs:n,selections:s}=t();i({isLoading:!0,actaData:null,errorMessage:null});let a=null,o=null;try{switch(e){case"mesa":if(!n.mesaNumber)throw new Error("Número de mesa es requerido");a=await Ir.getActaByMesa(n.mesaNumber),o=n.mesaNumber;break;case"cedula":if(!n.documentoIdentidad||!n.birthDate)throw new Error("Documento y fecha de nacimiento son requeridos");const c=await Ir.getActaByCedula({documentoIdentidad:n.documentoIdentidad,complemento:n.complemento,fechaNac:n.birthDate});a=c.actaData,o=String(c.codigoMesa);break;case"geografia":if(!s.mesa)throw new Error("Debe seleccionar una mesa");const h=t().availableOptions.mesa?.find(m=>String(m.id)===s.mesa);if(!h)throw new Error("No se pudo encontrar la mesa seleccionada");let f;const{currentGeographyView:g}=t();if(g==="national"){const m={idPais:32,idDepartamento:Number(s.departamento),idProvincia:Number(s.provincia),idSeccion:Number(s.municipio),idLocalidad:Number(s.localidad),idRecinto:Number(s.recinto),numeroMesa:Number(h.name)};f=(await Ir.getMesaCodeByGeo(m)).id}else f=Number(s.mesa);if(!f)throw new Error("No se pudo obtener el código de la mesa.");a=await Ir.getActaByMesa(String(f)),o=String(f);break}if(a&&o){const c=a.adjunto.find(m=>m.tipo==="ACTA")?.valor||"",u=a.adjunto.find(m=>m.tipo==="PROVEIDO"),h=a.adjunto.find(m=>m.tipo==="RESOLUCION"),f=u?.valor==="true",g=h?.valor==="true";i({actaData:{tabla:a.tabla,observacion:a.observacion,codigoMesa:o,hasProveido:f,hasResolucion:g,actaImage:`data:image/jpeg;base64,${c}`,proveidoImage:null,resolucionImage:null},serverDate:a.fecha})}}catch(c){if(c.response?.data?.error){i({errorMessage:c.response.data.error});return}if(c.response?.status===404){i({errorMessage:"No se encontró la imagen del acta. Por favor, inténtelo de nuevo más tarde."});return}i({errorMessage:"Debido a la cantidad de peticiones, no se pudo obtener la acta. Por favor, inténtelo de nuevo más tarde."})}finally{i({isLoading:!1})}},fetchProveido:async()=>{const{actaData:e,isFetchingProveido:n}=t();if(!(!e||!e.hasProveido||e.proveidoImage||n)){i({isFetchingProveido:!0});try{const s=await Ir.getProveido(e.codigoMesa);s&&s[0]?.valor&&i(a=>({actaData:a.actaData?{...a.actaData,proveidoImage:`data:image/jpeg;base64,${s[0].valor}`}:null}))}catch(s){if(s.response?.data?.error){i({errorMessage:s.response.data.error});return}if(s.response?.status===404){i({errorMessage:"No se encontró la imagen del Proveído. Por favor, inténtelo de nuevo más tarde."});return}i({errorMessage:"Debido a la cantidad de peticiones, no se pudo obtener la acta. Por favor, inténtelo de nuevo más tarde."})}finally{i({isFetchingProveido:!1})}}},fetchResolucion:async()=>{const{actaData:e,isFetchingResolucion:n}=t();if(!(!e||!e.hasResolucion||e.resolucionImage||n)){i({isFetchingResolucion:!0});try{const s=await Ir.getResolucion(e.codigoMesa);s&&s[0]?.valor&&i(a=>({actaData:a.actaData?{...a.actaData,resolucionImage:`data:application/pdf;base64,${s[0].valor}`}:null}))}catch(s){if(s.response?.data?.error){i({errorMessage:s.response.data.error});return}if(s.response?.status===404){i({errorMessage:"No se encontró la imagen de la Resolución. Por favor, inténtelo de nuevo más tarde."});return}i({errorMessage:"Debido a la cantidad de peticiones, no se pudo obtener la Resolución. Por favor, inténtelo de nuevo más tarde."})}finally{i({isFetchingResolucion:!1})}}},clearSearch:()=>{t().setSearchMode(t().searchMode)},loadInitialData:async()=>{const{isDataLoaded:e,loadInitialData:n}=ao.getState();e||await n(),t().updateAvailableGeographyOptions()}}));/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V2=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),lw=i=>{const t=V2(i);return t.charAt(0).toUpperCase()+t.slice(1)},mA=(...i)=>i.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),G2=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=M.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...c},u)=>M.createElement("svg",{ref:u,...$2,width:t,height:t,stroke:i,strokeWidth:n?Number(e)*24/Number(t):e,className:mA("lucide",s),...!a&&!G2(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,f])=>M.createElement(h,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(i,t)=>{const e=M.forwardRef(({className:n,...s},a)=>M.createElement(q2,{ref:a,iconNode:t,className:mA(`lucide-${U2(lw(i))}`,`lucide-${i}`,n),...s}));return e.displayName=lw(i),e};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],cw=ie("arrow-down-up",W2);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],X2=ie("arrow-down",Y2);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Q2=ie("arrow-up",K2);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],J2=ie("camera",Z2);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],eD=ie("chart-column",tD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],iD=ie("chart-pie",nD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],aD=ie("chevron-down",sD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bA=ie("chevron-left",rD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yA=ie("chevron-right",oD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cD=ie("circle",lD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Nm=ie("download",uD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],hD=ie("facebook",dD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],pD=ie("file-spreadsheet",fD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mD=ie("file-text",gD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],yD=ie("instagram",bD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xD=ie("mail",vD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],SD=ie("map-pin",wD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],vA=ie("maximize-2",_D);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],uw=ie("phone-call",AD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ad=ie("refresh-cw",ED);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],xA=ie("rotate-cw",CD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],RD=ie("search",TD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kD=ie("triangle-alert",MD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],OD=ie("youtube",DD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lm=ie("x",ND);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Yg=ie("zoom-in",LD);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Xg=ie("zoom-out",PD);function dw(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function Fa(...i){return t=>{let e=!1;const n=i.map(s=>{const a=dw(s,t);return!e&&typeof a=="function"&&(e=!0),a});if(e)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():dw(i[s],null)}}}}function Ze(...i){return M.useCallback(Fa(...i),i)}function ro(i){const t=jD(i),e=M.forwardRef((n,s)=>{const{children:a,...o}=n,c=M.Children.toArray(a),u=c.find(zD);if(u){const h=u.props.children,f=c.map(g=>g===u?M.Children.count(h)>1?M.Children.only(null):M.isValidElement(h)?h.props.children:null:g);return A.jsx(t,{...o,ref:s,children:M.isValidElement(h)?M.cloneElement(h,void 0,f):null})}return A.jsx(t,{...o,ref:s,children:a})});return e.displayName=`${i}.Slot`,e}var ID=ro("Slot");function jD(i){const t=M.forwardRef((e,n)=>{const{children:s,...a}=e;if(M.isValidElement(s)){const o=HD(s),c=BD(a,s.props);return s.type!==M.Fragment&&(c.ref=n?Fa(n,o):o),M.cloneElement(s,c)}return M.Children.count(s)>1?M.Children.only(null):null});return t.displayName=`${i}.SlotClone`,t}var FD=Symbol("radix.slottable");function zD(i){return M.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===FD}function BD(i,t){const e={...t};for(const n in t){const s=i[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...i,...e}}function HD(i){let t=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=Object.getOwnPropertyDescriptor(i,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}function wA(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(t=0;t<s;t++)i[t]&&(e=wA(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function $s(){for(var i,t,e=0,n="",s=arguments.length;e<s;e++)(i=arguments[e])&&(t=wA(i))&&(n&&(n+=" "),n+=t);return n}const hw=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,fw=$s,UD=(i,t)=>e=>{var n;if(t?.variants==null)return fw(i,e?.class,e?.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(h=>{const f=e?.[h],g=a?.[h];if(f===null)return null;const m=hw(f)||hw(g);return s[h][m]}),c=e&&Object.entries(e).reduce((h,f)=>{let[g,m]=f;return m===void 0||(h[g]=m),h},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,f)=>{let{class:g,className:m,...y}=f;return Object.entries(y).every(w=>{let[x,S]=w;return Array.isArray(S)?S.includes({...a,...c}[x]):{...a,...c}[x]===S})?[...h,g,m]:h},[]);return fw(i,o,u,e?.class,e?.className)},Pm="-",VD=i=>{const t=$D(i),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=i;return{getClassGroupId:o=>{const c=o.split(Pm);return c[0]===""&&c.length!==1&&c.shift(),SA(c,t)||GD(o)},getConflictingClassGroupIds:(o,c)=>{const u=e[o]||[];return c&&n[o]?[...u,...n[o]]:u}}},SA=(i,t)=>{if(i.length===0)return t.classGroupId;const e=i[0],n=t.nextPart.get(e),s=n?SA(i.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=i.join(Pm);return t.validators.find(({validator:o})=>o(a))?.classGroupId},pw=/^\[(.+)\]$/,GD=i=>{if(pw.test(i)){const t=pw.exec(i)[1],e=t?.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},$D=i=>{const{theme:t,classGroups:e}=i,n={nextPart:new Map,validators:[]};for(const s in e)Kg(e[s],n,s,t);return n},Kg=(i,t,e,n)=>{i.forEach(s=>{if(typeof s=="string"){const a=s===""?t:gw(t,s);a.classGroupId=e;return}if(typeof s=="function"){if(qD(s)){Kg(s(n),t,e,n);return}t.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([a,o])=>{Kg(o,gw(t,a),e,n)})})},gw=(i,t)=>{let e=i;return t.split(Pm).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},qD=i=>i.isThemeGetter,WD=i=>{if(i<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,n=new Map;const s=(a,o)=>{e.set(a,o),t++,t>i&&(t=0,n=e,e=new Map)};return{get(a){let o=e.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){e.has(a)?e.set(a,o):s(a,o)}}},Qg="!",Zg=":",YD=Zg.length,XD=i=>{const{prefix:t,experimentalParseClassName:e}=i;let n=s=>{const a=[];let o=0,c=0,u=0,h;for(let w=0;w<s.length;w++){let x=s[w];if(o===0&&c===0){if(x===Zg){a.push(s.slice(u,w)),u=w+YD;continue}if(x==="/"){h=w;continue}}x==="["?o++:x==="]"?o--:x==="("?c++:x===")"&&c--}const f=a.length===0?s:s.substring(u),g=KD(f),m=g!==f,y=h&&h>u?h-u:void 0;return{modifiers:a,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}};if(t){const s=t+Zg,a=n;n=o=>o.startsWith(s)?a(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(e){const s=n;n=a=>e({className:a,parseClassName:s})}return n},KD=i=>i.endsWith(Qg)?i.substring(0,i.length-1):i.startsWith(Qg)?i.substring(1):i,QD=i=>{const t=Object.fromEntries(i.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let a=[];return n.forEach(o=>{o[0]==="["||t[o]?(s.push(...a.sort(),o),a=[]):a.push(o)}),s.push(...a.sort()),s}},ZD=i=>({cache:WD(i.cacheSize),parseClassName:XD(i),sortModifiers:QD(i),...VD(i)}),JD=/\s+/,tO=(i,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:a}=t,o=[],c=i.trim().split(JD);let u="";for(let h=c.length-1;h>=0;h-=1){const f=c[h],{isExternal:g,modifiers:m,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:x}=e(f);if(g){u=f+(u.length>0?" "+u:u);continue}let S=!!x,_=n(S?w.substring(0,x):w);if(!_){if(!S){u=f+(u.length>0?" "+u:u);continue}if(_=n(w),!_){u=f+(u.length>0?" "+u:u);continue}S=!1}const T=a(m).join(":"),C=y?T+Qg:T,k=C+_;if(o.includes(k))continue;o.push(k);const R=s(_,S);for(let O=0;O<R.length;++O){const N=R[O];o.push(C+N)}u=f+(u.length>0?" "+u:u)}return u};function eO(){let i=0,t,e,n="";for(;i<arguments.length;)(t=arguments[i++])&&(e=_A(t))&&(n&&(n+=" "),n+=e);return n}const _A=i=>{if(typeof i=="string")return i;let t,e="";for(let n=0;n<i.length;n++)i[n]&&(t=_A(i[n]))&&(e&&(e+=" "),e+=t);return e};function nO(i,...t){let e,n,s,a=o;function o(u){const h=t.reduce((f,g)=>g(f),i());return e=ZD(h),n=e.cache.get,s=e.cache.set,a=c,c(u)}function c(u){const h=n(u);if(h)return h;const f=tO(u,e);return s(u,f),f}return function(){return a(eO.apply(null,arguments))}}const Ie=i=>{const t=e=>e[i]||[];return t.isThemeGetter=!0,t},AA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,EA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,iO=/^\d+\/\d+$/,sO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jr=i=>iO.test(i),Dt=i=>!!i&&!Number.isNaN(Number(i)),Ps=i=>!!i&&Number.isInteger(Number(i)),ig=i=>i.endsWith("%")&&Dt(i.slice(0,-1)),Ji=i=>sO.test(i),cO=()=>!0,uO=i=>aO.test(i)&&!rO.test(i),CA=()=>!1,dO=i=>oO.test(i),hO=i=>lO.test(i),fO=i=>!ft(i)&&!pt(i),pO=i=>go(i,MA,CA),ft=i=>AA.test(i),Sa=i=>go(i,kA,uO),sg=i=>go(i,vO,Dt),mw=i=>go(i,TA,CA),gO=i=>go(i,RA,hO),Vu=i=>go(i,DA,dO),pt=i=>EA.test(i),Sl=i=>mo(i,kA),mO=i=>mo(i,xO),bw=i=>mo(i,TA),bO=i=>mo(i,MA),yO=i=>mo(i,RA),Gu=i=>mo(i,DA,!0),go=(i,t,e)=>{const n=AA.exec(i);return n?n[1]?t(n[1]):e(n[2]):!1},mo=(i,t,e=!1)=>{const n=EA.exec(i);return n?n[1]?t(n[1]):e:!1},TA=i=>i==="position"||i==="percentage",RA=i=>i==="image"||i==="url",MA=i=>i==="length"||i==="size"||i==="bg-size",kA=i=>i==="length",vO=i=>i==="number",xO=i=>i==="family-name",DA=i=>i==="shadow",wO=()=>{const i=Ie("color"),t=Ie("font"),e=Ie("text"),n=Ie("font-weight"),s=Ie("tracking"),a=Ie("leading"),o=Ie("breakpoint"),c=Ie("container"),u=Ie("spacing"),h=Ie("radius"),f=Ie("shadow"),g=Ie("inset-shadow"),m=Ie("text-shadow"),y=Ie("drop-shadow"),w=Ie("blur"),x=Ie("perspective"),S=Ie("aspect"),_=Ie("ease"),T=Ie("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...k(),pt,ft],O=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],P=()=>[pt,ft,u],H=()=>[jr,"full","auto",...P()],W=()=>[Ps,"none","subgrid",pt,ft],K=()=>["auto",{span:["full",Ps,pt,ft]},Ps,pt,ft],et=()=>[Ps,"auto",pt,ft],lt=()=>["auto","min","max","fr",pt,ft],at=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],rt=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...P()],F=()=>[jr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],V=()=>[i,pt,ft],ut=()=>[...k(),bw,mw,{position:[pt,ft]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",bO,pO,{size:[pt,ft]}],B=()=>[ig,Sl,Sa],G=()=>["","none","full",h,pt,ft],J=()=>["",Dt,Sl,Sa],st=()=>["solid","dashed","dotted","double"],ot=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ct=()=>[Dt,ig,bw,mw],bt=()=>["","none",w,pt,ft],Et=()=>["none",Dt,pt,ft],Mt=()=>["none",Dt,pt,ft],Ee=()=>[Dt,pt,ft],Ce=()=>[jr,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ji],breakpoint:[Ji],color:[cO],container:[Ji],"drop-shadow":[Ji],ease:["in","out","in-out"],font:[fO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ji],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ji],shadow:[Ji],spacing:["px",Dt],text:[Ji],"text-shadow":[Ji],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",jr,ft,pt,S]}],container:["container"],columns:[{columns:[Dt,ft,pt,c]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[Ps,"auto",pt,ft]}],basis:[{basis:[jr,"full","auto",c,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Dt,jr,"auto","initial","none",ft]}],grow:[{grow:["",Dt,pt,ft]}],shrink:[{shrink:["",Dt,pt,ft]}],order:[{order:[Ps,"first","last","none",pt,ft]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:K()}],"col-start":[{"col-start":et()}],"col-end":[{"col-end":et()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:K()}],"row-start":[{"row-start":et()}],"row-end":[{"row-end":et()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":lt()}],"auto-rows":[{"auto-rows":lt()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...at(),"normal"]}],"justify-items":[{"justify-items":[...rt(),"normal"]}],"justify-self":[{"justify-self":["auto",...rt()]}],"align-content":[{content:["normal",...at()]}],"align-items":[{items:[...rt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...rt(),{baseline:["","last"]}]}],"place-content":[{"place-content":at()}],"place-items":[{"place-items":[...rt(),"baseline"]}],"place-self":[{"place-self":["auto",...rt()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[c,"screen",...F()]}],"min-w":[{"min-w":[c,"screen","none",...F()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",e,Sl,Sa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,pt,sg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ig,ft]}],"font-family":[{font:[mO,ft,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,pt,ft]}],"line-clamp":[{"line-clamp":[Dt,"none",pt,sg]}],leading:[{leading:[a,...P()]}],"list-image":[{"list-image":["none",pt,ft]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pt,ft]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...st(),"wavy"]}],"text-decoration-thickness":[{decoration:[Dt,"from-font","auto",pt,Sa]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[Dt,"auto",pt,ft]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pt,ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pt,ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ut()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ps,pt,ft],radial:["",pt,ft],conic:[Ps,pt,ft]},yO,gO]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...st(),"hidden","none"]}],"divide-style":[{divide:[...st(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...st(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Dt,pt,ft]}],"outline-w":[{outline:["",Dt,Sl,Sa]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",f,Gu,Vu]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",g,Gu,Vu]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[Dt,Sa]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",m,Gu,Vu]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[Dt,pt,ft]}],"mix-blend":[{"mix-blend":[...ot(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ot()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Dt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ct()}],"mask-image-linear-to-pos":[{"mask-linear-to":ct()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":ct()}],"mask-image-t-to-pos":[{"mask-t-to":ct()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":ct()}],"mask-image-r-to-pos":[{"mask-r-to":ct()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":ct()}],"mask-image-b-to-pos":[{"mask-b-to":ct()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":ct()}],"mask-image-l-to-pos":[{"mask-l-to":ct()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":ct()}],"mask-image-x-to-pos":[{"mask-x-to":ct()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":ct()}],"mask-image-y-to-pos":[{"mask-y-to":ct()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[pt,ft]}],"mask-image-radial-from-pos":[{"mask-radial-from":ct()}],"mask-image-radial-to-pos":[{"mask-radial-to":ct()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Dt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ct()}],"mask-image-conic-to-pos":[{"mask-conic-to":ct()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ut()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pt,ft]}],filter:[{filter:["","none",pt,ft]}],blur:[{blur:bt()}],brightness:[{brightness:[Dt,pt,ft]}],contrast:[{contrast:[Dt,pt,ft]}],"drop-shadow":[{"drop-shadow":["","none",y,Gu,Vu]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",Dt,pt,ft]}],"hue-rotate":[{"hue-rotate":[Dt,pt,ft]}],invert:[{invert:["",Dt,pt,ft]}],saturate:[{saturate:[Dt,pt,ft]}],sepia:[{sepia:["",Dt,pt,ft]}],"backdrop-filter":[{"backdrop-filter":["","none",pt,ft]}],"backdrop-blur":[{"backdrop-blur":bt()}],"backdrop-brightness":[{"backdrop-brightness":[Dt,pt,ft]}],"backdrop-contrast":[{"backdrop-contrast":[Dt,pt,ft]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Dt,pt,ft]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Dt,pt,ft]}],"backdrop-invert":[{"backdrop-invert":["",Dt,pt,ft]}],"backdrop-opacity":[{"backdrop-opacity":[Dt,pt,ft]}],"backdrop-saturate":[{"backdrop-saturate":[Dt,pt,ft]}],"backdrop-sepia":[{"backdrop-sepia":["",Dt,pt,ft]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pt,ft]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Dt,"initial",pt,ft]}],ease:[{ease:["linear","initial",_,pt,ft]}],delay:[{delay:[Dt,pt,ft]}],animate:[{animate:["none",T,pt,ft]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,pt,ft]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:Et()}],"rotate-x":[{"rotate-x":Et()}],"rotate-y":[{"rotate-y":Et()}],"rotate-z":[{"rotate-z":Et()}],scale:[{scale:Mt()}],"scale-x":[{"scale-x":Mt()}],"scale-y":[{"scale-y":Mt()}],"scale-z":[{"scale-z":Mt()}],"scale-3d":["scale-3d"],skew:[{skew:Ee()}],"skew-x":[{"skew-x":Ee()}],"skew-y":[{"skew-y":Ee()}],transform:[{transform:[pt,ft,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ce()}],"translate-x":[{"translate-x":Ce()}],"translate-y":[{"translate-y":Ce()}],"translate-z":[{"translate-z":Ce()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pt,ft]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pt,ft]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[Dt,Sl,Sa,sg]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},SO=nO(wO);function $e(...i){return SO($s(i))}const _O=UD("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Pt({className:i,variant:t,size:e,asChild:n=!1,...s}){const a=n?ID:"button";return A.jsx(a,{"data-slot":"button",className:$e(_O({variant:t,size:e,className:i})),...s})}function AO({message:i,onClose:t}){const[e,n]=M.useState(!1);M.useEffect(()=>{n(!0);const u=setTimeout(()=>{s()},1e4);return()=>clearTimeout(u)},[]);const s=()=>{n(!1),setTimeout(t,300)},a=()=>{window.location.reload()},c=(u=>u.includes("número de mesa")?"mesa":u.includes("documento de identidad")||u.includes("cédula")?"cedula":u.includes("conexión")?"connection":"general")(i);return A.jsx("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300 ${e?"translate-y-0 opacity-100":"-translate-y-full opacity-0"}`,children:A.jsxs("div",{className:"bg-white border-l-4 border-red-500 rounded-lg shadow-lg max-w-md w-full mx-4 relative",children:[A.jsxs("div",{className:"p-4",children:[A.jsx("div",{className:"flex items-start justify-between mb-3",children:A.jsx(Pt,{variant:"ghost",size:"sm",onClick:s,className:"text-gray-400 hover:text-gray-600 p-1 absolute right-4",children:A.jsx(Lm,{className:"w-4 h-4"})})}),A.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[A.jsxs("div",{className:"flex gap-2 items-center",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx(kD,{className:"w-6 h-6 text-red-500"})}),A.jsx("h3",{className:"text-lg font-semibold text-red-800",children:" Error en la búsqueda "})]}),A.jsxs("p",{className:"text-md text-red-600",children:[" ",i," "]})]}),A.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[A.jsx(Pt,{variant:"outline",size:"sm",onClick:s,className:"text-xs px-3 py-1 h-7",children:"Cerrar"}),c==="connection"&&A.jsxs(Pt,{size:"sm",onClick:a,className:"text-xs px-3 py-1 h-7 bg-red-600 hover:bg-red-700 text-white",children:[A.jsx(Ad,{className:"w-3 h-3 mr-1"}),"Reintentar"]})]})]}),A.jsx("div",{className:"h-1 bg-gray-200 rounded-b-lg overflow-hidden",children:A.jsx("div",{className:"h-full bg-red-500 transition-all duration-[10000ms] ease-linear",style:{width:e?"0%":"100%"}})})]})})}const EO=()=>A.jsx("footer",{className:$s("w-full mt-16 transition-colors duration-300","bg-gradient-to-r from-gray-600 via-gray-700 to-gray-600 text-white"),children:A.jsxs("div",{className:"container mx-auto px-4 py-4 md:py-12",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex flex-col items-center sm:flex-row gap-4 mb-6",children:[A.jsxs("p",{className:"leading-relaxed mb-6",children:["La información desplegada en la página ","https://computo.oep.org.bo"," refleja el procesamiento del Cómputo Oficial en dependencias del OEP."]}),A.jsx("p",{className:"leading-relaxed mb-6",children:"El procesamiento de los resultados de Cómputo Oficial se realiza en una red asegurada, separada de redes externas y monitoreada permanentemente."})]}),A.jsx("div",{className:"w-full flex justify-center gap-2",children:A.jsx("p",{className:"leading-relaxed mb-6",children:"Los resultados definitivos se consignan en las Actas de Cómputo Departamentales y Nacional."})})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[A.jsxs("div",{className:"md:col-span-2",children:[A.jsxs("div",{className:"flex flex-col items-center sm:flex-row gap-4 mb-6",children:[A.jsx("div",{className:"p-3 rounded-xl shadow-lg",children:A.jsx("img",{src:"/oep-white.webp",alt:"Logo OEP",width:"100",height:"100",className:"rounded-xl"})}),A.jsxs("div",{children:[A.jsx("div",{className:"font-bold text-xl",children:"Órgano Electoral Plurinacional"}),A.jsx("div",{className:"text-xl font-bold",children:" De Bolivia"})]})]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx("a",{className:"text-slate-300 hover:text-white hover:bg-white/10 rounded-full",href:"https://www.facebook.com/TSEBolivia/",target:"_blank",children:A.jsx(hD,{className:"min-w-6 min-h-6"})}),A.jsx("a",{className:"text-slate-300 hover:text-white hover:bg-white/10 rounded-full",href:"https://x.com/TSEBolivia",target:"_blank",children:A.jsx(Lm,{className:"min-w-6 min-h-6"})}),A.jsx("a",{className:"text-slate-300 hover:text-white hover:bg-white/10 rounded-full",href:"https://www.instagram.com/tse_bolivia/",target:"_blank",children:A.jsx(yD,{className:"min-w-6 min-h-6"})}),A.jsx("a",{className:"text-slate-300 hover:text-white hover:bg-white/10 rounded-full",href:"https://www.youtube.com/@OEP_Bolivia",target:"_blank",children:A.jsx(OD,{className:"min-w-6 min-h-6"})})]})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-lg mb-4 text-white",children:"Contacto"}),A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsx("div",{className:"flex items-center gap-3 text-slate-300",children:A.jsxs("a",{href:"https://maps.app.goo.gl/bKT4iDXwuxGAADEf8",target:"_blank",rel:"noopener",className:"flex gap-3 items-center text-slate-300 hover:text-white transition-colors duration-200",children:[A.jsx(SD,{className:"min-w-5 min-h-5 text-violet-500"}),"Av. Sánchez Lima esq. Pedro Salazar (Sopocachi) # 2482"]})}),A.jsxs("div",{className:"flex items-center gap-3 text-slate-300",children:[A.jsxs("a",{href:"tel:+5912424221",className:"flex gap-3 items-center text-slate-300 hover:text-white transition-colors duration-200",children:[A.jsx(uw,{className:"min-w-5 min-h-5 text-green-500"}),A.jsx("span",{children:"2 242-4221"})]}),A.jsx("span",{children:" | "}),A.jsx(uw,{className:"min-w-5 min-h-5 text-green-500"}),A.jsx("span",{children:"2 242-2338"})]}),A.jsx("div",{className:"",children:A.jsxs("a",{href:"mailto:info@oep.org.bo",className:"flex gap-3 items-center text-slate-300 hover:text-white transition-colors duration-200",children:[A.jsx(xD,{className:"min-w-5 min-h-5 text-sky-500"}),A.jsx("span",{children:"info@oep.org.bo"})]})})]})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-lg mb-4 text-white",children:"Enlaces Rápidos"}),A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsx("a",{href:"https://www.oep.org.bo/",className:"block text-slate-300 hover:text-white transition-colors duration-200 hover:underline",target:"_blank",children:"www.oep.org.bo"}),A.jsx("a",{href:"https://yoparticipo.oep.org.bo/",className:"block text-slate-300 hover:text-white transition-colors duration-200 hover:underline",target:"_blank",children:"Yo Participo"})]})]})]}),A.jsx("div",{className:$s("border-t mt-8 pt-8 text-center transition-colors duration-300","border-slate-600","border-slate-700"),children:A.jsxs("div",{className:"w-full flex justify-center gap-2 text-slate-400",children:["© ",A.jsxs("span",{id:"copyright-year",children:[" ",new Date().getFullYear()," "]}),"Órgano Electoral Plurinacional. Todos los derechos reservados."]})})]})}),CO=({children:i})=>{const{errorMessage:t}=Om(),e=()=>{};return A.jsxs(A.Fragment,{children:[A.jsxs("main",{className:"min-h-[100dvh] w-full flex flex-col gap-4 bg-[url('/background.webp')] bg-repeat",children:[i,t?A.jsx(AO,{message:t,onClose:e}):null]}),A.jsx(EO,{})]})},TO=({title:i,subtitle:t})=>A.jsxs("div",{className:"w-full flex flex-col gap-4 px-4",children:[A.jsxs("h1",{className:"font-black text-center text-[#8c2c1c] text-[1.5rem] md:text-[2.5rem]",children:[" ",i," "]}),A.jsxs("h2",{className:"text-center text-[#999999] text-[0.9rem] md:text-[1.2rem]",children:[" ",t," "]})]});function ae(i,t,{checkForDefaultPrevented:e=!0}={}){return function(s){if(i?.(s),e===!1||!s.defaultPrevented)return t?.(s)}}function RO(i,t){const e=M.createContext(t),n=a=>{const{children:o,...c}=a,u=M.useMemo(()=>c,Object.values(c));return A.jsx(e.Provider,{value:u,children:o})};n.displayName=i+"Provider";function s(a){const o=M.useContext(e);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${i}\``)}return[n,s]}function Zs(i,t=[]){let e=[];function n(a,o){const c=M.createContext(o),u=e.length;e=[...e,o];const h=g=>{const{scope:m,children:y,...w}=g,x=m?.[i]?.[u]||c,S=M.useMemo(()=>w,Object.values(w));return A.jsx(x.Provider,{value:S,children:y})};h.displayName=a+"Provider";function f(g,m){const y=m?.[i]?.[u]||c,w=M.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[h,f]}const s=()=>{const a=e.map(o=>M.createContext(o));return function(c){const u=c?.[i]||a;return M.useMemo(()=>({[`__scope${i}`]:{...c,[i]:u}}),[c,u])}};return s.scopeName=i,[n,MO(s,...t)]}function MO(...i){const t=i[0];if(i.length===1)return t;const e=()=>{const n=i.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((c,{useScope:u,scopeName:h})=>{const g=u(a)[`__scope${h}`];return{...c,...g}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}function kO(i){const t=i+"CollectionProvider",[e,n]=Zs(t),[s,a]=e(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:S,children:_}=x,T=Jn.useRef(null),C=Jn.useRef(new Map).current;return A.jsx(s,{scope:S,itemMap:C,collectionRef:T,children:_})};o.displayName=t;const c=i+"CollectionSlot",u=ro(c),h=Jn.forwardRef((x,S)=>{const{scope:_,children:T}=x,C=a(c,_),k=Ze(S,C.collectionRef);return A.jsx(u,{ref:k,children:T})});h.displayName=c;const f=i+"CollectionItemSlot",g="data-radix-collection-item",m=ro(f),y=Jn.forwardRef((x,S)=>{const{scope:_,children:T,...C}=x,k=Jn.useRef(null),R=Ze(S,k),O=a(f,_);return Jn.useEffect(()=>(O.itemMap.set(k,{ref:k,...C}),()=>void O.itemMap.delete(k))),A.jsx(m,{[g]:"",ref:R,children:T})});y.displayName=f;function w(x){const S=a(i+"CollectionConsumer",x);return Jn.useCallback(()=>{const T=S.collectionRef.current;if(!T)return[];const C=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((O,N)=>C.indexOf(O.ref.current)-C.indexOf(N.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:h,ItemSlot:y},w,n]}var qs=globalThis?.document?M.useLayoutEffect:()=>{},DO=U_[" useId ".trim().toString()]||(()=>{}),OO=0;function ei(i){const[t,e]=M.useState(DO());return qs(()=>{e(n=>n??String(OO++))},[i]),i||(t?`radix-${t}`:"")}var Im=V_();const NO=Cm(Im);var LO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=LO.reduce((i,t)=>{const e=ro(`Primitive.${t}`),n=M.forwardRef((s,a)=>{const{asChild:o,...c}=s,u=o?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...c,ref:a})});return n.displayName=`Primitive.${t}`,{...i,[t]:n}},{});function PO(i,t){i&&Im.flushSync(()=>i.dispatchEvent(t))}function za(i){const t=M.useRef(i);return M.useEffect(()=>{t.current=i}),M.useMemo(()=>(...e)=>t.current?.(...e),[])}var IO=U_[" useInsertionEffect ".trim().toString()]||qs;function hc({prop:i,defaultProp:t,onChange:e=()=>{},caller:n}){const[s,a,o]=jO({defaultProp:t,onChange:e}),c=i!==void 0,u=c?i:s;{const f=M.useRef(i!==void 0);M.useEffect(()=>{const g=f.current;g!==c&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,n])}const h=M.useCallback(f=>{if(c){const g=FO(f)?f(i):f;g!==i&&o.current?.(g)}else a(f)},[c,i,a,o]);return[u,h]}function jO({defaultProp:i,onChange:t}){const[e,n]=M.useState(i),s=M.useRef(e),a=M.useRef(t);return IO(()=>{a.current=t},[t]),M.useEffect(()=>{s.current!==e&&(a.current?.(e),s.current=e)},[e,s]),[e,n,a]}function FO(i){return typeof i=="function"}var zO=M.createContext(void 0);function jm(i){const t=M.useContext(zO);return i||t||"ltr"}var ag="rovingFocusGroup.onEntryFocus",BO={bubbles:!1,cancelable:!0},fc="RovingFocusGroup",[Jg,OA,HO]=kO(fc),[UO,lh]=Zs(fc,[HO]),[VO,GO]=UO(fc),NA=M.forwardRef((i,t)=>A.jsx(Jg.Provider,{scope:i.__scopeRovingFocusGroup,children:A.jsx(Jg.Slot,{scope:i.__scopeRovingFocusGroup,children:A.jsx($O,{...i,ref:t})})}));NA.displayName=fc;var $O=M.forwardRef((i,t)=>{const{__scopeRovingFocusGroup:e,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...g}=i,m=M.useRef(null),y=Ze(t,m),w=jm(a),[x,S]=hc({prop:o,defaultProp:c??null,onChange:u,caller:fc}),[_,T]=M.useState(!1),C=za(h),k=OA(e),R=M.useRef(!1),[O,N]=M.useState(0);return M.useEffect(()=>{const P=m.current;if(P)return P.addEventListener(ag,C),()=>P.removeEventListener(ag,C)},[C]),A.jsx(VO,{scope:e,orientation:n,dir:w,loop:s,currentTabStopId:x,onItemFocus:M.useCallback(P=>S(P),[S]),onItemShiftTab:M.useCallback(()=>T(!0),[]),onFocusableItemAdd:M.useCallback(()=>N(P=>P+1),[]),onFocusableItemRemove:M.useCallback(()=>N(P=>P-1),[]),children:A.jsx(Ht.div,{tabIndex:_||O===0?-1:0,"data-orientation":n,...g,ref:y,style:{outline:"none",...i.style},onMouseDown:ae(i.onMouseDown,()=>{R.current=!0}),onFocus:ae(i.onFocus,P=>{const H=!R.current;if(P.target===P.currentTarget&&H&&!_){const W=new CustomEvent(ag,BO);if(P.currentTarget.dispatchEvent(W),!W.defaultPrevented){const K=k().filter(L=>L.focusable),et=K.find(L=>L.active),lt=K.find(L=>L.id===x),rt=[et,lt,...K].filter(Boolean).map(L=>L.ref.current);IA(rt,f)}}R.current=!1}),onBlur:ae(i.onBlur,()=>T(!1))})})}),LA="RovingFocusGroupItem",PA=M.forwardRef((i,t)=>{const{__scopeRovingFocusGroup:e,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...c}=i,u=ei(),h=a||u,f=GO(LA,e),g=f.currentTabStopId===h,m=OA(e),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:x}=f;return M.useEffect(()=>{if(n)return y(),()=>w()},[n,y,w]),A.jsx(Jg.ItemSlot,{scope:e,id:h,focusable:n,active:s,children:A.jsx(Ht.span,{tabIndex:g?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:ae(i.onMouseDown,S=>{n?f.onItemFocus(h):S.preventDefault()}),onFocus:ae(i.onFocus,()=>f.onItemFocus(h)),onKeyDown:ae(i.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){f.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=YO(S,f.orientation,f.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let C=m().filter(k=>k.focusable).map(k=>k.ref.current);if(_==="last")C.reverse();else if(_==="prev"||_==="next"){_==="prev"&&C.reverse();const k=C.indexOf(S.currentTarget);C=f.loop?XO(C,k+1):C.slice(k+1)}setTimeout(()=>IA(C))}}),children:typeof o=="function"?o({isCurrentTabStop:g,hasTabStop:x!=null}):o})})});PA.displayName=LA;var qO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function WO(i,t){return t!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function YO(i,t,e){const n=WO(i.key,e);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return qO[n]}function IA(i,t=!1){const e=document.activeElement;for(const n of i)if(n===e||(n.focus({preventScroll:t}),document.activeElement!==e))return}function XO(i,t){return i.map((e,n)=>i[(t+n)%i.length])}var jA=NA,FA=PA;function KO(i,t){return M.useReducer((e,n)=>t[e][n]??e,i)}var Js=i=>{const{present:t,children:e}=i,n=QO(t),s=typeof e=="function"?e({present:n.isPresent}):M.Children.only(e),a=Ze(n.ref,ZO(s));return typeof e=="function"||n.isPresent?M.cloneElement(s,{ref:a}):null};Js.displayName="Presence";function QO(i){const[t,e]=M.useState(),n=M.useRef(null),s=M.useRef(i),a=M.useRef("none"),o=i?"mounted":"unmounted",[c,u]=KO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const h=$u(n.current);a.current=c==="mounted"?h:"none"},[c]),qs(()=>{const h=n.current,f=s.current;if(f!==i){const m=a.current,y=$u(h);i?u("MOUNT"):y==="none"||h?.display==="none"?u("UNMOUNT"):u(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=i}},[i,u]),qs(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,g=y=>{const x=$u(n.current).includes(y.animationName);if(y.target===t&&x&&(u("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},m=y=>{y.target===t&&(a.current=$u(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:M.useCallback(h=>{n.current=h?getComputedStyle(h):null,e(h)},[])}}function $u(i){return i?.animationName||"none"}function ZO(i){let t=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=Object.getOwnPropertyDescriptor(i,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}var ch="Tabs",[JO,C5]=Zs(ch,[lh]),zA=lh(),[tN,Fm]=JO(ch),BA=M.forwardRef((i,t)=>{const{__scopeTabs:e,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:c,activationMode:u="automatic",...h}=i,f=jm(c),[g,m]=hc({prop:n,onChange:s,defaultProp:a??"",caller:ch});return A.jsx(tN,{scope:e,baseId:ei(),value:g,onValueChange:m,orientation:o,dir:f,activationMode:u,children:A.jsx(Ht.div,{dir:f,"data-orientation":o,...h,ref:t})})});BA.displayName=ch;var HA="TabsList",UA=M.forwardRef((i,t)=>{const{__scopeTabs:e,loop:n=!0,...s}=i,a=Fm(HA,e),o=zA(e);return A.jsx(jA,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:A.jsx(Ht.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});UA.displayName=HA;var VA="TabsTrigger",GA=M.forwardRef((i,t)=>{const{__scopeTabs:e,value:n,disabled:s=!1,...a}=i,o=Fm(VA,e),c=zA(e),u=WA(o.baseId,n),h=YA(o.baseId,n),f=n===o.value;return A.jsx(FA,{asChild:!0,...c,focusable:!s,active:f,children:A.jsx(Ht.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...a,ref:t,onMouseDown:ae(i.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?o.onValueChange(n):g.preventDefault()}),onKeyDown:ae(i.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&o.onValueChange(n)}),onFocus:ae(i.onFocus,()=>{const g=o.activationMode!=="manual";!f&&!s&&g&&o.onValueChange(n)})})})});GA.displayName=VA;var $A="TabsContent",qA=M.forwardRef((i,t)=>{const{__scopeTabs:e,value:n,forceMount:s,children:a,...o}=i,c=Fm($A,e),u=WA(c.baseId,n),h=YA(c.baseId,n),f=n===c.value,g=M.useRef(f);return M.useEffect(()=>{const m=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(m)},[]),A.jsx(Js,{present:s||f,children:({present:m})=>A.jsx(Ht.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!m,id:h,tabIndex:0,...o,ref:t,style:{...i.style,animationDuration:g.current?"0s":void 0},children:m&&a})})});qA.displayName=$A;function WA(i,t){return`${i}-trigger-${t}`}function YA(i,t){return`${i}-content-${t}`}var eN=BA,nN=UA,iN=GA,sN=qA;function zm({className:i,...t}){return A.jsx(eN,{"data-slot":"tabs",className:$e("flex flex-col gap-2",i),...t})}function XA({className:i,...t}){return A.jsx(nN,{"data-slot":"tabs-list",className:$e("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",i),...t})}function Hl({className:i,...t}){return A.jsx(iN,{"data-slot":"tabs-trigger",className:$e("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...t})}function Ul({className:i,...t}){return A.jsx(sN,{"data-slot":"tabs-content",className:$e("flex-1 outline-none",i),...t})}function aN(i,t){let e;try{e=i()}catch{return}return{getItem:s=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),c=(a=e.getItem(s))!=null?a:null;return c instanceof Promise?c.then(o):o(c)},setItem:(s,a)=>e.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>e.removeItem(s)}}const tm=i=>t=>{try{const e=i(t);return e instanceof Promise?e:{then(n){return tm(n)(e)},catch(n){return this}}}catch(e){return{then(n){return this},catch(n){return tm(n)(e)}}}},rN=(i,t)=>(e,n,s)=>{let a={storage:aN(()=>localStorage),partialize:x=>x,version:0,merge:(x,S)=>({...S,...x}),...t},o=!1;const c=new Set,u=new Set;let h=a.storage;if(!h)return i((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),e(...x)},n,s);const f=()=>{const x=a.partialize({...n()});return h.setItem(a.name,{state:x,version:a.version})},g=s.setState;s.setState=(x,S)=>{g(x,S),f()};const m=i((...x)=>{e(...x),f()},n,s);s.getInitialState=()=>m;let y;const w=()=>{var x,S;if(!h)return;o=!1,c.forEach(T=>{var C;return T((C=n())!=null?C:m)});const _=((S=a.onRehydrateStorage)==null?void 0:S.call(a,(x=n())!=null?x:m))||void 0;return tm(h.getItem.bind(h))(a.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==a.version){if(a.migrate){const C=a.migrate(T.state,T.version);return C instanceof Promise?C.then(k=>[!0,k]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var C;const[k,R]=T;if(y=a.merge(R,(C=n())!=null?C:m),e(y,!0),k)return f()}).then(()=>{_?.(y,void 0),y=n(),o=!0,u.forEach(T=>T(y))}).catch(T=>{_?.(void 0,T)})};return s.persist={setOptions:x=>{a={...a,...x},x.storage&&(h=x.storage)},clearStorage:()=>{h?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:x=>(c.add(x),()=>{c.delete(x)}),onFinishHydration:x=>(u.add(x),()=>{u.delete(x)})},a.skipHydration||w(),y||m},oN=rN,lN=i=>({currentTab:"results",setCurrentTab:t=>{i(e=>({...e,currentTab:t}))}}),Pd=Dm()(oN(lN,{name:"tabs-store"})),cN=()=>{const i=Pd(e=>e.currentTab),t=Pd(e=>e.setCurrentTab);return A.jsx("div",{className:"border-b",children:A.jsx("div",{className:"max-w-7xl px-4",children:A.jsx(zm,{value:i,onValueChange:e=>t(e),className:"w-full",defaultValue:"acts",children:A.jsxs(XA,{className:"grid w-full max-w-md grid-cols-2 bg-transparent p-0",children:[A.jsx(Hl,{value:"results",className:"bg-gray-200 text-gray-700 data-[state=active]:bg-red-800 data-[state=active]:text-white rounded-none border-r",children:"📊 RESULTADOS"}),A.jsx(Hl,{value:"acts",className:"bg-gray-200 text-gray-700 data-[state=active]:bg-red-800 data-[state=active]:text-white rounded-none border-r",children:"📄 ACTAS"})]})})})})};function uN(i,t){if(i.match(/^[a-z]+:\/\//i))return i;if(i.match(/^\/\//))return window.location.protocol+i;if(i.match(/^[a-z]+:/i))return i;const e=document.implementation.createHTMLDocument(),n=e.createElement("base"),s=e.createElement("a");return e.head.appendChild(n),e.body.appendChild(s),t&&(n.href=t),s.href=i,s.href}const dN=(()=>{let i=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(i+=1,`u${t()}${i}`)})();function Hs(i){const t=[];for(let e=0,n=i.length;e<n;e++)t.push(i[e]);return t}let Fr=null;function KA(i={}){return Fr||(i.includeStyleProperties?(Fr=i.includeStyleProperties,Fr):(Fr=Hs(window.getComputedStyle(document.documentElement)),Fr))}function Id(i,t){const n=(i.ownerDocument.defaultView||window).getComputedStyle(i).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function hN(i){const t=Id(i,"border-left-width"),e=Id(i,"border-right-width");return i.clientWidth+t+e}function fN(i){const t=Id(i,"border-top-width"),e=Id(i,"border-bottom-width");return i.clientHeight+t+e}function QA(i,t={}){const e=t.width||hN(i),n=t.height||fN(i);return{width:e,height:n}}function pN(){let i,t;try{t=process}catch{}const e=t&&t.env?t.env.devicePixelRatio:null;return e&&(i=parseInt(e,10),Number.isNaN(i)&&(i=1)),i||window.devicePixelRatio||1}const Ln=16384;function gN(i){(i.width>Ln||i.height>Ln)&&(i.width>Ln&&i.height>Ln?i.width>i.height?(i.height*=Ln/i.width,i.width=Ln):(i.width*=Ln/i.height,i.height=Ln):i.width>Ln?(i.height*=Ln/i.width,i.width=Ln):(i.width*=Ln/i.height,i.height=Ln))}function jd(i){return new Promise((t,e)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=e,n.crossOrigin="anonymous",n.decoding="async",n.src=i})}async function mN(i){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(i)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function bN(i,t,e){const n="http://www.w3.org/2000/svg",s=document.createElementNS(n,"svg"),a=document.createElementNS(n,"foreignObject");return s.setAttribute("width",`${t}`),s.setAttribute("height",`${e}`),s.setAttribute("viewBox",`0 0 ${t} ${e}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),s.appendChild(a),a.appendChild(i),mN(s)}const Cn=(i,t)=>{if(i instanceof t)return!0;const e=Object.getPrototypeOf(i);return e===null?!1:e.constructor.name===t.name||Cn(e,t)};function yN(i){const t=i.getPropertyValue("content");return`${i.cssText} content: '${t.replace(/'|"/g,"")}';`}function vN(i,t){return KA(t).map(e=>{const n=i.getPropertyValue(e),s=i.getPropertyPriority(e);return`${e}: ${n}${s?" !important":""};`}).join(" ")}function xN(i,t,e,n){const s=`.${i}:${t}`,a=e.cssText?yN(e):vN(e,n);return document.createTextNode(`${s}{${a}}`)}function yw(i,t,e,n){const s=window.getComputedStyle(i,e),a=s.getPropertyValue("content");if(a===""||a==="none")return;const o=dN();try{t.className=`${t.className} ${o}`}catch{return}const c=document.createElement("style");c.appendChild(xN(o,e,s,n)),t.appendChild(c)}function wN(i,t,e){yw(i,t,":before",e),yw(i,t,":after",e)}const vw="application/font-woff",xw="image/jpeg",SN={woff:vw,woff2:vw,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:xw,jpeg:xw,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function _N(i){const t=/\.([^./]*?)$/g.exec(i);return t?t[1]:""}function Bm(i){const t=_N(i).toLowerCase();return SN[t]||""}function AN(i){return i.split(/,/)[1]}function em(i){return i.search(/^(data:)/)!==-1}function EN(i,t){return`data:${t};base64,${i}`}async function ZA(i,t,e){const n=await fetch(i,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const s=await n.blob();return new Promise((a,o)=>{const c=new FileReader;c.onerror=o,c.onloadend=()=>{try{a(e({res:n,result:c.result}))}catch(u){o(u)}},c.readAsDataURL(s)})}const rg={};function CN(i,t,e){let n=i.replace(/\?.*/,"");return e&&(n=i),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function Hm(i,t,e){const n=CN(i,t,e.includeQueryParams);if(rg[n]!=null)return rg[n];e.cacheBust&&(i+=(/\?/.test(i)?"&":"?")+new Date().getTime());let s;try{const a=await ZA(i,e.fetchRequestInit,({res:o,result:c})=>(t||(t=o.headers.get("Content-Type")||""),AN(c)));s=EN(a,t)}catch(a){s=e.imagePlaceholder||"";let o=`Failed to fetch resource: ${i}`;a&&(o=typeof a=="string"?a:a.message),o&&console.warn(o)}return rg[n]=s,s}async function TN(i){const t=i.toDataURL();return t==="data:,"?i.cloneNode(!1):jd(t)}async function RN(i,t){if(i.currentSrc){const a=document.createElement("canvas"),o=a.getContext("2d");a.width=i.clientWidth,a.height=i.clientHeight,o?.drawImage(i,0,0,a.width,a.height);const c=a.toDataURL();return jd(c)}const e=i.poster,n=Bm(e),s=await Hm(e,n,t);return jd(s)}async function MN(i,t){var e;try{if(!((e=i?.contentDocument)===null||e===void 0)&&e.body)return await uh(i.contentDocument.body,t,!0)}catch{}return i.cloneNode(!1)}async function kN(i,t){return Cn(i,HTMLCanvasElement)?TN(i):Cn(i,HTMLVideoElement)?RN(i,t):Cn(i,HTMLIFrameElement)?MN(i,t):i.cloneNode(JA(i))}const DN=i=>i.tagName!=null&&i.tagName.toUpperCase()==="SLOT",JA=i=>i.tagName!=null&&i.tagName.toUpperCase()==="SVG";async function ON(i,t,e){var n,s;if(JA(t))return t;let a=[];return DN(i)&&i.assignedNodes?a=Hs(i.assignedNodes()):Cn(i,HTMLIFrameElement)&&(!((n=i.contentDocument)===null||n===void 0)&&n.body)?a=Hs(i.contentDocument.body.childNodes):a=Hs(((s=i.shadowRoot)!==null&&s!==void 0?s:i).childNodes),a.length===0||Cn(i,HTMLVideoElement)||await a.reduce((o,c)=>o.then(()=>uh(c,e)).then(u=>{u&&t.appendChild(u)}),Promise.resolve()),t}function NN(i,t,e){const n=t.style;if(!n)return;const s=window.getComputedStyle(i);s.cssText?(n.cssText=s.cssText,n.transformOrigin=s.transformOrigin):KA(e).forEach(a=>{let o=s.getPropertyValue(a);a==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),Cn(i,HTMLIFrameElement)&&a==="display"&&o==="inline"&&(o="block"),a==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),n.setProperty(a,o,s.getPropertyPriority(a))})}function LN(i,t){Cn(i,HTMLTextAreaElement)&&(t.innerHTML=i.value),Cn(i,HTMLInputElement)&&t.setAttribute("value",i.value)}function PN(i,t){if(Cn(i,HTMLSelectElement)){const e=t,n=Array.from(e.children).find(s=>i.value===s.getAttribute("value"));n&&n.setAttribute("selected","")}}function IN(i,t,e){return Cn(t,Element)&&(NN(i,t,e),wN(i,t,e),LN(i,t),PN(i,t)),t}async function jN(i,t){const e=i.querySelectorAll?i.querySelectorAll("use"):[];if(e.length===0)return i;const n={};for(let a=0;a<e.length;a++){const c=e[a].getAttribute("xlink:href");if(c){const u=i.querySelector(c),h=document.querySelector(c);!u&&h&&!n[c]&&(n[c]=await uh(h,t,!0))}}const s=Object.values(n);if(s.length){const a="http://www.w3.org/1999/xhtml",o=document.createElementNS(a,"svg");o.setAttribute("xmlns",a),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const c=document.createElementNS(a,"defs");o.appendChild(c);for(let u=0;u<s.length;u++)c.appendChild(s[u]);i.appendChild(o)}return i}async function uh(i,t,e){return!e&&t.filter&&!t.filter(i)?null:Promise.resolve(i).then(n=>kN(n,t)).then(n=>ON(i,n,t)).then(n=>IN(i,n,t)).then(n=>jN(n,t))}const t1=/url\((['"]?)([^'"]+?)\1\)/g,FN=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,zN=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function BN(i){const t=i.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function HN(i){const t=[];return i.replace(t1,(e,n,s)=>(t.push(s),e)),t.filter(e=>!em(e))}async function UN(i,t,e,n,s){try{const a=e?uN(t,e):t,o=Bm(t);let c;return s||(c=await Hm(a,o,n)),i.replace(BN(t),`$1${c}$3`)}catch{}return i}function VN(i,{preferredFontFormat:t}){return t?i.replace(zN,e=>{for(;;){const[n,,s]=FN.exec(e)||[];if(!s)return"";if(s===t)return`src: ${n};`}}):i}function e1(i){return i.search(t1)!==-1}async function n1(i,t,e){if(!e1(i))return i;const n=VN(i,e);return HN(n).reduce((a,o)=>a.then(c=>UN(c,o,t,e)),Promise.resolve(n))}async function zr(i,t,e){var n;const s=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(i);if(s){const a=await n1(s,null,e);return t.style.setProperty(i,a,t.style.getPropertyPriority(i)),!0}return!1}async function GN(i,t){await zr("background",i,t)||await zr("background-image",i,t),await zr("mask",i,t)||await zr("-webkit-mask",i,t)||await zr("mask-image",i,t)||await zr("-webkit-mask-image",i,t)}async function $N(i,t){const e=Cn(i,HTMLImageElement);if(!(e&&!em(i.src))&&!(Cn(i,SVGImageElement)&&!em(i.href.baseVal)))return;const n=e?i.src:i.href.baseVal,s=await Hm(n,Bm(n),t);await new Promise((a,o)=>{i.onload=a,i.onerror=t.onImageErrorHandler?(...u)=>{try{a(t.onImageErrorHandler(...u))}catch(h){o(h)}}:o;const c=i;c.decode&&(c.decode=a),c.loading==="lazy"&&(c.loading="eager"),e?(i.srcset="",i.src=s):i.href.baseVal=s})}async function qN(i,t){const n=Hs(i.childNodes).map(s=>i1(s,t));await Promise.all(n).then(()=>i)}async function i1(i,t){Cn(i,Element)&&(await GN(i,t),await $N(i,t),await qN(i,t))}function WN(i,t){const{style:e}=i;t.backgroundColor&&(e.backgroundColor=t.backgroundColor),t.width&&(e.width=`${t.width}px`),t.height&&(e.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(s=>{e[s]=n[s]}),i}const ww={};async function Sw(i){let t=ww[i];if(t!=null)return t;const n=await(await fetch(i)).text();return t={url:i,cssText:n},ww[i]=t,t}async function _w(i,t){let e=i.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,a=(e.match(/url\([^)]+\)/g)||[]).map(async o=>{let c=o.replace(n,"$1");return c.startsWith("https://")||(c=new URL(c,i.url).href),ZA(c,t.fetchRequestInit,({result:u})=>(e=e.replace(o,`url(${u})`),[o,u]))});return Promise.all(a).then(()=>e)}function Aw(i){if(i==null)return[];const t=[],e=/(\/\*[\s\S]*?\*\/)/gi;let n=i.replace(e,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const u=s.exec(n);if(u===null)break;t.push(u[0])}n=n.replace(s,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(o,"gi");for(;;){let u=a.exec(n);if(u===null){if(u=c.exec(n),u===null)break;a.lastIndex=c.lastIndex}else c.lastIndex=a.lastIndex;t.push(u[0])}return t}async function YN(i,t){const e=[],n=[];return i.forEach(s=>{if("cssRules"in s)try{Hs(s.cssRules||[]).forEach((a,o)=>{if(a.type===CSSRule.IMPORT_RULE){let c=o+1;const u=a.href,h=Sw(u).then(f=>_w(f,t)).then(f=>Aw(f).forEach(g=>{try{s.insertRule(g,g.startsWith("@import")?c+=1:s.cssRules.length)}catch(m){console.error("Error inserting rule from remote css",{rule:g,error:m})}})).catch(f=>{console.error("Error loading remote css",f.toString())});n.push(h)}})}catch(a){const o=i.find(c=>c.href==null)||document.styleSheets[0];s.href!=null&&n.push(Sw(s.href).then(c=>_w(c,t)).then(c=>Aw(c).forEach(u=>{o.insertRule(u,o.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",a)}}),Promise.all(n).then(()=>(i.forEach(s=>{if("cssRules"in s)try{Hs(s.cssRules||[]).forEach(a=>{e.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${s.href}`,a)}}),e))}function XN(i){return i.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>e1(t.style.getPropertyValue("src")))}async function KN(i,t){if(i.ownerDocument==null)throw new Error("Provided element is not within a Document");const e=Hs(i.ownerDocument.styleSheets),n=await YN(e,t);return XN(n)}function s1(i){return i.trim().replace(/["']/g,"")}function QN(i){const t=new Set;function e(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(a=>{t.add(s1(a))}),Array.from(n.children).forEach(a=>{a instanceof HTMLElement&&e(a)})}return e(i),t}async function ZN(i,t){const e=await KN(i,t),n=QN(i);return(await Promise.all(e.filter(a=>n.has(s1(a.style.fontFamily))).map(a=>{const o=a.parentStyleSheet?a.parentStyleSheet.href:null;return n1(a.cssText,o,t)}))).join(`
`)}async function JN(i,t){const e=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await ZN(i,t);if(e){const n=document.createElement("style"),s=document.createTextNode(e);n.appendChild(s),i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n)}}async function tL(i,t={}){const{width:e,height:n}=QA(i,t),s=await uh(i,t,!0);return await JN(s,t),await i1(s,t),WN(s,t),await bN(s,e,n)}async function eL(i,t={}){const{width:e,height:n}=QA(i,t),s=await tL(i,t),a=await jd(s),o=document.createElement("canvas"),c=o.getContext("2d"),u=t.pixelRatio||pN(),h=t.canvasWidth||e,f=t.canvasHeight||n;return o.width=h*u,o.height=f*u,t.skipAutoScale||gN(o),o.style.width=`${h}`,o.style.height=`${f}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,o.width,o.height)),c.drawImage(a,0,0,o.width,o.height),o}async function nL(i,t={}){return(await eL(i,t)).toDataURL()}const iL=({targetRef:i,onDownloadClick:t})=>{const[e,n]=M.useState(!1),{setChartType:s,chartType:a,fetchResults:o,chartSortOrder:c,setChartSortOrder:u,isLoading:h}=ao(),f=()=>{if(a!=="bar")return A.jsx(cw,{className:"w-4 h-4"});switch(c){case"desc":return A.jsx(X2,{className:"w-4 h-4"});case"asc":return A.jsx(Q2,{className:"w-4 h-4"});default:return A.jsx(cw,{className:"w-4 h-4"})}},g=async()=>{if(!i.current){console.error("targetRef is not defined");return}n(!0);try{const w=await nL(i.current,{cacheBust:!0,quality:.98,pixelRatio:2}),x=document.createElement("a"),S=new Date().toISOString().replace(/:/g,"-");x.download=`computo-web-app-screenshot-${S}.png`,x.href=w,x.click()}catch(w){console.error(w)}finally{n(!1)}},m=()=>{t?.()},y=()=>{o()};return A.jsx("div",{className:"border-b",children:A.jsx("div",{className:"max-w-7xl px-4 py-2",children:A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx(Pt,{variant:"outline",size:"sm",onClick:y,disabled:h,children:h?A.jsx(Ad,{className:"w-4 h-4 animate-spin"}):A.jsx(Ad,{className:"w-4 h-4"})}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:m,disabled:e,children:A.jsx(Nm,{className:"w-4 h-4"})}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:()=>s("bar"),disabled:a==="bar",children:A.jsx(eD,{className:"w-4 h-4"})}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:()=>s("pie"),disabled:a==="pie",children:A.jsx(iD,{className:"w-4 h-4"})}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:g,disabled:e,children:e?A.jsx(Ad,{className:"w-4 h-4 animate-spin"}):A.jsx(J2,{className:"w-4 h-4"})}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:u,disabled:a!=="bar"||h,title:"Ordenar resultados",children:f()})]})})})};var Ew=1,sL=.9,aL=.8,rL=.17,og=.1,lg=.999,oL=.9999,lL=.99,cL=/[\\\/_+.#"@\[\(\{&]/,uL=/[\\\/_+.#"@\[\(\{&]/g,dL=/[\s-]/,a1=/[\s-]/g;function nm(i,t,e,n,s,a,o){if(a===t.length)return s===i.length?Ew:lL;var c=`${s},${a}`;if(o[c]!==void 0)return o[c];for(var u=n.charAt(a),h=e.indexOf(u,s),f=0,g,m,y,w;h>=0;)g=nm(i,t,e,n,h+1,a+1,o),g>f&&(h===s?g*=Ew:cL.test(i.charAt(h-1))?(g*=aL,y=i.slice(s,h-1).match(uL),y&&s>0&&(g*=Math.pow(lg,y.length))):dL.test(i.charAt(h-1))?(g*=sL,w=i.slice(s,h-1).match(a1),w&&s>0&&(g*=Math.pow(lg,w.length))):(g*=rL,s>0&&(g*=Math.pow(lg,h-s))),i.charAt(h)!==t.charAt(a)&&(g*=oL)),(g<og&&e.charAt(h-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&e.charAt(h-1)!==n.charAt(a))&&(m=nm(i,t,e,n,h+1,a+2,o),m*og>g&&(g=m*og)),g>f&&(f=g),h=e.indexOf(u,h+1);return o[c]=f,f}function Cw(i){return i.toLowerCase().replace(a1," ")}function hL(i,t,e){return i=e&&e.length>0?`${i+" "+e.join(" ")}`:i,nm(i,t,Cw(i),Cw(t),0,0,{})}function fL(i,t=globalThis?.document){const e=za(i);M.useEffect(()=>{const n=s=>{s.key==="Escape"&&e(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[e,t])}var pL="DismissableLayer",im="dismissableLayer.update",gL="dismissableLayer.pointerDownOutside",mL="dismissableLayer.focusOutside",Tw,r1=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Um=M.forwardRef((i,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...u}=i,h=M.useContext(r1),[f,g]=M.useState(null),m=f?.ownerDocument??globalThis?.document,[,y]=M.useState({}),w=Ze(t,N=>g(N)),x=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(S),T=f?x.indexOf(f):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,k=T>=_,R=vL(N=>{const P=N.target,H=[...h.branches].some(W=>W.contains(P));!k||H||(s?.(N),o?.(N),N.defaultPrevented||c?.())},m),O=xL(N=>{const P=N.target;[...h.branches].some(W=>W.contains(P))||(a?.(N),o?.(N),N.defaultPrevented||c?.())},m);return fL(N=>{T===h.layers.size-1&&(n?.(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},m),M.useEffect(()=>{if(f)return e&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Tw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),Rw(),()=>{e&&h.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Tw)}},[f,m,e,h]),M.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),Rw())},[f,h]),M.useEffect(()=>{const N=()=>y({});return document.addEventListener(im,N),()=>document.removeEventListener(im,N)},[]),A.jsx(Ht.div,{...u,ref:w,style:{pointerEvents:C?k?"auto":"none":void 0,...i.style},onFocusCapture:ae(i.onFocusCapture,O.onFocusCapture),onBlurCapture:ae(i.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ae(i.onPointerDownCapture,R.onPointerDownCapture)})});Um.displayName=pL;var bL="DismissableLayerBranch",yL=M.forwardRef((i,t)=>{const e=M.useContext(r1),n=M.useRef(null),s=Ze(t,n);return M.useEffect(()=>{const a=n.current;if(a)return e.branches.add(a),()=>{e.branches.delete(a)}},[e.branches]),A.jsx(Ht.div,{...i,ref:s})});yL.displayName=bL;function vL(i,t=globalThis?.document){const e=za(i),n=M.useRef(!1),s=M.useRef(()=>{});return M.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let u=function(){o1(gL,e,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,e]),{onPointerDownCapture:()=>n.current=!0}}function xL(i,t=globalThis?.document){const e=za(i),n=M.useRef(!1);return M.useEffect(()=>{const s=a=>{a.target&&!n.current&&o1(mL,e,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Rw(){const i=new CustomEvent(im);document.dispatchEvent(i)}function o1(i,t,e,{discrete:n}){const s=e.originalEvent.target,a=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:e});t&&s.addEventListener(i,t,{once:!0}),n?PO(s,a):s.dispatchEvent(a)}var cg="focusScope.autoFocusOnMount",ug="focusScope.autoFocusOnUnmount",Mw={bubbles:!1,cancelable:!0},wL="FocusScope",Vm=M.forwardRef((i,t)=>{const{loop:e=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=i,[c,u]=M.useState(null),h=za(s),f=za(a),g=M.useRef(null),m=Ze(t,x=>u(x)),y=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(n){let x=function(C){if(y.paused||!c)return;const k=C.target;c.contains(k)?g.current=k:js(g.current,{select:!0})},S=function(C){if(y.paused||!c)return;const k=C.relatedTarget;k!==null&&(c.contains(k)||js(g.current,{select:!0}))},_=function(C){if(document.activeElement===document.body)for(const R of C)R.removedNodes.length>0&&js(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const T=new MutationObserver(_);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),T.disconnect()}}},[n,c,y.paused]),M.useEffect(()=>{if(c){Dw.add(y);const x=document.activeElement;if(!c.contains(x)){const _=new CustomEvent(cg,Mw);c.addEventListener(cg,h),c.dispatchEvent(_),_.defaultPrevented||(SL(TL(l1(c)),{select:!0}),document.activeElement===x&&js(c))}return()=>{c.removeEventListener(cg,h),setTimeout(()=>{const _=new CustomEvent(ug,Mw);c.addEventListener(ug,f),c.dispatchEvent(_),_.defaultPrevented||js(x??document.body,{select:!0}),c.removeEventListener(ug,f),Dw.remove(y)},0)}}},[c,h,f,y]);const w=M.useCallback(x=>{if(!e&&!n||y.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(S&&_){const T=x.currentTarget,[C,k]=_L(T);C&&k?!x.shiftKey&&_===k?(x.preventDefault(),e&&js(C,{select:!0})):x.shiftKey&&_===C&&(x.preventDefault(),e&&js(k,{select:!0})):_===T&&x.preventDefault()}},[e,n,y.paused]);return A.jsx(Ht.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});Vm.displayName=wL;function SL(i,{select:t=!1}={}){const e=document.activeElement;for(const n of i)if(js(n,{select:t}),document.activeElement!==e)return}function _L(i){const t=l1(i),e=kw(t,i),n=kw(t.reverse(),i);return[e,n]}function l1(i){const t=[],e=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function kw(i,t){for(const e of i)if(!AL(e,{upTo:t}))return e}function AL(i,{upTo:t}){if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(t!==void 0&&i===t)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}function EL(i){return i instanceof HTMLInputElement&&"select"in i}function js(i,{select:t=!1}={}){if(i&&i.focus){const e=document.activeElement;i.focus({preventScroll:!0}),i!==e&&EL(i)&&t&&i.select()}}var Dw=CL();function CL(){let i=[];return{add(t){const e=i[0];t!==e&&e?.pause(),i=Ow(i,t),i.unshift(t)},remove(t){i=Ow(i,t),i[0]?.resume()}}}function Ow(i,t){const e=[...i],n=e.indexOf(t);return n!==-1&&e.splice(n,1),e}function TL(i){return i.filter(t=>t.tagName!=="A")}var RL="Portal",Gm=M.forwardRef((i,t)=>{const{container:e,...n}=i,[s,a]=M.useState(!1);qs(()=>a(!0),[]);const o=e||s&&globalThis?.document?.body;return o?NO.createPortal(A.jsx(Ht.div,{...n,ref:t}),o):null});Gm.displayName=RL;var dg=0;function c1(){M.useEffect(()=>{const i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",i[0]??Nw()),document.body.insertAdjacentElement("beforeend",i[1]??Nw()),dg++,()=>{dg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),dg--}},[])}function Nw(){const i=document.createElement("span");return i.setAttribute("data-radix-focus-guard",""),i.tabIndex=0,i.style.outline="none",i.style.opacity="0",i.style.position="fixed",i.style.pointerEvents="none",i}var ki=function(){return ki=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ki.apply(this,arguments)};function u1(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e}function ML(i,t,e){if(e||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return i.concat(a||Array.prototype.slice.call(t))}var Ed="right-scroll-bar-position",Cd="width-before-scroll-bar",kL="with-scroll-bars-hidden",DL="--removed-body-scroll-bar-size";function hg(i,t){return typeof i=="function"?i(t):i&&(i.current=t),i}function OL(i,t){var e=M.useState(function(){return{value:i,callback:t,facade:{get current(){return e.value},set current(n){var s=e.value;s!==n&&(e.value=n,e.callback(n,s))}}}})[0];return e.callback=t,e.facade}var NL=typeof window<"u"?M.useLayoutEffect:M.useEffect,Lw=new WeakMap;function LL(i,t){var e=OL(null,function(n){return i.forEach(function(s){return hg(s,n)})});return NL(function(){var n=Lw.get(e);if(n){var s=new Set(n),a=new Set(i),o=e.current;s.forEach(function(c){a.has(c)||hg(c,null)}),a.forEach(function(c){s.has(c)||hg(c,o)})}Lw.set(e,i)},[i]),e}function PL(i){return i}function IL(i,t){t===void 0&&(t=PL);var e=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:i},useMedium:function(a){var o=t(a,n);return e.push(o),function(){e=e.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(n=!0;e.length;){var o=e;e=[],o.forEach(a)}e={push:function(c){return a(c)},filter:function(){return e}}},assignMedium:function(a){n=!0;var o=[];if(e.length){var c=e;e=[],c.forEach(a),o=e}var u=function(){var f=o;o=[],f.forEach(a)},h=function(){return Promise.resolve().then(u)};h(),e={push:function(f){o.push(f),h()},filter:function(f){return o=o.filter(f),e}}}};return s}function jL(i){i===void 0&&(i={});var t=IL(null);return t.options=ki({async:!0,ssr:!1},i),t}var d1=function(i){var t=i.sideCar,e=u1(i,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return M.createElement(n,ki({},e))};d1.isSideCarExport=!0;function FL(i,t){return i.useMedium(t),d1}var h1=jL(),fg=function(){},dh=M.forwardRef(function(i,t){var e=M.useRef(null),n=M.useState({onScrollCapture:fg,onWheelCapture:fg,onTouchMoveCapture:fg}),s=n[0],a=n[1],o=i.forwardProps,c=i.children,u=i.className,h=i.removeScrollBar,f=i.enabled,g=i.shards,m=i.sideCar,y=i.noRelative,w=i.noIsolation,x=i.inert,S=i.allowPinchZoom,_=i.as,T=_===void 0?"div":_,C=i.gapMode,k=u1(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=m,O=LL([e,t]),N=ki(ki({},k),s);return M.createElement(M.Fragment,null,f&&M.createElement(R,{sideCar:h1,removeScrollBar:h,shards:g,noRelative:y,noIsolation:w,inert:x,setCallbacks:a,allowPinchZoom:!!S,lockRef:e,gapMode:C}),o?M.cloneElement(M.Children.only(c),ki(ki({},N),{ref:O})):M.createElement(T,ki({},N,{className:u,ref:O}),c))});dh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dh.classNames={fullWidth:Cd,zeroRight:Ed};var zL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BL(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var t=zL();return t&&i.setAttribute("nonce",t),i}function HL(i,t){i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}function UL(i){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(i)}var VL=function(){var i=0,t=null;return{add:function(e){i==0&&(t=BL())&&(HL(t,e),UL(t)),i++},remove:function(){i--,!i&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},GL=function(){var i=VL();return function(t,e){M.useEffect(function(){return i.add(t),function(){i.remove()}},[t&&e])}},f1=function(){var i=GL(),t=function(e){var n=e.styles,s=e.dynamic;return i(n,s),null};return t},$L={left:0,top:0,right:0,gap:0},pg=function(i){return parseInt(i||"",10)||0},qL=function(i){var t=window.getComputedStyle(document.body),e=t[i==="padding"?"paddingLeft":"marginLeft"],n=t[i==="padding"?"paddingTop":"marginTop"],s=t[i==="padding"?"paddingRight":"marginRight"];return[pg(e),pg(n),pg(s)]},WL=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return $L;var t=qL(i),e=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-e+t[2]-t[0])}},YL=f1(),Qr="data-scroll-locked",XL=function(i,t,e,n){var s=i.left,a=i.top,o=i.right,c=i.gap;return e===void 0&&(e="margin"),`
  .`.concat(kL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Qr,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),e==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),e==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ed,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Cd,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Cd," .").concat(Cd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Qr,`] {
    `).concat(DL,": ").concat(c,`px;
  }
`)},Pw=function(){var i=parseInt(document.body.getAttribute(Qr)||"0",10);return isFinite(i)?i:0},KL=function(){M.useEffect(function(){return document.body.setAttribute(Qr,(Pw()+1).toString()),function(){var i=Pw()-1;i<=0?document.body.removeAttribute(Qr):document.body.setAttribute(Qr,i.toString())}},[])},QL=function(i){var t=i.noRelative,e=i.noImportant,n=i.gapMode,s=n===void 0?"margin":n;KL();var a=M.useMemo(function(){return WL(s)},[s]);return M.createElement(YL,{styles:XL(a,!t,s,e?"":"!important")})},sm=!1;if(typeof window<"u")try{var qu=Object.defineProperty({},"passive",{get:function(){return sm=!0,!0}});window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,qu)}catch{sm=!1}var Br=sm?{passive:!1}:!1,ZL=function(i){return i.tagName==="TEXTAREA"},p1=function(i,t){if(!(i instanceof Element))return!1;var e=window.getComputedStyle(i);return e[t]!=="hidden"&&!(e.overflowY===e.overflowX&&!ZL(i)&&e[t]==="visible")},JL=function(i){return p1(i,"overflowY")},tP=function(i){return p1(i,"overflowX")},Iw=function(i,t){var e=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=g1(i,n);if(s){var a=m1(i,n),o=a[1],c=a[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==e.body);return!1},eP=function(i){var t=i.scrollTop,e=i.scrollHeight,n=i.clientHeight;return[t,e,n]},nP=function(i){var t=i.scrollLeft,e=i.scrollWidth,n=i.clientWidth;return[t,e,n]},g1=function(i,t){return i==="v"?JL(t):tP(t)},m1=function(i,t){return i==="v"?eP(t):nP(t)},iP=function(i,t){return i==="h"&&t==="rtl"?-1:1},sP=function(i,t,e,n,s){var a=iP(i,window.getComputedStyle(t).direction),o=a*n,c=e.target,u=t.contains(c),h=!1,f=o>0,g=0,m=0;do{if(!c)break;var y=m1(i,c),w=y[0],x=y[1],S=y[2],_=x-S-a*w;(w||_)&&g1(i,c)&&(g+=_,m+=w);var T=c.parentNode;c=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(f&&Math.abs(g)<1||!f&&Math.abs(m)<1)&&(h=!0),h},Wu=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},jw=function(i){return[i.deltaX,i.deltaY]},Fw=function(i){return i&&"current"in i?i.current:i},aP=function(i,t){return i[0]===t[0]&&i[1]===t[1]},rP=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},oP=0,Hr=[];function lP(i){var t=M.useRef([]),e=M.useRef([0,0]),n=M.useRef(),s=M.useState(oP++)[0],a=M.useState(f1)[0],o=M.useRef(i);M.useEffect(function(){o.current=i},[i]),M.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(s));var x=ML([i.lockRef.current],(i.shards||[]).map(Fw),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[i.inert,i.lockRef.current,i.shards]);var c=M.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var _=Wu(x),T=e.current,C="deltaX"in x?x.deltaX:T[0]-_[0],k="deltaY"in x?x.deltaY:T[1]-_[1],R,O=x.target,N=Math.abs(C)>Math.abs(k)?"h":"v";if("touches"in x&&N==="h"&&O.type==="range")return!1;var P=Iw(N,O);if(!P)return!0;if(P?R=N:(R=N==="v"?"h":"v",P=Iw(N,O)),!P)return!1;if(!n.current&&"changedTouches"in x&&(C||k)&&(n.current=R),!R)return!0;var H=n.current||R;return sP(H,S,x,H==="h"?C:k)},[]),u=M.useCallback(function(x){var S=x;if(!(!Hr.length||Hr[Hr.length-1]!==a)){var _="deltaY"in S?jw(S):Wu(S),T=t.current.filter(function(R){return R.name===S.type&&(R.target===S.target||S.target===R.shadowParent)&&aP(R.delta,_)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var C=(o.current.shards||[]).map(Fw).filter(Boolean).filter(function(R){return R.contains(S.target)}),k=C.length>0?c(S,C[0]):!o.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),h=M.useCallback(function(x,S,_,T){var C={name:x,delta:S,target:_,should:T,shadowParent:cP(_)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(k){return k!==C})},1)},[]),f=M.useCallback(function(x){e.current=Wu(x),n.current=void 0},[]),g=M.useCallback(function(x){h(x.type,jw(x),x.target,c(x,i.lockRef.current))},[]),m=M.useCallback(function(x){h(x.type,Wu(x),x.target,c(x,i.lockRef.current))},[]);M.useEffect(function(){return Hr.push(a),i.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Br),document.addEventListener("touchmove",u,Br),document.addEventListener("touchstart",f,Br),function(){Hr=Hr.filter(function(x){return x!==a}),document.removeEventListener("wheel",u,Br),document.removeEventListener("touchmove",u,Br),document.removeEventListener("touchstart",f,Br)}},[]);var y=i.removeScrollBar,w=i.inert;return M.createElement(M.Fragment,null,w?M.createElement(a,{styles:rP(s)}):null,y?M.createElement(QL,{noRelative:i.noRelative,gapMode:i.gapMode}):null)}function cP(i){for(var t=null;i!==null;)i instanceof ShadowRoot&&(t=i.host,i=i.host),i=i.parentNode;return t}const uP=FL(h1,lP);var $m=M.forwardRef(function(i,t){return M.createElement(dh,ki({},i,{ref:t,sideCar:uP}))});$m.classNames=dh.classNames;var dP=function(i){if(typeof document>"u")return null;var t=Array.isArray(i)?i[0]:i;return t.ownerDocument.body},Ur=new WeakMap,Yu=new WeakMap,Xu={},gg=0,b1=function(i){return i&&(i.host||b1(i.parentNode))},hP=function(i,t){return t.map(function(e){if(i.contains(e))return e;var n=b1(e);return n&&i.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",i,". Doing nothing"),null)}).filter(function(e){return!!e})},fP=function(i,t,e,n){var s=hP(t,Array.isArray(i)?i:[i]);Xu[e]||(Xu[e]=new WeakMap);var a=Xu[e],o=[],c=new Set,u=new Set(s),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};s.forEach(h);var f=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(m){if(c.has(m))f(m);else try{var y=m.getAttribute(n),w=y!==null&&y!=="false",x=(Ur.get(m)||0)+1,S=(a.get(m)||0)+1;Ur.set(m,x),a.set(m,S),o.push(m),x===1&&w&&Yu.set(m,!0),S===1&&m.setAttribute(e,"true"),w||m.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return f(t),c.clear(),gg++,function(){o.forEach(function(g){var m=Ur.get(g)-1,y=a.get(g)-1;Ur.set(g,m),a.set(g,y),m||(Yu.has(g)||g.removeAttribute(n),Yu.delete(g)),y||g.removeAttribute(e)}),gg--,gg||(Ur=new WeakMap,Ur=new WeakMap,Yu=new WeakMap,Xu={})}},y1=function(i,t,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(i)?i:[i]),s=dP(i);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),fP(n,s,e,"aria-hidden")):function(){return null}},hh="Dialog",[v1,T5]=Zs(hh),[pP,hi]=v1(hh),x1=i=>{const{__scopeDialog:t,children:e,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=i,c=M.useRef(null),u=M.useRef(null),[h,f]=hc({prop:n,defaultProp:s??!1,onChange:a,caller:hh});return A.jsx(pP,{scope:t,triggerRef:c,contentRef:u,contentId:ei(),titleId:ei(),descriptionId:ei(),open:h,onOpenChange:f,onOpenToggle:M.useCallback(()=>f(g=>!g),[f]),modal:o,children:e})};x1.displayName=hh;var w1="DialogTrigger",gP=M.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,s=hi(w1,e),a=Ze(t,s.triggerRef);return A.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ym(s.open),...n,ref:a,onClick:ae(i.onClick,s.onOpenToggle)})});gP.displayName=w1;var qm="DialogPortal",[mP,S1]=v1(qm,{forceMount:void 0}),_1=i=>{const{__scopeDialog:t,forceMount:e,children:n,container:s}=i,a=hi(qm,t);return A.jsx(mP,{scope:t,forceMount:e,children:M.Children.map(n,o=>A.jsx(Js,{present:e||a.open,children:A.jsx(Gm,{asChild:!0,container:s,children:o})}))})};_1.displayName=qm;var Fd="DialogOverlay",A1=M.forwardRef((i,t)=>{const e=S1(Fd,i.__scopeDialog),{forceMount:n=e.forceMount,...s}=i,a=hi(Fd,i.__scopeDialog);return a.modal?A.jsx(Js,{present:n||a.open,children:A.jsx(yP,{...s,ref:t})}):null});A1.displayName=Fd;var bP=ro("DialogOverlay.RemoveScroll"),yP=M.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,s=hi(Fd,e);return A.jsx($m,{as:bP,allowPinchZoom:!0,shards:[s.contentRef],children:A.jsx(Ht.div,{"data-state":Ym(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ba="DialogContent",E1=M.forwardRef((i,t)=>{const e=S1(Ba,i.__scopeDialog),{forceMount:n=e.forceMount,...s}=i,a=hi(Ba,i.__scopeDialog);return A.jsx(Js,{present:n||a.open,children:a.modal?A.jsx(vP,{...s,ref:t}):A.jsx(xP,{...s,ref:t})})});E1.displayName=Ba;var vP=M.forwardRef((i,t)=>{const e=hi(Ba,i.__scopeDialog),n=M.useRef(null),s=Ze(t,e.contentRef,n);return M.useEffect(()=>{const a=n.current;if(a)return y1(a)},[]),A.jsx(C1,{...i,ref:s,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(i.onCloseAutoFocus,a=>{a.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:ae(i.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:ae(i.onFocusOutside,a=>a.preventDefault())})}),xP=M.forwardRef((i,t)=>{const e=hi(Ba,i.__scopeDialog),n=M.useRef(!1),s=M.useRef(!1);return A.jsx(C1,{...i,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{i.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||e.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{i.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;e.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),C1=M.forwardRef((i,t)=>{const{__scopeDialog:e,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=i,c=hi(Ba,e),u=M.useRef(null),h=Ze(t,u);return c1(),A.jsxs(A.Fragment,{children:[A.jsx(Vm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:A.jsx(Um,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Ym(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),A.jsxs(A.Fragment,{children:[A.jsx(SP,{titleId:c.titleId}),A.jsx(AP,{contentRef:u,descriptionId:c.descriptionId})]})]})}),Wm="DialogTitle",T1=M.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,s=hi(Wm,e);return A.jsx(Ht.h2,{id:s.titleId,...n,ref:t})});T1.displayName=Wm;var R1="DialogDescription",wP=M.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,s=hi(R1,e);return A.jsx(Ht.p,{id:s.descriptionId,...n,ref:t})});wP.displayName=R1;var M1="DialogClose",k1=M.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,s=hi(M1,e);return A.jsx(Ht.button,{type:"button",...n,ref:t,onClick:ae(i.onClick,()=>s.onOpenChange(!1))})});k1.displayName=M1;function Ym(i){return i?"open":"closed"}var D1="DialogTitleWarning",[R5,O1]=RO(D1,{contentName:Ba,titleName:Wm,docsSlug:"dialog"}),SP=({titleId:i})=>{const t=O1(D1),e=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return M.useEffect(()=>{i&&(document.getElementById(i)||console.error(e))},[e,i]),null},_P="DialogDescriptionWarning",AP=({contentRef:i,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${O1(_P).contentName}}.`;return M.useEffect(()=>{const s=i.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,i,t]),null},N1=x1,L1=_1,P1=A1,I1=E1,EP=T1,CP=k1,_l='[cmdk-group=""]',mg='[cmdk-group-items=""]',TP='[cmdk-group-heading=""]',j1='[cmdk-item=""]',zw=`${j1}:not([aria-disabled="true"])`,am="cmdk-item-select",$r="data-value",RP=(i,t,e)=>hL(i,t,e),F1=M.createContext(void 0),pc=()=>M.useContext(F1),z1=M.createContext(void 0),Xm=()=>M.useContext(z1),B1=M.createContext(void 0),H1=M.forwardRef((i,t)=>{let e=qr(()=>{var B,G;return{search:"",value:(G=(B=i.value)!=null?B:i.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=qr(()=>new Set),s=qr(()=>new Map),a=qr(()=>new Map),o=qr(()=>new Set),c=U1(i),{label:u,children:h,value:f,onValueChange:g,filter:m,shouldFilter:y,loop:w,disablePointerSelection:x=!1,vimBindings:S=!0,..._}=i,T=ei(),C=ei(),k=ei(),R=M.useRef(null),O=zP();Ha(()=>{if(f!==void 0){let B=f.trim();e.current.value=B,N.emit()}},[f]),Ha(()=>{O(6,lt)},[]);let N=M.useMemo(()=>({subscribe:B=>(o.current.add(B),()=>o.current.delete(B)),snapshot:()=>e.current,setState:(B,G,J)=>{var st,ot,ct,bt;if(!Object.is(e.current[B],G)){if(e.current[B]=G,B==="search")et(),W(),O(1,K);else if(B==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Et=document.getElementById(k);Et?Et.focus():(st=document.getElementById(T))==null||st.focus()}if(O(7,()=>{var Et;e.current.selectedItemId=(Et=at())==null?void 0:Et.id,N.emit()}),J||O(5,lt),((ot=c.current)==null?void 0:ot.value)!==void 0){let Et=G??"";(bt=(ct=c.current).onValueChange)==null||bt.call(ct,Et);return}}N.emit()}},emit:()=>{o.current.forEach(B=>B())}}),[]),P=M.useMemo(()=>({value:(B,G,J)=>{var st;G!==((st=a.current.get(B))==null?void 0:st.value)&&(a.current.set(B,{value:G,keywords:J}),e.current.filtered.items.set(B,H(G,J)),O(2,()=>{W(),N.emit()}))},item:(B,G)=>(n.current.add(B),G&&(s.current.has(G)?s.current.get(G).add(B):s.current.set(G,new Set([B]))),O(3,()=>{et(),W(),e.current.value||K(),N.emit()}),()=>{a.current.delete(B),n.current.delete(B),e.current.filtered.items.delete(B);let J=at();O(4,()=>{et(),J?.getAttribute("id")===B&&K(),N.emit()})}),group:B=>(s.current.has(B)||s.current.set(B,new Set),()=>{a.current.delete(B),s.current.delete(B)}),filter:()=>c.current.shouldFilter,label:u||i["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:T,inputId:k,labelId:C,listInnerRef:R}),[]);function H(B,G){var J,st;let ot=(st=(J=c.current)==null?void 0:J.filter)!=null?st:RP;return B?ot(B,e.current.search,G):0}function W(){if(!e.current.search||c.current.shouldFilter===!1)return;let B=e.current.filtered.items,G=[];e.current.filtered.groups.forEach(st=>{let ot=s.current.get(st),ct=0;ot.forEach(bt=>{let Et=B.get(bt);ct=Math.max(Et,ct)}),G.push([st,ct])});let J=R.current;rt().sort((st,ot)=>{var ct,bt;let Et=st.getAttribute("id"),Mt=ot.getAttribute("id");return((ct=B.get(Mt))!=null?ct:0)-((bt=B.get(Et))!=null?bt:0)}).forEach(st=>{let ot=st.closest(mg);ot?ot.appendChild(st.parentElement===ot?st:st.closest(`${mg} > *`)):J.appendChild(st.parentElement===J?st:st.closest(`${mg} > *`))}),G.sort((st,ot)=>ot[1]-st[1]).forEach(st=>{var ot;let ct=(ot=R.current)==null?void 0:ot.querySelector(`${_l}[${$r}="${encodeURIComponent(st[0])}"]`);ct?.parentElement.appendChild(ct)})}function K(){let B=rt().find(J=>J.getAttribute("aria-disabled")!=="true"),G=B?.getAttribute($r);N.setState("value",G||void 0)}function et(){var B,G,J,st;if(!e.current.search||c.current.shouldFilter===!1){e.current.filtered.count=n.current.size;return}e.current.filtered.groups=new Set;let ot=0;for(let ct of n.current){let bt=(G=(B=a.current.get(ct))==null?void 0:B.value)!=null?G:"",Et=(st=(J=a.current.get(ct))==null?void 0:J.keywords)!=null?st:[],Mt=H(bt,Et);e.current.filtered.items.set(ct,Mt),Mt>0&&ot++}for(let[ct,bt]of s.current)for(let Et of bt)if(e.current.filtered.items.get(Et)>0){e.current.filtered.groups.add(ct);break}e.current.filtered.count=ot}function lt(){var B,G,J;let st=at();st&&(((B=st.parentElement)==null?void 0:B.firstChild)===st&&((J=(G=st.closest(_l))==null?void 0:G.querySelector(TP))==null||J.scrollIntoView({block:"nearest"})),st.scrollIntoView({block:"nearest"}))}function at(){var B;return(B=R.current)==null?void 0:B.querySelector(`${j1}[aria-selected="true"]`)}function rt(){var B;return Array.from(((B=R.current)==null?void 0:B.querySelectorAll(zw))||[])}function L(B){let G=rt()[B];G&&N.setState("value",G.getAttribute($r))}function F(B){var G;let J=at(),st=rt(),ot=st.findIndex(bt=>bt===J),ct=st[ot+B];(G=c.current)!=null&&G.loop&&(ct=ot+B<0?st[st.length-1]:ot+B===st.length?st[0]:st[ot+B]),ct&&N.setState("value",ct.getAttribute($r))}function V(B){let G=at(),J=G?.closest(_l),st;for(;J&&!st;)J=B>0?jP(J,_l):FP(J,_l),st=J?.querySelector(zw);st?N.setState("value",st.getAttribute($r)):F(B)}let ut=()=>L(rt().length-1),I=B=>{B.preventDefault(),B.metaKey?ut():B.altKey?V(1):F(1)},Z=B=>{B.preventDefault(),B.metaKey?L(0):B.altKey?V(-1):F(-1)};return M.createElement(Ht.div,{ref:t,tabIndex:-1,..._,"cmdk-root":"",onKeyDown:B=>{var G;(G=_.onKeyDown)==null||G.call(_,B);let J=B.nativeEvent.isComposing||B.keyCode===229;if(!(B.defaultPrevented||J))switch(B.key){case"n":case"j":{S&&B.ctrlKey&&I(B);break}case"ArrowDown":{I(B);break}case"p":case"k":{S&&B.ctrlKey&&Z(B);break}case"ArrowUp":{Z(B);break}case"Home":{B.preventDefault(),L(0);break}case"End":{B.preventDefault(),ut();break}case"Enter":{B.preventDefault();let st=at();if(st){let ot=new Event(am);st.dispatchEvent(ot)}}}}},M.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:HP},u),fh(i,B=>M.createElement(z1.Provider,{value:N},M.createElement(F1.Provider,{value:P},B))))}),MP=M.forwardRef((i,t)=>{var e,n;let s=ei(),a=M.useRef(null),o=M.useContext(B1),c=pc(),u=U1(i),h=(n=(e=u.current)==null?void 0:e.forceMount)!=null?n:o?.forceMount;Ha(()=>{if(!h)return c.item(s,o?.id)},[h]);let f=V1(s,a,[i.value,i.children,a],i.keywords),g=Xm(),m=Ws(O=>O.value&&O.value===f.current),y=Ws(O=>h||c.filter()===!1?!0:O.search?O.filtered.items.get(s)>0:!0);M.useEffect(()=>{let O=a.current;if(!(!O||i.disabled))return O.addEventListener(am,w),()=>O.removeEventListener(am,w)},[y,i.onSelect,i.disabled]);function w(){var O,N;x(),(N=(O=u.current).onSelect)==null||N.call(O,f.current)}function x(){g.setState("value",f.current,!0)}if(!y)return null;let{disabled:S,value:_,onSelect:T,forceMount:C,keywords:k,...R}=i;return M.createElement(Ht.div,{ref:Fa(a,t),...R,id:s,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!m,"data-disabled":!!S,"data-selected":!!m,onPointerMove:S||c.getDisablePointerSelection()?void 0:x,onClick:S?void 0:w},i.children)}),kP=M.forwardRef((i,t)=>{let{heading:e,children:n,forceMount:s,...a}=i,o=ei(),c=M.useRef(null),u=M.useRef(null),h=ei(),f=pc(),g=Ws(y=>s||f.filter()===!1?!0:y.search?y.filtered.groups.has(o):!0);Ha(()=>f.group(o),[]),V1(o,c,[i.value,i.heading,u]);let m=M.useMemo(()=>({id:o,forceMount:s}),[s]);return M.createElement(Ht.div,{ref:Fa(c,t),...a,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},e&&M.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:h},e),fh(i,y=>M.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":e?h:void 0},M.createElement(B1.Provider,{value:m},y))))}),DP=M.forwardRef((i,t)=>{let{alwaysRender:e,...n}=i,s=M.useRef(null),a=Ws(o=>!o.search);return!e&&!a?null:M.createElement(Ht.div,{ref:Fa(s,t),...n,"cmdk-separator":"",role:"separator"})}),OP=M.forwardRef((i,t)=>{let{onValueChange:e,...n}=i,s=i.value!=null,a=Xm(),o=Ws(h=>h.search),c=Ws(h=>h.selectedItemId),u=pc();return M.useEffect(()=>{i.value!=null&&a.setState("search",i.value)},[i.value]),M.createElement(Ht.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":c,id:u.inputId,type:"text",value:s?i.value:o,onChange:h=>{s||a.setState("search",h.target.value),e?.(h.target.value)}})}),NP=M.forwardRef((i,t)=>{let{children:e,label:n="Suggestions",...s}=i,a=M.useRef(null),o=M.useRef(null),c=Ws(h=>h.selectedItemId),u=pc();return M.useEffect(()=>{if(o.current&&a.current){let h=o.current,f=a.current,g,m=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let y=h.offsetHeight;f.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return m.observe(h),()=>{cancelAnimationFrame(g),m.unobserve(h)}}},[]),M.createElement(Ht.div,{ref:Fa(a,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":n,id:u.listId},fh(i,h=>M.createElement("div",{ref:Fa(o,u.listInnerRef),"cmdk-list-sizer":""},h)))}),LP=M.forwardRef((i,t)=>{let{open:e,onOpenChange:n,overlayClassName:s,contentClassName:a,container:o,...c}=i;return M.createElement(N1,{open:e,onOpenChange:n},M.createElement(L1,{container:o},M.createElement(P1,{"cmdk-overlay":"",className:s}),M.createElement(I1,{"aria-label":i.label,"cmdk-dialog":"",className:a},M.createElement(H1,{ref:t,...c}))))}),PP=M.forwardRef((i,t)=>Ws(e=>e.filtered.count===0)?M.createElement(Ht.div,{ref:t,...i,"cmdk-empty":"",role:"presentation"}):null),IP=M.forwardRef((i,t)=>{let{progress:e,children:n,label:s="Loading...",...a}=i;return M.createElement(Ht.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},fh(i,o=>M.createElement("div",{"aria-hidden":!0},o)))}),gc=Object.assign(H1,{List:NP,Item:MP,Input:OP,Group:kP,Separator:DP,Dialog:LP,Empty:PP,Loading:IP});function jP(i,t){let e=i.nextElementSibling;for(;e;){if(e.matches(t))return e;e=e.nextElementSibling}}function FP(i,t){let e=i.previousElementSibling;for(;e;){if(e.matches(t))return e;e=e.previousElementSibling}}function U1(i){let t=M.useRef(i);return Ha(()=>{t.current=i}),t}var Ha=typeof window>"u"?M.useEffect:M.useLayoutEffect;function qr(i){let t=M.useRef();return t.current===void 0&&(t.current=i()),t}function Ws(i){let t=Xm(),e=()=>i(t.snapshot());return M.useSyncExternalStore(t.subscribe,e,e)}function V1(i,t,e,n=[]){let s=M.useRef(),a=pc();return Ha(()=>{var o;let c=(()=>{var h;for(let f of e){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(h=f.current.textContent)==null?void 0:h.trim():s.current}})(),u=n.map(h=>h.trim());a.value(i,c,u),(o=t.current)==null||o.setAttribute($r,c),s.current=c}),s}var zP=()=>{let[i,t]=M.useState(),e=qr(()=>new Map);return Ha(()=>{e.current.forEach(n=>n()),e.current=new Map},[i]),(n,s)=>{e.current.set(n,s),t({})}};function BP(i){let t=i.type;return typeof t=="function"?t(i.props):"render"in t?t.render(i.props):i}function fh({asChild:i,children:t},e){return i&&M.isValidElement(t)?M.cloneElement(BP(t),{ref:t.ref},e(t.props.children)):e(t)}var HP={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function G1({...i}){return A.jsx(N1,{"data-slot":"dialog",...i})}function UP({...i}){return A.jsx(L1,{"data-slot":"dialog-portal",...i})}function VP({className:i,...t}){return A.jsx(P1,{"data-slot":"dialog-overlay",className:$e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",i),...t})}function $1({className:i,children:t,showCloseButton:e=!0,...n}){return A.jsxs(UP,{"data-slot":"dialog-portal",children:[A.jsx(VP,{}),A.jsxs(I1,{"data-slot":"dialog-content",className:$e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",i),...n,children:[t,e&&A.jsxs(CP,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[A.jsx(Lm,{}),A.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function GP({className:i,...t}){return A.jsx("div",{"data-slot":"dialog-header",className:$e("flex flex-col gap-2 text-center sm:text-left",i),...t})}function $P({className:i,...t}){return A.jsx(EP,{"data-slot":"dialog-title",className:$e("text-lg leading-none font-semibold",i),...t})}function qP({className:i,...t}){return A.jsx(gc,{"data-slot":"command",className:$e("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",i),...t})}function WP({className:i,...t}){return A.jsx(gc.List,{"data-slot":"command-list",className:$e("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",i),...t})}function YP({...i}){return A.jsx(gc.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...i})}function XP({className:i,...t}){return A.jsx(gc.Group,{"data-slot":"command-group",className:$e("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",i),...t})}function KP({className:i,...t}){return A.jsx(gc.Item,{"data-slot":"command-item",className:$e("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...t})}function Ll({className:i,type:t,...e}){return A.jsx("input",{type:t,"data-slot":"input",className:$e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),...e})}const QP=["top","right","bottom","left"],Ys=Math.min,Fn=Math.max,zd=Math.round,Ku=Math.floor,Ni=i=>({x:i,y:i}),ZP={left:"right",right:"left",bottom:"top",top:"bottom"},JP={start:"end",end:"start"};function rm(i,t,e){return Fn(i,Ys(t,e))}function ls(i,t){return typeof i=="function"?i(t):i}function cs(i){return i.split("-")[0]}function bo(i){return i.split("-")[1]}function Km(i){return i==="x"?"y":"x"}function Qm(i){return i==="y"?"height":"width"}const tI=new Set(["top","bottom"]);function Oi(i){return tI.has(cs(i))?"y":"x"}function Zm(i){return Km(Oi(i))}function eI(i,t,e){e===void 0&&(e=!1);const n=bo(i),s=Zm(i),a=Qm(s);let o=s==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Bd(o)),[o,Bd(o)]}function nI(i){const t=Bd(i);return[om(i),t,om(t)]}function om(i){return i.replace(/start|end/g,t=>JP[t])}const Bw=["left","right"],Hw=["right","left"],iI=["top","bottom"],sI=["bottom","top"];function aI(i,t,e){switch(i){case"top":case"bottom":return e?t?Hw:Bw:t?Bw:Hw;case"left":case"right":return t?iI:sI;default:return[]}}function rI(i,t,e,n){const s=bo(i);let a=aI(cs(i),e==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(om)))),a}function Bd(i){return i.replace(/left|right|bottom|top/g,t=>ZP[t])}function oI(i){return{top:0,right:0,bottom:0,left:0,...i}}function q1(i){return typeof i!="number"?oI(i):{top:i,right:i,bottom:i,left:i}}function Hd(i){const{x:t,y:e,width:n,height:s}=i;return{width:n,height:s,top:e,left:t,right:t+n,bottom:e+s,x:t,y:e}}function Uw(i,t,e){let{reference:n,floating:s}=i;const a=Oi(t),o=Zm(t),c=Qm(o),u=cs(t),h=a==="y",f=n.x+n.width/2-s.width/2,g=n.y+n.height/2-s.height/2,m=n[c]/2-s[c]/2;let y;switch(u){case"top":y={x:f,y:n.y-s.height};break;case"bottom":y={x:f,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:g};break;case"left":y={x:n.x-s.width,y:g};break;default:y={x:n.x,y:n.y}}switch(bo(t)){case"start":y[o]-=m*(e&&h?-1:1);break;case"end":y[o]+=m*(e&&h?-1:1);break}return y}const lI=async(i,t,e)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=e,c=a.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let h=await o.getElementRects({reference:i,floating:t,strategy:s}),{x:f,y:g}=Uw(h,n,u),m=n,y={},w=0;for(let x=0;x<c.length;x++){const{name:S,fn:_}=c[x],{x:T,y:C,data:k,reset:R}=await _({x:f,y:g,initialPlacement:n,placement:m,strategy:s,middlewareData:y,rects:h,platform:o,elements:{reference:i,floating:t}});f=T??f,g=C??g,y={...y,[S]:{...y[S],...k}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(m=R.placement),R.rects&&(h=R.rects===!0?await o.getElementRects({reference:i,floating:t,strategy:s}):R.rects),{x:f,y:g}=Uw(h,m,u)),x=-1)}return{x:f,y:g,placement:m,strategy:s,middlewareData:y}};async function Ql(i,t){var e;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:c,strategy:u}=i,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:m=!1,padding:y=0}=ls(t,i),w=q1(y),S=c[m?g==="floating"?"reference":"floating":g],_=Hd(await a.getClippingRect({element:(e=await(a.isElement==null?void 0:a.isElement(S)))==null||e?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:f,strategy:u})),T=g==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),k=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},R=Hd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:C,strategy:u}):T);return{top:(_.top-R.top+w.top)/k.y,bottom:(R.bottom-_.bottom+w.bottom)/k.y,left:(_.left-R.left+w.left)/k.x,right:(R.right-_.right+w.right)/k.x}}const cI=i=>({name:"arrow",options:i,async fn(t){const{x:e,y:n,placement:s,rects:a,platform:o,elements:c,middlewareData:u}=t,{element:h,padding:f=0}=ls(i,t)||{};if(h==null)return{};const g=q1(f),m={x:e,y:n},y=Zm(s),w=Qm(y),x=await o.getDimensions(h),S=y==="y",_=S?"top":"left",T=S?"bottom":"right",C=S?"clientHeight":"clientWidth",k=a.reference[w]+a.reference[y]-m[y]-a.floating[w],R=m[y]-a.reference[y],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let N=O?O[C]:0;(!N||!await(o.isElement==null?void 0:o.isElement(O)))&&(N=c.floating[C]||a.floating[w]);const P=k/2-R/2,H=N/2-x[w]/2-1,W=Ys(g[_],H),K=Ys(g[T],H),et=W,lt=N-x[w]-K,at=N/2-x[w]/2+P,rt=rm(et,at,lt),L=!u.arrow&&bo(s)!=null&&at!==rt&&a.reference[w]/2-(at<et?W:K)-x[w]/2<0,F=L?at<et?at-et:at-lt:0;return{[y]:m[y]+F,data:{[y]:rt,centerOffset:at-rt-F,...L&&{alignmentOffset:F}},reset:L}}}),uI=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(t){var e,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:c,platform:u,elements:h}=t,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...S}=ls(i,t);if((e=a.arrow)!=null&&e.alignmentOffset)return{};const _=cs(s),T=Oi(c),C=cs(c)===c,k=await(u.isRTL==null?void 0:u.isRTL(h.floating)),R=m||(C||!x?[Bd(c)]:nI(c)),O=w!=="none";!m&&O&&R.push(...rI(c,x,w,k));const N=[c,...R],P=await Ql(t,S),H=[];let W=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&H.push(P[_]),g){const at=eI(s,o,k);H.push(P[at[0]],P[at[1]])}if(W=[...W,{placement:s,overflows:H}],!H.every(at=>at<=0)){var K,et;const at=(((K=a.flip)==null?void 0:K.index)||0)+1,rt=N[at];if(rt&&(!(g==="alignment"?T!==Oi(rt):!1)||W.every(V=>Oi(V.placement)===T?V.overflows[0]>0:!0)))return{data:{index:at,overflows:W},reset:{placement:rt}};let L=(et=W.filter(F=>F.overflows[0]<=0).sort((F,V)=>F.overflows[1]-V.overflows[1])[0])==null?void 0:et.placement;if(!L)switch(y){case"bestFit":{var lt;const F=(lt=W.filter(V=>{if(O){const ut=Oi(V.placement);return ut===T||ut==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(ut=>ut>0).reduce((ut,I)=>ut+I,0)]).sort((V,ut)=>V[1]-ut[1])[0])==null?void 0:lt[0];F&&(L=F);break}case"initialPlacement":L=c;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function Vw(i,t){return{top:i.top-t.height,right:i.right-t.width,bottom:i.bottom-t.height,left:i.left-t.width}}function Gw(i){return QP.some(t=>i[t]>=0)}const dI=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(t){const{rects:e}=t,{strategy:n="referenceHidden",...s}=ls(i,t);switch(n){case"referenceHidden":{const a=await Ql(t,{...s,elementContext:"reference"}),o=Vw(a,e.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Gw(o)}}}case"escaped":{const a=await Ql(t,{...s,altBoundary:!0}),o=Vw(a,e.floating);return{data:{escapedOffsets:o,escaped:Gw(o)}}}default:return{}}}}},W1=new Set(["left","top"]);async function hI(i,t){const{placement:e,platform:n,elements:s}=i,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=cs(e),c=bo(e),u=Oi(e)==="y",h=W1.has(o)?-1:1,f=a&&u?-1:1,g=ls(t,i);let{mainAxis:m,crossAxis:y,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof w=="number"&&(y=c==="end"?w*-1:w),u?{x:y*f,y:m*h}:{x:m*h,y:y*f}}const fI=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(t){var e,n;const{x:s,y:a,placement:o,middlewareData:c}=t,u=await hI(t,i);return o===((e=c.offset)==null?void 0:e.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+u.x,y:a+u.y,data:{...u,placement:o}}}}},pI=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(t){const{x:e,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:S=>{let{x:_,y:T}=S;return{x:_,y:T}}},...u}=ls(i,t),h={x:e,y:n},f=await Ql(t,u),g=Oi(cs(s)),m=Km(g);let y=h[m],w=h[g];if(a){const S=m==="y"?"top":"left",_=m==="y"?"bottom":"right",T=y+f[S],C=y-f[_];y=rm(T,y,C)}if(o){const S=g==="y"?"top":"left",_=g==="y"?"bottom":"right",T=w+f[S],C=w-f[_];w=rm(T,w,C)}const x=c.fn({...t,[m]:y,[g]:w});return{...x,data:{x:x.x-e,y:x.y-n,enabled:{[m]:a,[g]:o}}}}}},gI=function(i){return i===void 0&&(i={}),{options:i,fn(t){const{x:e,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=ls(i,t),f={x:e,y:n},g=Oi(s),m=Km(g);let y=f[m],w=f[g];const x=ls(c,t),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const C=m==="y"?"height":"width",k=a.reference[m]-a.floating[C]+S.mainAxis,R=a.reference[m]+a.reference[C]-S.mainAxis;y<k?y=k:y>R&&(y=R)}if(h){var _,T;const C=m==="y"?"width":"height",k=W1.has(cs(s)),R=a.reference[g]-a.floating[C]+(k&&((_=o.offset)==null?void 0:_[g])||0)+(k?0:S.crossAxis),O=a.reference[g]+a.reference[C]+(k?0:((T=o.offset)==null?void 0:T[g])||0)-(k?S.crossAxis:0);w<R?w=R:w>O&&(w=O)}return{[m]:y,[g]:w}}}},mI=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(t){var e,n;const{placement:s,rects:a,platform:o,elements:c}=t,{apply:u=()=>{},...h}=ls(i,t),f=await Ql(t,h),g=cs(s),m=bo(s),y=Oi(s)==="y",{width:w,height:x}=a.floating;let S,_;g==="top"||g==="bottom"?(S=g,_=m===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(_=g,S=m==="end"?"top":"bottom");const T=x-f.top-f.bottom,C=w-f.left-f.right,k=Ys(x-f[S],T),R=Ys(w-f[_],C),O=!t.middlewareData.shift;let N=k,P=R;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(P=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=T),O&&!m){const W=Fn(f.left,0),K=Fn(f.right,0),et=Fn(f.top,0),lt=Fn(f.bottom,0);y?P=w-2*(W!==0||K!==0?W+K:Fn(f.left,f.right)):N=x-2*(et!==0||lt!==0?et+lt:Fn(f.top,f.bottom))}await u({...t,availableWidth:P,availableHeight:N});const H=await o.getDimensions(c.floating);return w!==H.width||x!==H.height?{reset:{rects:!0}}:{}}}};function ph(){return typeof window<"u"}function yo(i){return Y1(i)?(i.nodeName||"").toLowerCase():"#document"}function zn(i){var t;return(i==null||(t=i.ownerDocument)==null?void 0:t.defaultView)||window}function Ii(i){var t;return(t=(Y1(i)?i.ownerDocument:i.document)||window.document)==null?void 0:t.documentElement}function Y1(i){return ph()?i instanceof Node||i instanceof zn(i).Node:!1}function li(i){return ph()?i instanceof Element||i instanceof zn(i).Element:!1}function Li(i){return ph()?i instanceof HTMLElement||i instanceof zn(i).HTMLElement:!1}function $w(i){return!ph()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof zn(i).ShadowRoot}const bI=new Set(["inline","contents"]);function mc(i){const{overflow:t,overflowX:e,overflowY:n,display:s}=ci(i);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!bI.has(s)}const yI=new Set(["table","td","th"]);function vI(i){return yI.has(yo(i))}const xI=[":popover-open",":modal"];function gh(i){return xI.some(t=>{try{return i.matches(t)}catch{return!1}})}const wI=["transform","translate","scale","rotate","perspective"],SI=["transform","translate","scale","rotate","perspective","filter"],_I=["paint","layout","strict","content"];function Jm(i){const t=tb(),e=li(i)?ci(i):i;return wI.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||SI.some(n=>(e.willChange||"").includes(n))||_I.some(n=>(e.contain||"").includes(n))}function AI(i){let t=Xs(i);for(;Li(t)&&!oo(t);){if(Jm(t))return t;if(gh(t))return null;t=Xs(t)}return null}function tb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EI=new Set(["html","body","#document"]);function oo(i){return EI.has(yo(i))}function ci(i){return zn(i).getComputedStyle(i)}function mh(i){return li(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Xs(i){if(yo(i)==="html")return i;const t=i.assignedSlot||i.parentNode||$w(i)&&i.host||Ii(i);return $w(t)?t.host:t}function X1(i){const t=Xs(i);return oo(t)?i.ownerDocument?i.ownerDocument.body:i.body:Li(t)&&mc(t)?t:X1(t)}function Zl(i,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);const s=X1(i),a=s===((n=i.ownerDocument)==null?void 0:n.body),o=zn(s);if(a){const c=lm(o);return t.concat(o,o.visualViewport||[],mc(s)?s:[],c&&e?Zl(c):[])}return t.concat(s,Zl(s,[],e))}function lm(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function K1(i){const t=ci(i);let e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Li(i),a=s?i.offsetWidth:e,o=s?i.offsetHeight:n,c=zd(e)!==a||zd(n)!==o;return c&&(e=a,n=o),{width:e,height:n,$:c}}function eb(i){return li(i)?i:i.contextElement}function Zr(i){const t=eb(i);if(!Li(t))return Ni(1);const e=t.getBoundingClientRect(),{width:n,height:s,$:a}=K1(t);let o=(a?zd(e.width):e.width)/n,c=(a?zd(e.height):e.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const CI=Ni(0);function Q1(i){const t=zn(i);return!tb()||!t.visualViewport?CI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function TI(i,t,e){return t===void 0&&(t=!1),!e||t&&e!==zn(i)?!1:t}function Ua(i,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);const s=i.getBoundingClientRect(),a=eb(i);let o=Ni(1);t&&(n?li(n)&&(o=Zr(n)):o=Zr(i));const c=TI(a,e,n)?Q1(a):Ni(0);let u=(s.left+c.x)/o.x,h=(s.top+c.y)/o.y,f=s.width/o.x,g=s.height/o.y;if(a){const m=zn(a),y=n&&li(n)?zn(n):n;let w=m,x=lm(w);for(;x&&n&&y!==w;){const S=Zr(x),_=x.getBoundingClientRect(),T=ci(x),C=_.left+(x.clientLeft+parseFloat(T.paddingLeft))*S.x,k=_.top+(x.clientTop+parseFloat(T.paddingTop))*S.y;u*=S.x,h*=S.y,f*=S.x,g*=S.y,u+=C,h+=k,w=zn(x),x=lm(w)}}return Hd({width:f,height:g,x:u,y:h})}function nb(i,t){const e=mh(i).scrollLeft;return t?t.left+e:Ua(Ii(i)).left+e}function Z1(i,t,e){e===void 0&&(e=!1);const n=i.getBoundingClientRect(),s=n.left+t.scrollLeft-(e?0:nb(i,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function RI(i){let{elements:t,rect:e,offsetParent:n,strategy:s}=i;const a=s==="fixed",o=Ii(n),c=t?gh(t.floating):!1;if(n===o||c&&a)return e;let u={scrollLeft:0,scrollTop:0},h=Ni(1);const f=Ni(0),g=Li(n);if((g||!g&&!a)&&((yo(n)!=="body"||mc(o))&&(u=mh(n)),Li(n))){const y=Ua(n);h=Zr(n),f.x=y.x+n.clientLeft,f.y=y.y+n.clientTop}const m=o&&!g&&!a?Z1(o,u,!0):Ni(0);return{width:e.width*h.x,height:e.height*h.y,x:e.x*h.x-u.scrollLeft*h.x+f.x+m.x,y:e.y*h.y-u.scrollTop*h.y+f.y+m.y}}function MI(i){return Array.from(i.getClientRects())}function kI(i){const t=Ii(i),e=mh(i),n=i.ownerDocument.body,s=Fn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Fn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-e.scrollLeft+nb(i);const c=-e.scrollTop;return ci(n).direction==="rtl"&&(o+=Fn(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:c}}function DI(i,t){const e=zn(i),n=Ii(i),s=e.visualViewport;let a=n.clientWidth,o=n.clientHeight,c=0,u=0;if(s){a=s.width,o=s.height;const h=tb();(!h||h&&t==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:a,height:o,x:c,y:u}}const OI=new Set(["absolute","fixed"]);function NI(i,t){const e=Ua(i,!0,t==="fixed"),n=e.top+i.clientTop,s=e.left+i.clientLeft,a=Li(i)?Zr(i):Ni(1),o=i.clientWidth*a.x,c=i.clientHeight*a.y,u=s*a.x,h=n*a.y;return{width:o,height:c,x:u,y:h}}function qw(i,t,e){let n;if(t==="viewport")n=DI(i,e);else if(t==="document")n=kI(Ii(i));else if(li(t))n=NI(t,e);else{const s=Q1(i);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Hd(n)}function J1(i,t){const e=Xs(i);return e===t||!li(e)||oo(e)?!1:ci(e).position==="fixed"||J1(e,t)}function LI(i,t){const e=t.get(i);if(e)return e;let n=Zl(i,[],!1).filter(c=>li(c)&&yo(c)!=="body"),s=null;const a=ci(i).position==="fixed";let o=a?Xs(i):i;for(;li(o)&&!oo(o);){const c=ci(o),u=Jm(o);!u&&c.position==="fixed"&&(s=null),(a?!u&&!s:!u&&c.position==="static"&&!!s&&OI.has(s.position)||mc(o)&&!u&&J1(i,o))?n=n.filter(f=>f!==o):s=c,o=Xs(o)}return t.set(i,n),n}function PI(i){let{element:t,boundary:e,rootBoundary:n,strategy:s}=i;const o=[...e==="clippingAncestors"?gh(t)?[]:LI(t,this._c):[].concat(e),n],c=o[0],u=o.reduce((h,f)=>{const g=qw(t,f,s);return h.top=Fn(g.top,h.top),h.right=Ys(g.right,h.right),h.bottom=Ys(g.bottom,h.bottom),h.left=Fn(g.left,h.left),h},qw(t,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function II(i){const{width:t,height:e}=K1(i);return{width:t,height:e}}function jI(i,t,e){const n=Li(t),s=Ii(t),a=e==="fixed",o=Ua(i,!0,a,t);let c={scrollLeft:0,scrollTop:0};const u=Ni(0);function h(){u.x=nb(s)}if(n||!n&&!a)if((yo(t)!=="body"||mc(s))&&(c=mh(t)),n){const y=Ua(t,!0,a,t);u.x=y.x+t.clientLeft,u.y=y.y+t.clientTop}else s&&h();a&&!n&&s&&h();const f=s&&!n&&!a?Z1(s,c):Ni(0),g=o.left+c.scrollLeft-u.x-f.x,m=o.top+c.scrollTop-u.y-f.y;return{x:g,y:m,width:o.width,height:o.height}}function bg(i){return ci(i).position==="static"}function Ww(i,t){if(!Li(i)||ci(i).position==="fixed")return null;if(t)return t(i);let e=i.offsetParent;return Ii(i)===e&&(e=e.ownerDocument.body),e}function tE(i,t){const e=zn(i);if(gh(i))return e;if(!Li(i)){let s=Xs(i);for(;s&&!oo(s);){if(li(s)&&!bg(s))return s;s=Xs(s)}return e}let n=Ww(i,t);for(;n&&vI(n)&&bg(n);)n=Ww(n,t);return n&&oo(n)&&bg(n)&&!Jm(n)?e:n||AI(i)||e}const FI=async function(i){const t=this.getOffsetParent||tE,e=this.getDimensions,n=await e(i.floating);return{reference:jI(i.reference,await t(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function zI(i){return ci(i).direction==="rtl"}const BI={convertOffsetParentRelativeRectToViewportRelativeRect:RI,getDocumentElement:Ii,getClippingRect:PI,getOffsetParent:tE,getElementRects:FI,getClientRects:MI,getDimensions:II,getScale:Zr,isElement:li,isRTL:zI};function eE(i,t){return i.x===t.x&&i.y===t.y&&i.width===t.width&&i.height===t.height}function HI(i,t){let e=null,n;const s=Ii(i);function a(){var c;clearTimeout(n),(c=e)==null||c.disconnect(),e=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),a();const h=i.getBoundingClientRect(),{left:f,top:g,width:m,height:y}=h;if(c||t(),!m||!y)return;const w=Ku(g),x=Ku(s.clientWidth-(f+m)),S=Ku(s.clientHeight-(g+y)),_=Ku(f),C={rootMargin:-w+"px "+-x+"px "+-S+"px "+-_+"px",threshold:Fn(0,Ys(1,u))||1};let k=!0;function R(O){const N=O[0].intersectionRatio;if(N!==u){if(!k)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!eE(h,i.getBoundingClientRect())&&o(),k=!1}try{e=new IntersectionObserver(R,{...C,root:s.ownerDocument})}catch{e=new IntersectionObserver(R,C)}e.observe(i)}return o(!0),a}function UI(i,t,e,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,h=eb(i),f=s||a?[...h?Zl(h):[],...Zl(t)]:[];f.forEach(_=>{s&&_.addEventListener("scroll",e,{passive:!0}),a&&_.addEventListener("resize",e)});const g=h&&c?HI(h,e):null;let m=-1,y=null;o&&(y=new ResizeObserver(_=>{let[T]=_;T&&T.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(t)})),e()}),h&&!u&&y.observe(h),y.observe(t));let w,x=u?Ua(i):null;u&&S();function S(){const _=Ua(i);x&&!eE(x,_)&&e(),x=_,w=requestAnimationFrame(S)}return e(),()=>{var _;f.forEach(T=>{s&&T.removeEventListener("scroll",e),a&&T.removeEventListener("resize",e)}),g?.(),(_=y)==null||_.disconnect(),y=null,u&&cancelAnimationFrame(w)}}const VI=fI,GI=pI,$I=uI,qI=mI,WI=dI,Yw=cI,YI=gI,XI=(i,t,e)=>{const n=new Map,s={platform:BI,...e},a={...s.platform,_c:n};return lI(i,t,{...s,platform:a})};var KI=typeof document<"u",QI=function(){},Td=KI?M.useLayoutEffect:QI;function Ud(i,t){if(i===t)return!0;if(typeof i!=typeof t)return!1;if(typeof i=="function"&&i.toString()===t.toString())return!0;let e,n,s;if(i&&t&&typeof i=="object"){if(Array.isArray(i)){if(e=i.length,e!==t.length)return!1;for(n=e;n--!==0;)if(!Ud(i[n],t[n]))return!1;return!0}if(s=Object.keys(i),e=s.length,e!==Object.keys(t).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=e;n--!==0;){const a=s[n];if(!(a==="_owner"&&i.$$typeof)&&!Ud(i[a],t[a]))return!1}return!0}return i!==i&&t!==t}function nE(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function Xw(i,t){const e=nE(i);return Math.round(t*e)/e}function yg(i){const t=M.useRef(i);return Td(()=>{t.current=i}),t}function ZI(i){i===void 0&&(i={});const{placement:t="bottom",strategy:e="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:u,open:h}=i,[f,g]=M.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=M.useState(n);Ud(m,n)||y(n);const[w,x]=M.useState(null),[S,_]=M.useState(null),T=M.useCallback(V=>{V!==O.current&&(O.current=V,x(V))},[]),C=M.useCallback(V=>{V!==N.current&&(N.current=V,_(V))},[]),k=a||w,R=o||S,O=M.useRef(null),N=M.useRef(null),P=M.useRef(f),H=u!=null,W=yg(u),K=yg(s),et=yg(h),lt=M.useCallback(()=>{if(!O.current||!N.current)return;const V={placement:t,strategy:e,middleware:m};K.current&&(V.platform=K.current),XI(O.current,N.current,V).then(ut=>{const I={...ut,isPositioned:et.current!==!1};at.current&&!Ud(P.current,I)&&(P.current=I,Im.flushSync(()=>{g(I)}))})},[m,t,e,K,et]);Td(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,g(V=>({...V,isPositioned:!1})))},[h]);const at=M.useRef(!1);Td(()=>(at.current=!0,()=>{at.current=!1}),[]),Td(()=>{if(k&&(O.current=k),R&&(N.current=R),k&&R){if(W.current)return W.current(k,R,lt);lt()}},[k,R,lt,W,H]);const rt=M.useMemo(()=>({reference:O,floating:N,setReference:T,setFloating:C}),[T,C]),L=M.useMemo(()=>({reference:k,floating:R}),[k,R]),F=M.useMemo(()=>{const V={position:e,left:0,top:0};if(!L.floating)return V;const ut=Xw(L.floating,f.x),I=Xw(L.floating,f.y);return c?{...V,transform:"translate("+ut+"px, "+I+"px)",...nE(L.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:ut,top:I}},[e,c,L.floating,f.x,f.y]);return M.useMemo(()=>({...f,update:lt,refs:rt,elements:L,floatingStyles:F}),[f,lt,rt,L,F])}const JI=i=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:i,fn(e){const{element:n,padding:s}=typeof i=="function"?i(e):i;return n&&t(n)?n.current!=null?Yw({element:n.current,padding:s}).fn(e):{}:n?Yw({element:n,padding:s}).fn(e):{}}}},tj=(i,t)=>({...VI(i),options:[i,t]}),ej=(i,t)=>({...GI(i),options:[i,t]}),nj=(i,t)=>({...YI(i),options:[i,t]}),ij=(i,t)=>({...$I(i),options:[i,t]}),sj=(i,t)=>({...qI(i),options:[i,t]}),aj=(i,t)=>({...WI(i),options:[i,t]}),rj=(i,t)=>({...JI(i),options:[i,t]});var oj="Arrow",iE=M.forwardRef((i,t)=>{const{children:e,width:n=10,height:s=5,...a}=i;return A.jsx(Ht.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?e:A.jsx("polygon",{points:"0,0 30,0 15,10"})})});iE.displayName=oj;var lj=iE;function sE(i){const[t,e]=M.useState(void 0);return qs(()=>{if(i){e({width:i.offsetWidth,height:i.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,c;if("borderBoxSize"in a){const u=a.borderBoxSize,h=Array.isArray(u)?u[0]:u;o=h.inlineSize,c=h.blockSize}else o=i.offsetWidth,c=i.offsetHeight;e({width:o,height:c})});return n.observe(i,{box:"border-box"}),()=>n.unobserve(i)}else e(void 0)},[i]),t}var ib="Popper",[aE,rE]=Zs(ib),[cj,oE]=aE(ib),lE=i=>{const{__scopePopper:t,children:e}=i,[n,s]=M.useState(null);return A.jsx(cj,{scope:t,anchor:n,onAnchorChange:s,children:e})};lE.displayName=ib;var cE="PopperAnchor",uE=M.forwardRef((i,t)=>{const{__scopePopper:e,virtualRef:n,...s}=i,a=oE(cE,e),o=M.useRef(null),c=Ze(t,o);return M.useEffect(()=>{a.onAnchorChange(n?.current||o.current)}),n?null:A.jsx(Ht.div,{...s,ref:c})});uE.displayName=cE;var sb="PopperContent",[uj,dj]=aE(sb),dE=M.forwardRef((i,t)=>{const{__scopePopper:e,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:g="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=i,S=oE(sb,e),[_,T]=M.useState(null),C=Ze(t,ct=>T(ct)),[k,R]=M.useState(null),O=sE(k),N=O?.width??0,P=O?.height??0,H=n+(a!=="center"?"-"+a:""),W=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},K=Array.isArray(h)?h:[h],et=K.length>0,lt={padding:W,boundary:K.filter(fj),altBoundary:et},{refs:at,floatingStyles:rt,placement:L,isPositioned:F,middlewareData:V}=ZI({strategy:"fixed",placement:H,whileElementsMounted:(...ct)=>UI(...ct,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[tj({mainAxis:s+P,alignmentAxis:o}),u&&ej({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?nj():void 0,...lt}),u&&ij({...lt}),sj({...lt,apply:({elements:ct,rects:bt,availableWidth:Et,availableHeight:Mt})=>{const{width:Ee,height:Ce}=bt.reference,Rt=ct.floating.style;Rt.setProperty("--radix-popper-available-width",`${Et}px`),Rt.setProperty("--radix-popper-available-height",`${Mt}px`),Rt.setProperty("--radix-popper-anchor-width",`${Ee}px`),Rt.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),k&&rj({element:k,padding:c}),pj({arrowWidth:N,arrowHeight:P}),m&&aj({strategy:"referenceHidden",...lt})]}),[ut,I]=pE(L),Z=za(w);qs(()=>{F&&Z?.()},[F,Z]);const B=V.arrow?.x,G=V.arrow?.y,J=V.arrow?.centerOffset!==0,[st,ot]=M.useState();return qs(()=>{_&&ot(window.getComputedStyle(_).zIndex)},[_]),A.jsx("div",{ref:at.setFloating,"data-radix-popper-content-wrapper":"",style:{...rt,transform:F?rt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:st,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:A.jsx(uj,{scope:e,placedSide:ut,onArrowChange:R,arrowX:B,arrowY:G,shouldHideArrow:J,children:A.jsx(Ht.div,{"data-side":ut,"data-align":I,...x,ref:C,style:{...x.style,animation:F?void 0:"none"}})})})});dE.displayName=sb;var hE="PopperArrow",hj={top:"bottom",right:"left",bottom:"top",left:"right"},fE=M.forwardRef(function(t,e){const{__scopePopper:n,...s}=t,a=dj(hE,n),o=hj[a.placedSide];return A.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:A.jsx(lj,{...s,ref:e,style:{...s.style,display:"block"}})})});fE.displayName=hE;function fj(i){return i!==null}var pj=i=>({name:"transformOrigin",options:i,fn(t){const{placement:e,rects:n,middlewareData:s}=t,o=s.arrow?.centerOffset!==0,c=o?0:i.arrowWidth,u=o?0:i.arrowHeight,[h,f]=pE(e),g={start:"0%",center:"50%",end:"100%"}[f],m=(s.arrow?.x??0)+c/2,y=(s.arrow?.y??0)+u/2;let w="",x="";return h==="bottom"?(w=o?g:`${m}px`,x=`${-u}px`):h==="top"?(w=o?g:`${m}px`,x=`${n.floating.height+u}px`):h==="right"?(w=`${-u}px`,x=o?g:`${y}px`):h==="left"&&(w=`${n.floating.width+u}px`,x=o?g:`${y}px`),{data:{x:w,y:x}}}});function pE(i){const[t,e="center"]=i.split("-");return[t,e]}var gj=lE,gE=uE,mj=dE,bj=fE,bh="Popover",[mE,M5]=Zs(bh,[rE]),bc=rE(),[yj,ta]=mE(bh),bE=i=>{const{__scopePopover:t,children:e,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=i,c=bc(t),u=M.useRef(null),[h,f]=M.useState(!1),[g,m]=hc({prop:n,defaultProp:s??!1,onChange:a,caller:bh});return A.jsx(gj,{...c,children:A.jsx(yj,{scope:t,contentId:ei(),triggerRef:u,open:g,onOpenChange:m,onOpenToggle:M.useCallback(()=>m(y=>!y),[m]),hasCustomAnchor:h,onCustomAnchorAdd:M.useCallback(()=>f(!0),[]),onCustomAnchorRemove:M.useCallback(()=>f(!1),[]),modal:o,children:e})})};bE.displayName=bh;var yE="PopoverAnchor",vj=M.forwardRef((i,t)=>{const{__scopePopover:e,...n}=i,s=ta(yE,e),a=bc(e),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=s;return M.useEffect(()=>(o(),()=>c()),[o,c]),A.jsx(gE,{...a,...n,ref:t})});vj.displayName=yE;var vE="PopoverTrigger",xE=M.forwardRef((i,t)=>{const{__scopePopover:e,...n}=i,s=ta(vE,e),a=bc(e),o=Ze(t,s.triggerRef),c=A.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":EE(s.open),...n,ref:o,onClick:ae(i.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:A.jsx(gE,{asChild:!0,...a,children:c})});xE.displayName=vE;var ab="PopoverPortal",[xj,wj]=mE(ab,{forceMount:void 0}),wE=i=>{const{__scopePopover:t,forceMount:e,children:n,container:s}=i,a=ta(ab,t);return A.jsx(xj,{scope:t,forceMount:e,children:A.jsx(Js,{present:e||a.open,children:A.jsx(Gm,{asChild:!0,container:s,children:n})})})};wE.displayName=ab;var lo="PopoverContent",SE=M.forwardRef((i,t)=>{const e=wj(lo,i.__scopePopover),{forceMount:n=e.forceMount,...s}=i,a=ta(lo,i.__scopePopover);return A.jsx(Js,{present:n||a.open,children:a.modal?A.jsx(_j,{...s,ref:t}):A.jsx(Aj,{...s,ref:t})})});SE.displayName=lo;var Sj=ro("PopoverContent.RemoveScroll"),_j=M.forwardRef((i,t)=>{const e=ta(lo,i.__scopePopover),n=M.useRef(null),s=Ze(t,n),a=M.useRef(!1);return M.useEffect(()=>{const o=n.current;if(o)return y1(o)},[]),A.jsx($m,{as:Sj,allowPinchZoom:!0,children:A.jsx(_E,{...i,ref:s,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(i.onCloseAutoFocus,o=>{o.preventDefault(),a.current||e.triggerRef.current?.focus()}),onPointerDownOutside:ae(i.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;a.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:ae(i.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Aj=M.forwardRef((i,t)=>{const e=ta(lo,i.__scopePopover),n=M.useRef(!1),s=M.useRef(!1);return A.jsx(_E,{...i,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{i.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||e.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{i.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;e.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),_E=M.forwardRef((i,t)=>{const{__scopePopover:e,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,...g}=i,m=ta(lo,e),y=bc(e);return c1(),A.jsx(Vm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:A.jsx(Um,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onDismiss:()=>m.onOpenChange(!1),children:A.jsx(mj,{"data-state":EE(m.open),role:"dialog",id:m.contentId,...y,...g,ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),AE="PopoverClose",Ej=M.forwardRef((i,t)=>{const{__scopePopover:e,...n}=i,s=ta(AE,e);return A.jsx(Ht.button,{type:"button",...n,ref:t,onClick:ae(i.onClick,()=>s.onOpenChange(!1))})});Ej.displayName=AE;var Cj="PopoverArrow",Tj=M.forwardRef((i,t)=>{const{__scopePopover:e,...n}=i,s=bc(e);return A.jsx(bj,{...s,...n,ref:t})});Tj.displayName=Cj;function EE(i){return i?"open":"closed"}var Rj=bE,Mj=xE,kj=wE,Dj=SE;function Oj({...i}){return A.jsx(Rj,{"data-slot":"popover",...i})}function Nj({...i}){return A.jsx(Mj,{"data-slot":"popover-trigger",...i})}function Lj({className:i,align:t="center",sideOffset:e=4,...n}){return A.jsx(kj,{children:A.jsx(Dj,{"data-slot":"popover-content",align:t,sideOffset:e,className:$e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",i),...n})})}const CE=({label:i,placeholder:t,options:e,value:n,onChange:s,disabled:a=!1})=>{const[o,c]=M.useState(!1),[u,h]=M.useState(""),f=M.useMemo(()=>u?e.filter(m=>m.name.toLowerCase().includes(u.toLowerCase())):e,[e,u]),g=e.find(m=>String(m.id)===String(n));return A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700 uppercase",children:i}),A.jsxs(Oj,{open:o,onOpenChange:c,children:[A.jsx(Nj,{asChild:!0,children:A.jsxs(Pt,{variant:"outline",role:"combobox","aria-expanded":o,className:"w-full justify-between bg-transparen overflow-hidden",disabled:a,children:[A.jsx("p",{className:"text-sm text-gray-700 truncate",children:g?g.name:t}),A.jsx(aD,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),A.jsx(Lj,{className:"w-full p-0",align:"start",children:A.jsxs(qP,{children:[A.jsxs("div",{className:"flex items-center border-b px-3",children:[A.jsx(RD,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),A.jsx(Ll,{placeholder:`Buscar ${i.toLowerCase()}...`,value:u,onChange:m=>h(m.target.value),className:"border-0 focus-visible:ring-0"})]}),A.jsxs(WP,{children:[A.jsx(YP,{children:"No se encontraron resultados."}),A.jsx(XP,{className:"max-h-64 overflow-y-auto overflow-x-hidden",children:f.map(m=>A.jsx(KP,{value:m.name,onSelect:()=>{s(String(m.id)),c(!1),h("")},className:"text-wrap px-4",children:A.jsx("p",{className:"text-wrap text-sm text-gray-700 break-words",children:m.name})},m.id))})]})]})})]})]})},Pj=()=>{const{currentView:i,selections:t,availableOptions:e,updateSelection:n,getSelectorsForView:s}=ao(),a=s();return A.jsx("div",{className:"w-full flex flex-wrap gap-4 py-4",children:a.map(o=>A.jsx(CE,{label:o.label,placeholder:o.placeholder,options:e[o.key]||[],value:t[o.key]||"",onChange:c=>n(o.key,c)},`${i}-${o.key}`))})},Ij=({data:i,datetime:t})=>{const e=s=>s.toLocaleString(),n=s=>`${s.toFixed(2)}%`;return A.jsx("div",{className:"w-full bg-white rounded-lg shadow overflow-x-auto",children:A.jsxs("table",{className:"w-full text-sm",children:[A.jsx("thead",{className:"bg-red-800 text-white font-medium",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-4 py-3 text-left border-r border-red-700",children:"Detalle"}),A.jsx("th",{scope:"col",className:"w-32 px-4 py-3 text-right border-r border-red-700",children:"Total"}),A.jsx("th",{scope:"col",className:"w-32 px-4 py-3 text-right",children:"Porcentaje"})]})}),A.jsx("tbody",{children:i.map(s=>A.jsxs("tr",{className:"odd:bg-white even:bg-gray-100 hover:bg-red-100",children:[A.jsx("td",{className:"px-4 py-2 font-medium",children:s.nombre}),A.jsx("td",{className:"px-4 py-2 text-right",children:s.valor!==null&&A.jsx("span",{children:e(s.valor)})}),A.jsx("td",{className:"px-4 py-2 text-right",children:s.porcien!==null&&A.jsx("span",{children:n(s.porcien)})})]},s.nombre))}),t&&A.jsx("tfoot",{className:"bg-gray-100 text-xs text-gray-600",children:A.jsx("tr",{children:A.jsxs("td",{colSpan:3,className:"px-4 py-3",children:[A.jsx("div",{children:"Fecha y hora del servidor:"}),A.jsx("div",{className:"font-mono",children:t})]})})})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function yc(i){return i+.5|0}const zs=(i,t,e)=>Math.max(Math.min(i,e),t);function Pl(i){return zs(yc(i*2.55),0,255)}function Us(i){return zs(yc(i*255),0,255)}function ss(i){return zs(yc(i/2.55)/100,0,1)}function Kw(i){return zs(yc(i*100),0,100)}const Kn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cm=[..."0123456789ABCDEF"],jj=i=>cm[i&15],Fj=i=>cm[(i&240)>>4]+cm[i&15],Qu=i=>(i&240)>>4===(i&15),zj=i=>Qu(i.r)&&Qu(i.g)&&Qu(i.b)&&Qu(i.a);function Bj(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Kn[i[1]]*17,g:255&Kn[i[2]]*17,b:255&Kn[i[3]]*17,a:t===5?Kn[i[4]]*17:255}:(t===7||t===9)&&(e={r:Kn[i[1]]<<4|Kn[i[2]],g:Kn[i[3]]<<4|Kn[i[4]],b:Kn[i[5]]<<4|Kn[i[6]],a:t===9?Kn[i[7]]<<4|Kn[i[8]]:255})),e}const Hj=(i,t)=>i<255?t(i):"";function Uj(i){var t=zj(i)?jj:Fj;return i?"#"+t(i.r)+t(i.g)+t(i.b)+Hj(i.a,t):void 0}const Vj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function TE(i,t,e){const n=t*Math.min(e,1-e),s=(a,o=(a+i/30)%12)=>e-n*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function Gj(i,t,e){const n=(s,a=(s+i/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function $j(i,t,e){const n=TE(i,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)n[s]*=1-t-e,n[s]+=t;return n}function qj(i,t,e,n,s){return i===s?(t-e)/n+(t<e?6:0):t===s?(e-i)/n+2:(i-t)/n+4}function rb(i){const e=i.r/255,n=i.g/255,s=i.b/255,a=Math.max(e,n,s),o=Math.min(e,n,s),c=(a+o)/2;let u,h,f;return a!==o&&(f=a-o,h=c>.5?f/(2-a-o):f/(a+o),u=qj(e,n,s,f,a),u=u*60+.5),[u|0,h||0,c]}function ob(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(Us)}function lb(i,t,e){return ob(TE,i,t,e)}function Wj(i,t,e){return ob($j,i,t,e)}function Yj(i,t,e){return ob(Gj,i,t,e)}function RE(i){return(i%360+360)%360}function Xj(i){const t=Vj.exec(i);let e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?Pl(+t[5]):Us(+t[5]));const s=RE(+t[2]),a=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=Wj(s,a,o):t[1]==="hsv"?n=Yj(s,a,o):n=lb(s,a,o),{r:n[0],g:n[1],b:n[2],a:e}}function Kj(i,t){var e=rb(i);e[0]=RE(e[0]+t),e=lb(e),i.r=e[0],i.g=e[1],i.b=e[2]}function Qj(i){if(!i)return;const t=rb(i),e=t[0],n=Kw(t[1]),s=Kw(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${s}%, ${ss(i.a)})`:`hsl(${e}, ${n}%, ${s}%)`}const Qw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Zj(){const i={},t=Object.keys(Zw),e=Object.keys(Qw);let n,s,a,o,c;for(n=0;n<t.length;n++){for(o=c=t[n],s=0;s<e.length;s++)a=e[s],c=c.replace(a,Qw[a]);a=parseInt(Zw[o],16),i[c]=[a>>16&255,a>>8&255,a&255]}return i}let Zu;function Jj(i){Zu||(Zu=Zj(),Zu.transparent=[0,0,0,0]);const t=Zu[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const tF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function eF(i){const t=tF.exec(i);let e=255,n,s,a;if(t){if(t[7]!==n){const o=+t[7];e=t[8]?Pl(o):zs(o*255,0,255)}return n=+t[1],s=+t[3],a=+t[5],n=255&(t[2]?Pl(n):zs(n,0,255)),s=255&(t[4]?Pl(s):zs(s,0,255)),a=255&(t[6]?Pl(a):zs(a,0,255)),{r:n,g:s,b:a,a:e}}}function nF(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${ss(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const vg=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Vr=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function iF(i,t,e){const n=Vr(ss(i.r)),s=Vr(ss(i.g)),a=Vr(ss(i.b));return{r:Us(vg(n+e*(Vr(ss(t.r))-n))),g:Us(vg(s+e*(Vr(ss(t.g))-s))),b:Us(vg(a+e*(Vr(ss(t.b))-a))),a:i.a+e*(t.a-i.a)}}function Ju(i,t,e){if(i){let n=rb(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=lb(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function ME(i,t){return i&&Object.assign(t||{},i)}function Jw(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Us(i[3]))):(t=ME(i,{r:0,g:0,b:0,a:1}),t.a=Us(t.a)),t}function sF(i){return i.charAt(0)==="r"?eF(i):Xj(i)}class Jl{constructor(t){if(t instanceof Jl)return t;const e=typeof t;let n;e==="object"?n=Jw(t):e==="string"&&(n=Bj(t)||Jj(t)||sF(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=ME(this._rgb);return t&&(t.a=ss(t.a)),t}set rgb(t){this._rgb=Jw(t)}rgbString(){return this._valid?nF(this._rgb):void 0}hexString(){return this._valid?Uj(this._rgb):void 0}hslString(){return this._valid?Qj(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,s=t.rgb;let a;const o=e===a?.5:e,c=2*o-1,u=n.a-s.a,h=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;a=1-h,n.r=255&h*n.r+a*s.r+.5,n.g=255&h*n.g+a*s.g+.5,n.b=255&h*n.b+a*s.b+.5,n.a=o*n.a+(1-o)*s.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=iF(this._rgb,t._rgb,e)),this}clone(){return new Jl(this.rgb)}alpha(t){return this._rgb.a=Us(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=yc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ju(this._rgb,2,t),this}darken(t){return Ju(this._rgb,2,-t),this}saturate(t){return Ju(this._rgb,1,t),this}desaturate(t){return Ju(this._rgb,1,-t),this}rotate(t){return Kj(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ts(){}const aF=(()=>{let i=0;return()=>i++})();function Vt(i){return i==null}function De(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Bt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function ni(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function wi(i,t){return ni(i)?i:t}function zt(i,t){return typeof i>"u"?t:i}const rF=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,kE=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function te(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function $t(i,t,e,n){let s,a,o;if(De(i))for(a=i.length,s=0;s<a;s++)t.call(e,i[s],s);else if(Bt(i))for(o=Object.keys(i),a=o.length,s=0;s<a;s++)t.call(e,i[o[s]],o[s])}function Vd(i,t){let e,n,s,a;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(s=i[e],a=t[e],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function Gd(i){if(De(i))return i.map(Gd);if(Bt(i)){const t=Object.create(null),e=Object.keys(i),n=e.length;let s=0;for(;s<n;++s)t[e[s]]=Gd(i[e[s]]);return t}return i}function DE(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function oF(i,t,e,n){if(!DE(i))return;const s=t[i],a=e[i];Bt(s)&&Bt(a)?Pi(s,a,n):t[i]=Gd(a)}function Pi(i,t,e){const n=De(t)?t:[t],s=n.length;if(!Bt(i))return i;e=e||{};const a=e.merger||oF;let o;for(let c=0;c<s;++c){if(o=n[c],!Bt(o))continue;const u=Object.keys(o);for(let h=0,f=u.length;h<f;++h)a(u[h],i,o,e)}return i}function Vl(i,t){return Pi(i,t,{merger:lF})}function lF(i,t,e){if(!DE(i))return;const n=t[i],s=e[i];Bt(n)&&Bt(s)?Vl(n,s):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Gd(s))}const tS={"":i=>i,x:i=>i.x,y:i=>i.y};function cF(i){const t=i.split("."),e=[];let n="";for(const s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function uF(i){const t=cF(i);return e=>{for(const n of t){if(n==="")break;e=e&&e[n]}return e}}function Va(i,t){return(tS[t]||(tS[t]=uF(t)))(i)}function cb(i){return i.charAt(0).toUpperCase()+i.slice(1)}const tc=i=>typeof i<"u",Ks=i=>typeof i=="function",eS=(i,t)=>{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;return!0};function dF(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const ne=Math.PI,Ne=2*ne,$d=Number.POSITIVE_INFINITY,hF=ne/180,Fe=ne/2,_a=ne/4,nS=ne*2/3,OE=Math.log10,Vs=Math.sign;function Rd(i,t,e){return Math.abs(i-t)<e}function iS(i){const t=Math.round(i);i=Rd(i,t,i/1e3)?t:i;const e=Math.pow(10,Math.floor(OE(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function fF(i){const t=[],e=Math.sqrt(i);let n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((s,a)=>s-a).pop(),t}function pF(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function qd(i){return!pF(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function gF(i,t){const e=Math.round(i);return e-t<=i&&e+t>=i}function mF(i,t,e){let n,s,a;for(n=0,s=i.length;n<s;n++)a=i[n][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function rs(i){return i*(ne/180)}function bF(i){return i*(180/ne)}function sS(i){if(!ni(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function NE(i,t){const e=t.x-i.x,n=t.y-i.y,s=Math.sqrt(e*e+n*n);let a=Math.atan2(n,e);return a<-.5*ne&&(a+=Ne),{angle:a,distance:s}}function yF(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Ti(i){return(i%Ne+Ne)%Ne}function Wd(i,t,e,n){const s=Ti(i),a=Ti(t),o=Ti(e),c=Ti(a-s),u=Ti(o-s),h=Ti(s-a),f=Ti(s-o);return s===a||s===o||n&&a===o||c>u&&h<f}function _n(i,t,e){return Math.max(t,Math.min(e,i))}function vF(i){return _n(i,-32768,32767)}function ka(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function ub(i,t,e){e=e||(o=>i[o]<t);let n=i.length-1,s=0,a;for(;n-s>1;)a=s+n>>1,e(a)?s=a:n=a;return{lo:s,hi:n}}const um=(i,t,e,n)=>ub(i,e,n?s=>{const a=i[s][t];return a<e||a===e&&i[s+1][t]===e}:s=>i[s][t]<e),xF=(i,t,e)=>ub(i,e,n=>i[n][t]>=e);function wF(i,t,e){let n=0,s=i.length;for(;n<s&&i[n]<t;)n++;for(;s>n&&i[s-1]>e;)s--;return n>0||s<i.length?i.slice(n,s):i}const LE=["push","pop","shift","splice","unshift"];function SF(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),LE.forEach(e=>{const n="_onData"+cb(e),s=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...a){const o=s.apply(this,a);return i._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...a)}),o}})})}function aS(i,t){const e=i._chartjs;if(!e)return;const n=e.listeners,s=n.indexOf(t);s!==-1&&n.splice(s,1),!(n.length>0)&&(LE.forEach(a=>{delete i[a]}),delete i._chartjs)}function PE(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const IE=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function jE(i,t){let e=[],n=!1;return function(...s){e=s,n||(n=!0,IE.call(window,()=>{n=!1,i.apply(t,e)}))}}function _F(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}const db=i=>i==="start"?"left":i==="end"?"right":"center",sn=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,AF=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t,td=i=>i===0||i===1,rS=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*Ne/e)),oS=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*Ne/e)+1,Gl={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Fe)+1,easeOutSine:i=>Math.sin(i*Fe),easeInOutSine:i=>-.5*(Math.cos(ne*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>td(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>td(i)?i:rS(i,.075,.3),easeOutElastic:i=>td(i)?i:oS(i,.075,.3),easeInOutElastic(i){return td(i)?i:i<.5?.5*rS(i*2,.1125,.45):.5+.5*oS(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Gl.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Gl.easeInBounce(i*2)*.5:Gl.easeOutBounce(i*2-1)*.5+.5};function FE(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function lS(i){return FE(i)?i:new Jl(i)}function xg(i){return FE(i)?i:new Jl(i).saturate(.5).darken(.1).hexString()}const EF=["x","y","borderWidth","radius","tension"],CF=["color","borderColor","backgroundColor"];function TF(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:CF},numbers:{type:"number",properties:EF}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function RF(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cS=new Map;function MF(i,t){t=t||{};const e=i+JSON.stringify(t);let n=cS.get(e);return n||(n=new Intl.NumberFormat(i,t),cS.set(e,n)),n}function hb(i,t,e){return MF(t,e).format(i)}const kF={values(i){return De(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";const n=this.chart.options.locale;let s,a=i;if(e.length>1){const h=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),a=DF(i,e)}const o=OE(Math.abs(a)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),hb(i,n,u)}};function DF(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var zE={formatters:kF};function OF(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ga=Object.create(null),dm=Object.create(null);function $l(i,t){if(!t)return i;const e=t.split(".");for(let n=0,s=e.length;n<s;++n){const a=e[n];i=i[a]||(i[a]=Object.create(null))}return i}function wg(i,t,e){return typeof t=="string"?Pi($l(i,t),e):Pi($l(i,""),t)}class NF{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>xg(s.backgroundColor),this.hoverBorderColor=(n,s)=>xg(s.borderColor),this.hoverColor=(n,s)=>xg(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return wg(this,t,e)}get(t){return $l(this,t)}describe(t,e){return wg(dm,t,e)}override(t,e){return wg(Ga,t,e)}route(t,e,n,s){const a=$l(this,t),o=$l(this,n),c="_"+e;Object.defineProperties(a,{[c]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const u=this[c],h=o[s];return Bt(u)?Object.assign({},h,u):zt(u,h)},set(u){this[c]=u}}})}apply(t){t.forEach(e=>e(this))}}var me=new NF({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[TF,RF,OF]);function LF(i){return!i||Vt(i.size)||Vt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function uS(i,t,e,n,s){let a=t[s];return a||(a=t[s]=i.measureText(s).width,e.push(s)),a>n&&(n=a),n}function Aa(i,t,e){const n=i.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*n)/n+s}function dS(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function hm(i,t,e,n){BE(i,t,e,n,null)}function BE(i,t,e,n,s){let a,o,c,u,h,f,g,m;const y=t.pointStyle,w=t.rotation,x=t.radius;let S=(w||0)*hF;if(y&&typeof y=="object"&&(a=y.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(S),i.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),i.restore();return}if(!(isNaN(x)||x<=0)){switch(i.beginPath(),y){default:s?i.ellipse(e,n,s/2,x,0,0,Ne):i.arc(e,n,x,0,Ne),i.closePath();break;case"triangle":f=s?s/2:x,i.moveTo(e+Math.sin(S)*f,n-Math.cos(S)*x),S+=nS,i.lineTo(e+Math.sin(S)*f,n-Math.cos(S)*x),S+=nS,i.lineTo(e+Math.sin(S)*f,n-Math.cos(S)*x),i.closePath();break;case"rectRounded":h=x*.516,u=x-h,o=Math.cos(S+_a)*u,g=Math.cos(S+_a)*(s?s/2-h:u),c=Math.sin(S+_a)*u,m=Math.sin(S+_a)*(s?s/2-h:u),i.arc(e-g,n-c,h,S-ne,S-Fe),i.arc(e+m,n-o,h,S-Fe,S),i.arc(e+g,n+c,h,S,S+Fe),i.arc(e-m,n+o,h,S+Fe,S+ne),i.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*x,f=s?s/2:u,i.rect(e-f,n-u,2*f,2*u);break}S+=_a;case"rectRot":g=Math.cos(S)*(s?s/2:x),o=Math.cos(S)*x,c=Math.sin(S)*x,m=Math.sin(S)*(s?s/2:x),i.moveTo(e-g,n-c),i.lineTo(e+m,n-o),i.lineTo(e+g,n+c),i.lineTo(e-m,n+o),i.closePath();break;case"crossRot":S+=_a;case"cross":g=Math.cos(S)*(s?s/2:x),o=Math.cos(S)*x,c=Math.sin(S)*x,m=Math.sin(S)*(s?s/2:x),i.moveTo(e-g,n-c),i.lineTo(e+g,n+c),i.moveTo(e+m,n-o),i.lineTo(e-m,n+o);break;case"star":g=Math.cos(S)*(s?s/2:x),o=Math.cos(S)*x,c=Math.sin(S)*x,m=Math.sin(S)*(s?s/2:x),i.moveTo(e-g,n-c),i.lineTo(e+g,n+c),i.moveTo(e+m,n-o),i.lineTo(e-m,n+o),S+=_a,g=Math.cos(S)*(s?s/2:x),o=Math.cos(S)*x,c=Math.sin(S)*x,m=Math.sin(S)*(s?s/2:x),i.moveTo(e-g,n-c),i.lineTo(e+g,n+c),i.moveTo(e+m,n-o),i.lineTo(e-m,n+o);break;case"line":o=s?s/2:Math.cos(S)*x,c=Math.sin(S)*x,i.moveTo(e-o,n-c),i.lineTo(e+o,n+c);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(S)*(s?s/2:x),n+Math.sin(S)*x);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function fb(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function pb(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function gb(i){i.restore()}function PF(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),Vt(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function IF(i,t,e,n,s){if(s.strikethrough||s.underline){const a=i.measureText(n),o=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,u=e-a.actualBoundingBoxAscent,h=e+a.actualBoundingBoxDescent,f=s.strikethrough?(u+h)/2:h;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=s.decorationWidth||2,i.moveTo(o,f),i.lineTo(c,f),i.stroke()}}function jF(i,t){const e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function ec(i,t,e,n,s,a={}){const o=De(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let u,h;for(i.save(),i.font=s.string,PF(i,a),u=0;u<o.length;++u)h=o[u],a.backdrop&&jF(i,a.backdrop),c&&(a.strokeColor&&(i.strokeStyle=a.strokeColor),Vt(a.strokeWidth)||(i.lineWidth=a.strokeWidth),i.strokeText(h,e,n,a.maxWidth)),i.fillText(h,e,n,a.maxWidth),IF(i,e,n,h,a),n+=Number(s.lineHeight);i.restore()}function Yd(i,t){const{x:e,y:n,w:s,h:a,radius:o}=t;i.arc(e+o.topLeft,n+o.topLeft,o.topLeft,1.5*ne,ne,!0),i.lineTo(e,n+a-o.bottomLeft),i.arc(e+o.bottomLeft,n+a-o.bottomLeft,o.bottomLeft,ne,Fe,!0),i.lineTo(e+s-o.bottomRight,n+a),i.arc(e+s-o.bottomRight,n+a-o.bottomRight,o.bottomRight,Fe,0,!0),i.lineTo(e+s,n+o.topRight),i.arc(e+s-o.topRight,n+o.topRight,o.topRight,0,-Fe,!0),i.lineTo(e+o.topLeft,n)}const FF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function BF(i,t){const e=(""+i).match(FF);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}const HF=i=>+i||0;function mb(i,t){const e={},n=Bt(t),s=n?Object.keys(t):t,a=Bt(i)?n?o=>zt(i[o],i[t[o]]):o=>i[o]:()=>i;for(const o of s)e[o]=HF(a(o));return e}function HE(i){return mb(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Jr(i){return mb(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Bn(i){const t=HE(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Qe(i,t){i=i||{},t=t||me.font;let e=zt(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=zt(i.style,t.style);n&&!(""+n).match(zF)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:zt(i.family,t.family),lineHeight:BF(zt(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:zt(i.weight,t.weight),string:""};return s.string=LF(s),s}function ce(i,t,e,n){let s,a,o;for(s=0,a=i.length;s<a;++s)if(o=i[s],o!==void 0&&(t!==void 0&&typeof o=="function"&&(o=o(t)),e!==void 0&&De(o)&&(o=o[e%o.length]),o!==void 0))return o}function UF(i,t,e){const{min:n,max:s}=i,a=kE(t,(s-n)/2),o=(c,u)=>e&&c===0?0:c+u;return{min:o(n,-Math.abs(a)),max:o(s,a)}}function vo(i,t){return Object.assign(Object.create(i),t)}function bb(i,t=[""],e,n,s=()=>i[0]){const a=e||i;typeof n>"u"&&(n=$E("_fallback",i));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:a,_fallback:n,_getTarget:s,override:c=>bb([c,...i],t,a,n)};return new Proxy(o,{deleteProperty(c,u){return delete c[u],delete c._keys,delete i[0][u],!0},get(c,u){return VE(c,u,()=>KF(u,t,i,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(c,u){return fS(c).includes(u)},ownKeys(c){return fS(c)},set(c,u,h){const f=c._storage||(c._storage=s());return c[u]=f[u]=h,delete c._keys,!0}})}function co(i,t,e,n){const s={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:UE(i,n),setContext:a=>co(i,a,e,n),override:a=>co(i.override(a),t,e,n)};return new Proxy(s,{deleteProperty(a,o){return delete a[o],delete i[o],!0},get(a,o,c){return VE(a,o,()=>GF(a,o,c))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(a,o){return Reflect.has(i,o)},ownKeys(){return Reflect.ownKeys(i)},set(a,o,c){return i[o]=c,delete a[o],!0}})}function UE(i,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=i;return{allKeys:s,scriptable:e,indexable:n,isScriptable:Ks(e)?e:()=>e,isIndexable:Ks(n)?n:()=>n}}const VF=(i,t)=>i?i+cb(t):t,yb=(i,t)=>Bt(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function VE(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const n=e();return i[t]=n,n}function GF(i,t,e){const{_proxy:n,_context:s,_subProxy:a,_descriptors:o}=i;let c=n[t];return Ks(c)&&o.isScriptable(t)&&(c=$F(t,c,i,e)),De(c)&&c.length&&(c=qF(t,c,i,o.isIndexable)),yb(t,c)&&(c=co(c,s,a&&a[t],o)),c}function $F(i,t,e,n){const{_proxy:s,_context:a,_subProxy:o,_stack:c}=e;if(c.has(i))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+i);c.add(i);let u=t(a,o||n);return c.delete(i),yb(i,u)&&(u=vb(s._scopes,s,i,u)),u}function qF(i,t,e,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:c}=e;if(typeof a.index<"u"&&n(i))return t[a.index%t.length];if(Bt(t[0])){const u=t,h=s._scopes.filter(f=>f!==u);t=[];for(const f of u){const g=vb(h,s,i,f);t.push(co(g,a,o&&o[i],c))}}return t}function GE(i,t,e){return Ks(i)?i(t,e):i}const WF=(i,t)=>i===!0?t:typeof i=="string"?Va(t,i):void 0;function YF(i,t,e,n,s){for(const a of t){const o=WF(e,a);if(o){i.add(o);const c=GE(o._fallback,e,s);if(typeof c<"u"&&c!==e&&c!==n)return c}else if(o===!1&&typeof n<"u"&&e!==n)return null}return!1}function vb(i,t,e,n){const s=t._rootScopes,a=GE(t._fallback,e,n),o=[...i,...s],c=new Set;c.add(n);let u=hS(c,o,e,a||e,n);return u===null||typeof a<"u"&&a!==e&&(u=hS(c,o,a,u,n),u===null)?!1:bb(Array.from(c),[""],s,a,()=>XF(t,e,n))}function hS(i,t,e,n,s){for(;e;)e=YF(i,t,e,n,s);return e}function XF(i,t,e){const n=i._getTarget();t in n||(n[t]={});const s=n[t];return De(s)&&Bt(e)?e:s||{}}function KF(i,t,e,n){let s;for(const a of t)if(s=$E(VF(a,i),e),typeof s<"u")return yb(i,s)?vb(e,n,i,s):s}function $E(i,t){for(const e of t){if(!e)continue;const n=e[i];if(typeof n<"u")return n}}function fS(i){let t=i._keys;return t||(t=i._keys=QF(i._scopes)),t}function QF(i){const t=new Set;for(const e of i)for(const n of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(n);return Array.from(t)}function xb(){return typeof window<"u"&&typeof document<"u"}function wb(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Xd(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}const yh=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function ZF(i,t){return yh(i).getPropertyValue(t)}const JF=["top","right","bottom","left"];function Ia(i,t,e){const n={};e=e?"-"+e:"";for(let s=0;s<4;s++){const a=JF[s];n[a]=parseFloat(i[t+"-"+a+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const tz=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function ez(i,t){const e=i.touches,n=e&&e.length?e[0]:i,{offsetX:s,offsetY:a}=n;let o=!1,c,u;if(tz(s,a,i.target))c=s,u=a;else{const h=t.getBoundingClientRect();c=n.clientX-h.left,u=n.clientY-h.top,o=!0}return{x:c,y:u,box:o}}function Ta(i,t){if("native"in i)return i;const{canvas:e,currentDevicePixelRatio:n}=t,s=yh(e),a=s.boxSizing==="border-box",o=Ia(s,"padding"),c=Ia(s,"border","width"),{x:u,y:h,box:f}=ez(i,e),g=o.left+(f&&c.left),m=o.top+(f&&c.top);let{width:y,height:w}=t;return a&&(y-=o.width+c.width,w-=o.height+c.height),{x:Math.round((u-g)/y*e.width/n),y:Math.round((h-m)/w*e.height/n)}}function nz(i,t,e){let n,s;if(t===void 0||e===void 0){const a=i&&wb(i);if(!a)t=i.clientWidth,e=i.clientHeight;else{const o=a.getBoundingClientRect(),c=yh(a),u=Ia(c,"border","width"),h=Ia(c,"padding");t=o.width-h.width-u.width,e=o.height-h.height-u.height,n=Xd(c.maxWidth,a,"clientWidth"),s=Xd(c.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:n||$d,maxHeight:s||$d}}const ed=i=>Math.round(i*10)/10;function iz(i,t,e,n){const s=yh(i),a=Ia(s,"margin"),o=Xd(s.maxWidth,i,"clientWidth")||$d,c=Xd(s.maxHeight,i,"clientHeight")||$d,u=nz(i,t,e);let{width:h,height:f}=u;if(s.boxSizing==="content-box"){const m=Ia(s,"border","width"),y=Ia(s,"padding");h-=y.width+m.width,f-=y.height+m.height}return h=Math.max(0,h-a.width),f=Math.max(0,n?h/n:f-a.height),h=ed(Math.min(h,o,u.maxWidth)),f=ed(Math.min(f,c,u.maxHeight)),h&&!f&&(f=ed(h/2)),(t!==void 0||e!==void 0)&&n&&u.height&&f>u.height&&(f=u.height,h=ed(Math.floor(f*n))),{width:h,height:f}}function pS(i,t,e){const n=t||1,s=Math.floor(i.height*n),a=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const o=i.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${i.height}px`,o.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||o.height!==s||o.width!==a?(i.currentDevicePixelRatio=n,o.height=s,o.width=a,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}const sz=function(){let i=!1;try{const t={get passive(){return i=!0,!1}};xb()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function gS(i,t){const e=ZF(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const az=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},rz=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function to(i,t,e){return i?az(t,e):rz()}function qE(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function WE(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function nd(i,t,e){return i.options.clip?i[e]:t[e]}function oz(i,t){const{xScale:e,yScale:n}=i;return e&&n?{left:nd(e,t,"left"),right:nd(e,t,"right"),top:nd(n,t,"top"),bottom:nd(n,t,"bottom")}:t}function lz(i,t){const e=t._clip;if(e.disabled)return!1;const n=oz(t,i.chartArea);return{left:e.left===!1?0:n.left-(e.left===!0?0:e.left),right:e.right===!1?i.width:n.right+(e.right===!0?0:e.right),top:e.top===!1?0:n.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?i.height:n.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class cz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,s){const a=e.listeners[s],o=e.duration;a.forEach(c=>c({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=IE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const a=n.items;let o=a.length-1,c=!1,u;for(;o>=0;--o)u=a[o],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(t),c=!0):(a[o]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,n,t,"progress")),a.length||(n.running=!1,this._notify(s,n,t,"complete"),n.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var es=new cz;const mS="transparent",uz={boolean(i,t,e){return e>.5?t:i},color(i,t,e){const n=lS(i||mS),s=n.valid&&lS(t||mS);return s&&s.valid?s.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}};class dz{constructor(t,e,n,s){const a=e[n];s=ce([t.to,s,a,t.from]);const o=ce([t.from,a,s]);this._active=!0,this._fn=t.fn||uz[t.type||typeof o],this._easing=Gl[t.easing]||Gl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const s=this._target[this._prop],a=n-this._start,o=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ce([t.to,e,s,t.from]),this._from=ce([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,s=this._prop,a=this._from,o=this._loop,c=this._to;let u;if(this._active=a!==c&&(o||e<n),!this._active){this._target[s]=c,this._notify(!0);return}if(e<0){this._target[s]=a;return}u=e/n%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(a,c,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][e]()}}class YE{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Bt(t))return;const e=Object.keys(me.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!Bt(a))return;const o={};for(const c of e)o[c]=a[c];(De(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!n.has(c))&&n.set(c,o)})})}_animateOptions(t,e){const n=e.options,s=fz(t,n);if(!s)return[];const a=this._createAnimations(s,n);return n.$shared&&hz(t.options.$animations,n).then(()=>{t.options=n},()=>{}),a}_createAnimations(t,e){const n=this._properties,s=[],a=t.$animations||(t.$animations={}),o=Object.keys(e),c=Date.now();let u;for(u=o.length-1;u>=0;--u){const h=o[u];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(t,e));continue}const f=e[h];let g=a[h];const m=n.get(h);if(g)if(m&&g.active()){g.update(m,f,c);continue}else g.cancel();if(!m||!m.duration){t[h]=f;continue}a[h]=g=new dz(m,t,h,f),s.push(g)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const n=this._createAnimations(t,e);if(n.length)return es.add(this._chart,n),!0}}function hz(i,t){const e=[],n=Object.keys(t);for(let s=0;s<n.length;s++){const a=i[n[s]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function fz(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function bS(i,t){const e=i&&i.options||{},n=e.reverse,s=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:n?a:s,end:n?s:a}}function pz(i,t,e){if(e===!1)return!1;const n=bS(i,e),s=bS(t,e);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function gz(i){let t,e,n,s;return Bt(i)?(t=i.top,e=i.right,n=i.bottom,s=i.left):t=e=n=s=i,{top:t,right:e,bottom:n,left:s,disabled:i===!1}}function XE(i,t){const e=[],n=i._getSortedDatasetMetas(t);let s,a;for(s=0,a=n.length;s<a;++s)e.push(n[s].index);return e}function yS(i,t,e,n={}){const s=i.keys,a=n.mode==="single";let o,c,u,h;if(t===null)return;let f=!1;for(o=0,c=s.length;o<c;++o){if(u=+s[o],u===e){if(f=!0,n.all)continue;break}h=i.values[u],ni(h)&&(a||t===0||Vs(t)===Vs(h))&&(t+=h)}return!f&&!n.all?0:t}function mz(i,t){const{iScale:e,vScale:n}=t,s=e.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",o=Object.keys(i),c=new Array(o.length);let u,h,f;for(u=0,h=o.length;u<h;++u)f=o[u],c[u]={[s]:f,[a]:i[f]};return c}function Sg(i,t){const e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function bz(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function yz(i){const{min:t,max:e,minDefined:n,maxDefined:s}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function vz(i,t,e){const n=i[t]||(i[t]={});return n[e]||(n[e]={})}function vS(i,t,e,n){for(const s of t.getMatchingVisibleMetas(n).reverse()){const a=i[s.index];if(e&&a>0||!e&&a<0)return s.index}return null}function xS(i,t){const{chart:e,_cachedMeta:n}=i,s=e._stacks||(e._stacks={}),{iScale:a,vScale:o,index:c}=n,u=a.axis,h=o.axis,f=bz(a,o,n),g=t.length;let m;for(let y=0;y<g;++y){const w=t[y],{[u]:x,[h]:S}=w,_=w._stacks||(w._stacks={});m=_[h]=vz(s,f,x),m[c]=S,m._top=vS(m,o,!0,n.type),m._bottom=vS(m,o,!1,n.type);const T=m._visualValues||(m._visualValues={});T[c]=S}}function _g(i,t){const e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function xz(i,t){return vo(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function wz(i,t,e){return vo(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Al(i,t){const e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(const s of t){const a=s._stacks;if(!a||a[n]===void 0||a[n][e]===void 0)return;delete a[n][e],a[n]._visualValues!==void 0&&a[n]._visualValues[e]!==void 0&&delete a[n]._visualValues[e]}}}const Ag=i=>i==="reset"||i==="none",wS=(i,t)=>t?i:Object.assign({},i),Sz=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:XE(e,!0),values:null};class Sb{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Sg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Al(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),s=(g,m,y,w)=>g==="x"?m:g==="r"?w:y,a=e.xAxisID=zt(n.xAxisID,_g(t,"x")),o=e.yAxisID=zt(n.yAxisID,_g(t,"y")),c=e.rAxisID=zt(n.rAxisID,_g(t,"r")),u=e.indexAxis,h=e.iAxisID=s(u,a,o,c),f=e.vAxisID=s(u,o,a,c);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&aS(this._data,this),t._stacked&&Al(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Bt(e)){const s=this._cachedMeta;this._data=mz(e,s)}else if(n!==e){if(n){aS(n,this);const s=this._cachedMeta;Al(s),s._parsed=[]}e&&Object.isExtensible(e)&&SF(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const a=e._stacked;e._stacked=Sg(e.vScale,e),e.stack!==n.stack&&(s=!0,Al(e),e.stack=n.stack),this._resyncElements(t),(s||a!==e._stacked)&&(xS(this,e._parsed),e._stacked=Sg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:s}=this,{iScale:a,_stacked:o}=n,c=a.axis;let u=t===0&&e===s.length?!0:n._sorted,h=t>0&&n._parsed[t-1],f,g,m;if(this._parsing===!1)n._parsed=s,n._sorted=!0,m=s;else{De(s[t])?m=this.parseArrayData(n,s,t,e):Bt(s[t])?m=this.parseObjectData(n,s,t,e):m=this.parsePrimitiveData(n,s,t,e);const y=()=>g[c]===null||h&&g[c]<h[c];for(f=0;f<e;++f)n._parsed[f+t]=g=m[f],u&&(y()&&(u=!1),h=g);n._sorted=u}o&&xS(this,m)}parsePrimitiveData(t,e,n,s){const{iScale:a,vScale:o}=t,c=a.axis,u=o.axis,h=a.getLabels(),f=a===o,g=new Array(s);let m,y,w;for(m=0,y=s;m<y;++m)w=m+n,g[m]={[c]:f||a.parse(h[w],w),[u]:o.parse(e[w],w)};return g}parseArrayData(t,e,n,s){const{xScale:a,yScale:o}=t,c=new Array(s);let u,h,f,g;for(u=0,h=s;u<h;++u)f=u+n,g=e[f],c[u]={x:a.parse(g[0],f),y:o.parse(g[1],f)};return c}parseObjectData(t,e,n,s){const{xScale:a,yScale:o}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=new Array(s);let f,g,m,y;for(f=0,g=s;f<g;++f)m=f+n,y=e[m],h[f]={x:a.parse(Va(y,c),m),y:o.parse(Va(y,u),m)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const s=this.chart,a=this._cachedMeta,o=e[t.axis],c={keys:XE(s,!0),values:e._stacks[t.axis]._visualValues};return yS(c,o,a.index,{mode:n})}updateRangeFromParsed(t,e,n,s){const a=n[e.axis];let o=a===null?NaN:a;const c=s&&n._stacks[e.axis];s&&c&&(s.values=c,o=yS(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,s=n._parsed,a=n._sorted&&t===n.iScale,o=s.length,c=this._getOtherScale(t),u=Sz(e,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=yz(c);let m,y;function w(){y=s[m];const x=y[c.axis];return!ni(y[t.axis])||f>x||g<x}for(m=0;m<o&&!(!w()&&(this.updateRangeFromParsed(h,t,y,u),a));++m);if(a){for(m=o-1;m>=0;--m)if(!w()){this.updateRangeFromParsed(h,t,y,u);break}}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let s,a,o;for(s=0,a=e.length;s<a;++s)o=e[s][t.axis],ni(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,s=e.vScale,a=this.getParsed(t);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=gz(zt(this.options.clip,pz(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,s=n.data||[],a=e.chartArea,o=[],c=this._drawStart||0,u=this._drawCount||s.length-c,h=this.options.drawActiveElementsOnTop;let f;for(n.dataset&&n.dataset.draw(t,a,c,u),f=c;f<c+u;++f){const g=s[f];g.hidden||(g.active&&h?o.push(g):g.draw(t,a))}for(f=0;f<o.length;++f)o[f].draw(t,a)}getStyle(t,e){const n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];a=o.$context||(o.$context=wz(this.getContext(),t,o)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=xz(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=n,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const s=e==="active",a=this._cachedDataOpts,o=t+"-"+e,c=a[o],u=this.enableOptionSharing&&tc(n);if(c)return wS(c,u);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,t),g=s?[`${t}Hover`,"hover",t,""]:[t,""],m=h.getOptionScopes(this.getDataset(),f),y=Object.keys(me.elements[t]),w=()=>this.getContext(n,s,e),x=h.resolveNamedOptions(m,y,w,g);return x.$shared&&(x.$shared=u,a[o]=Object.freeze(wS(x,u))),x}_resolveAnimations(t,e,n){const s=this.chart,a=this._cachedDataOpts,o=`animation-${e}`,c=a[o];if(c)return c;let u;if(s.options.animation!==!1){const f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,e),m=f.getOptionScopes(this.getDataset(),g);u=f.createResolver(m,this.getContext(t,n,e))}const h=new YE(s,u&&u.animations);return u&&u._cacheable&&(a[o]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ag(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),s=this._sharedOptions,a=this.getSharedOptions(n),o=this.includeOptions(e,a)||a!==s;return this.updateSharedOptions(a,e,n),{sharedOptions:a,includeOptions:o}}updateElement(t,e,n,s){Ag(s)?Object.assign(t,n):this._resolveAnimations(e,s).update(t,n)}updateSharedOptions(t,e,n){t&&!Ag(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,n,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[c,u,h]of this._syncList)this[c](u,h);this._syncList=[];const s=n.length,a=e.length,o=Math.min(a,s);o&&this.parse(0,o),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,e,n=!0){const s=this._cachedMeta,a=s.data,o=t+e;let c;const u=h=>{for(h.length+=e,c=h.length-1;c>=o;c--)h[c]=h[c-e]};for(u(a),c=t;c<o;++c)a[c]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(t,e),n&&this.updateElements(a,t,e,"reset")}updateElements(t,e,n,s){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(t,e);n._stacked&&Al(n,s)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,s]=t;this[e](n,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function _z(i,t){if(!i._cache.$bar){const e=i.getMatchingVisibleMetas(t);let n=[];for(let s=0,a=e.length;s<a;s++)n=n.concat(e[s].controller.getAllParsedValues(i));i._cache.$bar=PE(n.sort((s,a)=>s-a))}return i._cache.$bar}function Az(i){const t=i.iScale,e=_z(t,i.type);let n=t._length,s,a,o,c;const u=()=>{o===32767||o===-32768||(tc(c)&&(n=Math.min(n,Math.abs(o-c)||n)),c=o)};for(s=0,a=e.length;s<a;++s)o=t.getPixelForValue(e[s]),u();for(c=void 0,s=0,a=t.ticks.length;s<a;++s)o=t.getPixelForTick(s),u();return n}function Ez(i,t,e,n){const s=e.barThickness;let a,o;return Vt(s)?(a=t.min*e.categoryPercentage,o=e.barPercentage):(a=s*n,o=1),{chunk:a/n,ratio:o,start:t.pixels[i]-a/2}}function Cz(i,t,e,n){const s=t.pixels,a=s[i];let o=i>0?s[i-1]:null,c=i<s.length-1?s[i+1]:null;const u=e.categoryPercentage;o===null&&(o=a-(c===null?t.end-t.start:c-a)),c===null&&(c=a+a-o);const h=a-(a-Math.min(o,c))/2*u;return{chunk:Math.abs(c-o)/2*u/n,ratio:e.barPercentage,start:h}}function Tz(i,t,e,n){const s=e.parse(i[0],n),a=e.parse(i[1],n),o=Math.min(s,a),c=Math.max(s,a);let u=o,h=c;Math.abs(o)>Math.abs(c)&&(u=c,h=o),t[e.axis]=h,t._custom={barStart:u,barEnd:h,start:s,end:a,min:o,max:c}}function KE(i,t,e,n){return De(i)?Tz(i,t,e,n):t[e.axis]=e.parse(i,n),t}function SS(i,t,e,n){const s=i.iScale,a=i.vScale,o=s.getLabels(),c=s===a,u=[];let h,f,g,m;for(h=e,f=e+n;h<f;++h)m=t[h],g={},g[s.axis]=c||s.parse(o[h],h),u.push(KE(m,g,a,h));return u}function Eg(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function Rz(i,t,e){return i!==0?Vs(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Mz(i){let t,e,n,s,a;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(s="end",a="start"):(s="start",a="end"),{start:e,end:n,reverse:t,top:s,bottom:a}}function kz(i,t,e,n){let s=t.borderSkipped;const a={};if(!s){i.borderSkipped=a;return}if(s===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:u,top:h,bottom:f}=Mz(i);s==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?s=h:(e._bottom||0)===n?s=f:(a[_S(f,o,c,u)]=!0,s=h)),a[_S(s,o,c,u)]=!0,i.borderSkipped=a}function _S(i,t,e,n){return n?(i=Dz(i,t,e),i=AS(i,e,t)):i=AS(i,t,e),i}function Dz(i,t,e){return i===t?e:i===e?t:i}function AS(i,t,e){return i==="start"?t:i==="end"?e:i}function Oz(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}class Nz extends Sb{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,n,s){return SS(t,e,n,s)}parseArrayData(t,e,n,s){return SS(t,e,n,s)}parseObjectData(t,e,n,s){const{iScale:a,vScale:o}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=a.axis==="x"?c:u,f=o.axis==="x"?c:u,g=[];let m,y,w,x;for(m=n,y=n+s;m<y;++m)x=e[m],w={},w[a.axis]=a.parse(Va(x,h),m),g.push(KE(Va(x,f),w,o,m));return g}updateRangeFromParsed(t,e,n,s){super.updateRangeFromParsed(t,e,n,s);const a=n._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:s}=e,a=this.getParsed(t),o=a._custom,c=Eg(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,s){const a=s==="reset",{index:o,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),h=c.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:m}=this._getSharedOptions(e,s);for(let y=e;y<e+n;y++){const w=this.getParsed(y),x=a||Vt(w[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(y),S=this._calculateBarIndexPixels(y,f),_=(w._stacks||{})[c.axis],T={horizontal:h,base:x.base,enableBorderRadius:!_||Eg(w._custom)||o===_._top||o===_._bottom,x:h?x.head:S.center,y:h?S.center:x.head,height:h?S.size:Math.abs(x.size),width:h?Math.abs(x.size):S.size};m&&(T.options=g||this.resolveDataElementOptions(y,t[y].active?"active":s));const C=T.options||t[y].options;kz(T,C,_,o),Oz(T,C,f.ratio),this.updateElement(t[y],y,T,s)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),a=n.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(e),u=c&&c[n.axis],h=f=>{const g=f._parsed.find(y=>y[n.axis]===u),m=g&&g[f.vScale.axis];if(Vt(m)||isNaN(m))return!0};for(const f of s)if(!(e!==void 0&&h(f))&&((a===!1||o.indexOf(f.stack)===-1||a===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[zt(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,n){const s=this._getStacks(t,n),a=e!==void 0?s.indexOf(e):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,s=[];let a,o;for(a=0,o=e.data.length;a<o;++a)s.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const c=t.barThickness;return{min:c||Az(e),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:s},options:{base:a,minBarLength:o}}=this,c=a||0,u=this.getParsed(t),h=u._custom,f=Eg(h);let g=u[e.axis],m=0,y=n?this.applyStack(e,u,n):g,w,x;y!==g&&(m=y-g,y=g),f&&(g=h.barStart,y=h.barEnd-h.barStart,g!==0&&Vs(g)!==Vs(h.barEnd)&&(m=0),m+=g);const S=!Vt(a)&&!f?a:m;let _=e.getPixelForValue(S);if(this.chart.getDataVisibility(t)?w=e.getPixelForValue(m+y):w=_,x=w-_,Math.abs(x)<o){x=Rz(x,e,c)*o,g===c&&(_-=x/2);const T=e.getPixelForDecimal(0),C=e.getPixelForDecimal(1),k=Math.min(T,C),R=Math.max(T,C);_=Math.max(Math.min(_,R),k),w=_+x,n&&!f&&(u._stacks[e.axis]._visualValues[s]=e.getValueForPixel(w)-e.getValueForPixel(_))}if(_===e.getPixelForValue(c)){const T=Vs(x)*e.getLineWidthForValue(c)/2;_+=T,x-=T}return{size:x,base:_,head:w,center:w+x/2}}_calculateBarIndexPixels(t,e){const n=e.scale,s=this.options,a=s.skipNull,o=zt(s.maxBarThickness,1/0);let c,u;const h=this._getAxisCount();if(e.grouped){const f=a?this._getStackCount(t):e.stackCount,g=s.barThickness==="flex"?Cz(t,e,s,f*h):Ez(t,e,s,f*h),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(zt(m,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+y;c=g.start+g.chunk*w+g.chunk/2,u=Math.min(o,g.chunk*g.ratio)}else c=n.getPixelForValue(this.getParsed(t)[n.axis],t),u=Math.min(o,e.min*e.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,s=n.length;let a=0;for(;a<s;++a)this.getParsed(a)[e.axis]!==null&&!n[a].hidden&&n[a].draw(this._ctx)}}function Lz(i,t,e){let n=1,s=1,a=0,o=0;if(t<Ne){const c=i,u=c+t,h=Math.cos(c),f=Math.sin(c),g=Math.cos(u),m=Math.sin(u),y=(C,k,R)=>Wd(C,c,u,!0)?1:Math.max(k,k*e,R,R*e),w=(C,k,R)=>Wd(C,c,u,!0)?-1:Math.min(k,k*e,R,R*e),x=y(0,h,g),S=y(Fe,f,m),_=w(ne,h,g),T=w(ne+Fe,f,m);n=(x-_)/2,s=(S-T)/2,a=-(x+_)/2,o=-(S+T)/2}return{ratioX:n,ratioY:s,offsetX:a,offsetY:o}}class Pz extends Sb{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:s}}=t.legend.options;return e.labels.map((a,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:s,lineWidth:u.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let a=u=>+n[u];if(Bt(n[t])){const{key:u="value"}=this._parsing;a=h=>+Va(n[h],u)}let o,c;for(o=t,c=t+e;o<c;++o)s._parsed[o]=a(o)}}_getRotation(){return rs(this.options.rotation-90)}_getCircumference(){return rs(this.options.circumference)}_getRotationExtents(){let t=Ne,e=-Ne;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,a=s._getRotation(),o=s._getCircumference();t=Math.min(t,a),e=Math.max(e,a+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,s=this._cachedMeta,a=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(n.width,n.height)-o)/2,0),u=Math.min(rF(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:f,rotation:g}=this._getRotationExtents(),{ratioX:m,ratioY:y,offsetX:w,offsetY:x}=Lz(g,f,u),S=(n.width-o)/m,_=(n.height-o)/y,T=Math.max(Math.min(S,_)/2,0),C=kE(this.options.radius,T),k=Math.max(C*u,0),R=(C-k)/this._getVisibleDatasetWeightTotal();this.offsetX=w*C,this.offsetY=x*C,s.total=this.calculateTotal(),this.outerRadius=C-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*h,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const n=this.options,s=this._cachedMeta,a=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*a/Ne)}updateElements(t,e,n,s){const a=s==="reset",o=this.chart,c=o.chartArea,h=o.options.animation,f=(c.left+c.right)/2,g=(c.top+c.bottom)/2,m=a&&h.animateScale,y=m?0:this.innerRadius,w=m?0:this.outerRadius,{sharedOptions:x,includeOptions:S}=this._getSharedOptions(e,s);let _=this._getRotation(),T;for(T=0;T<e;++T)_+=this._circumference(T,a);for(T=e;T<e+n;++T){const C=this._circumference(T,a),k=t[T],R={x:f+this.offsetX,y:g+this.offsetY,startAngle:_,endAngle:_+C,circumference:C,outerRadius:w,innerRadius:y};S&&(R.options=x||this.resolveDataElementOptions(T,k.active?"active":s)),_+=C,this.updateElement(k,T,R,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n=0,s;for(s=0;s<e.length;s++){const a=t._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Ne*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,s=n.data.labels||[],a=hb(e._parsed[t],n.options.locale);return{label:s[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const n=this.chart;let s,a,o,c,u;if(!t){for(s=0,a=n.data.datasets.length;s<a;++s)if(n.isDatasetVisible(s)){o=n.getDatasetMeta(s),t=o.data,c=o.controller;break}}if(!t)return 0;for(s=0,a=t.length;s<a;++s)u=c.resolveDataElementOptions(s),u.borderAlign!=="inner"&&(e=Math.max(e,u.borderWidth||0,u.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,s=t.length;n<s;++n){const a=this.resolveDataElementOptions(n);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(zt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Iz extends Pz{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Ea(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class _b{static override(t){Object.assign(_b.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ea()}parse(){return Ea()}format(){return Ea()}add(){return Ea()}diff(){return Ea()}startOf(){return Ea()}endOf(){return Ea()}}var jz={_date:_b};function Fz(i,t,e,n){const{controller:s,data:a,_sorted:o}=i,c=s._cachedMeta.iScale,u=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&o&&a.length){const h=c._reversePixels?xF:um;if(n){if(s._sharedOptions){const f=a[0],g=typeof f.getRange=="function"&&f.getRange(t);if(g){const m=h(a,t,e-g),y=h(a,t,e+g);return{lo:m.lo,hi:y.hi}}}}else{const f=h(a,t,e);if(u){const{vScale:g}=s._cachedMeta,{_parsed:m}=i,y=m.slice(0,f.lo+1).reverse().findIndex(x=>!Vt(x[g.axis]));f.lo-=Math.max(0,y);const w=m.slice(f.hi).findIndex(x=>!Vt(x[g.axis]));f.hi+=Math.max(0,w)}return f}}return{lo:0,hi:a.length-1}}function vh(i,t,e,n,s){const a=i.getSortedVisibleDatasetMetas(),o=e[t];for(let c=0,u=a.length;c<u;++c){const{index:h,data:f}=a[c],{lo:g,hi:m}=Fz(a[c],t,o,s);for(let y=g;y<=m;++y){const w=f[y];w.skip||n(w,h,y)}}}function zz(i){const t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,s){const a=t?Math.abs(n.x-s.x):0,o=e?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function Cg(i,t,e,n,s){const a=[];return!s&&!i.isPointInArea(t)||vh(i,e,t,function(c,u,h){!s&&!fb(c,i.chartArea,0)||c.inRange(t.x,t.y,n)&&a.push({element:c,datasetIndex:u,index:h})},!0),a}function Bz(i,t,e,n){let s=[];function a(o,c,u){const{startAngle:h,endAngle:f}=o.getProps(["startAngle","endAngle"],n),{angle:g}=NE(o,{x:t.x,y:t.y});Wd(g,h,f)&&s.push({element:o,datasetIndex:c,index:u})}return vh(i,e,t,a),s}function Hz(i,t,e,n,s,a){let o=[];const c=zz(e);let u=Number.POSITIVE_INFINITY;function h(f,g,m){const y=f.inRange(t.x,t.y,s);if(n&&!y)return;const w=f.getCenterPoint(s);if(!(!!a||i.isPointInArea(w))&&!y)return;const S=c(t,w);S<u?(o=[{element:f,datasetIndex:g,index:m}],u=S):S===u&&o.push({element:f,datasetIndex:g,index:m})}return vh(i,e,t,h),o}function Tg(i,t,e,n,s,a){return!a&&!i.isPointInArea(t)?[]:e==="r"&&!n?Bz(i,t,e,s):Hz(i,t,e,n,s,a)}function ES(i,t,e,n,s){const a=[],o=e==="x"?"inXRange":"inYRange";let c=!1;return vh(i,e,t,(u,h,f)=>{u[o]&&u[o](t[e],s)&&(a.push({element:u,datasetIndex:h,index:f}),c=c||u.inRange(t.x,t.y,s))}),n&&!c?[]:a}var Uz={modes:{index(i,t,e,n){const s=Ta(t,i),a=e.axis||"x",o=e.includeInvisible||!1,c=e.intersect?Cg(i,s,a,n,o):Tg(i,s,a,!1,n,o),u=[];return c.length?(i.getSortedVisibleDatasetMetas().forEach(h=>{const f=c[0].index,g=h.data[f];g&&!g.skip&&u.push({element:g,datasetIndex:h.index,index:f})}),u):[]},dataset(i,t,e,n){const s=Ta(t,i),a=e.axis||"xy",o=e.includeInvisible||!1;let c=e.intersect?Cg(i,s,a,n,o):Tg(i,s,a,!1,n,o);if(c.length>0){const u=c[0].datasetIndex,h=i.getDatasetMeta(u).data;c=[];for(let f=0;f<h.length;++f)c.push({element:h[f],datasetIndex:u,index:f})}return c},point(i,t,e,n){const s=Ta(t,i),a=e.axis||"xy",o=e.includeInvisible||!1;return Cg(i,s,a,n,o)},nearest(i,t,e,n){const s=Ta(t,i),a=e.axis||"xy",o=e.includeInvisible||!1;return Tg(i,s,a,e.intersect,n,o)},x(i,t,e,n){const s=Ta(t,i);return ES(i,s,"x",e.intersect,n)},y(i,t,e,n){const s=Ta(t,i);return ES(i,s,"y",e.intersect,n)}}};const QE=["left","top","right","bottom"];function El(i,t){return i.filter(e=>e.pos===t)}function CS(i,t){return i.filter(e=>QE.indexOf(e.pos)===-1&&e.box.axis===t)}function Cl(i,t){return i.sort((e,n)=>{const s=t?n:e,a=t?e:n;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function Vz(i){const t=[];let e,n,s,a,o,c;for(e=0,n=(i||[]).length;e<n;++e)s=i[e],{position:a,options:{stack:o,stackWeight:c=1}}=s,t.push({index:e,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&a+o,stackWeight:c});return t}function Gz(i){const t={};for(const e of i){const{stack:n,pos:s,stackWeight:a}=e;if(!n||!QE.includes(s))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return t}function $z(i,t){const e=Gz(i),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t;let a,o,c;for(a=0,o=i.length;a<o;++a){c=i[a];const{fullSize:u}=c.box,h=e[c.stack],f=h&&c.stackWeight/h.weight;c.horizontal?(c.width=f?f*n:u&&t.availableWidth,c.height=s):(c.width=n,c.height=f?f*s:u&&t.availableHeight)}return e}function qz(i){const t=Vz(i),e=Cl(t.filter(h=>h.box.fullSize),!0),n=Cl(El(t,"left"),!0),s=Cl(El(t,"right")),a=Cl(El(t,"top"),!0),o=Cl(El(t,"bottom")),c=CS(t,"x"),u=CS(t,"y");return{fullSize:e,leftAndTop:n.concat(a),rightAndBottom:s.concat(u).concat(o).concat(c),chartArea:El(t,"chartArea"),vertical:n.concat(s).concat(u),horizontal:a.concat(o).concat(c)}}function TS(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function ZE(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function Wz(i,t,e,n){const{pos:s,box:a}=e,o=i.maxPadding;if(!Bt(s)){e.size&&(i[s]-=e.size);const g=n[e.stack]||{size:0,count:1};g.size=Math.max(g.size,e.horizontal?a.height:a.width),e.size=g.size/g.count,i[s]+=e.size}a.getPadding&&ZE(o,a.getPadding());const c=Math.max(0,t.outerWidth-TS(o,i,"left","right")),u=Math.max(0,t.outerHeight-TS(o,i,"top","bottom")),h=c!==i.w,f=u!==i.h;return i.w=c,i.h=u,e.horizontal?{same:h,other:f}:{same:f,other:h}}function Yz(i){const t=i.maxPadding;function e(n){const s=Math.max(t[n]-i[n],0);return i[n]+=s,s}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function Xz(i,t){const e=t.maxPadding;function n(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{a[o]=Math.max(t[o],e[o])}),a}return n(i?["left","right"]:["top","bottom"])}function Il(i,t,e,n){const s=[];let a,o,c,u,h,f;for(a=0,o=i.length,h=0;a<o;++a){c=i[a],u=c.box,u.update(c.width||t.w,c.height||t.h,Xz(c.horizontal,t));const{same:g,other:m}=Wz(t,e,c,n);h|=g&&s.length,f=f||m,u.fullSize||s.push(c)}return h&&Il(s,t,e,n)||f}function id(i,t,e,n,s){i.top=e,i.left=t,i.right=t+n,i.bottom=e+s,i.width=n,i.height=s}function RS(i,t,e,n){const s=e.padding;let{x:a,y:o}=t;for(const c of i){const u=c.box,h=n[c.stack]||{placed:0,weight:1},f=c.stackWeight/h.weight||1;if(c.horizontal){const g=t.w*f,m=h.size||u.height;tc(h.start)&&(o=h.start),u.fullSize?id(u,s.left,o,e.outerWidth-s.right-s.left,m):id(u,t.left+h.placed,o,g,m),h.start=o,h.placed+=g,o=u.bottom}else{const g=t.h*f,m=h.size||u.width;tc(h.start)&&(a=h.start),u.fullSize?id(u,a,s.top,m,e.outerHeight-s.bottom-s.top):id(u,a,t.top+h.placed,m,g),h.start=a,h.placed+=g,a=u.right}}t.x=a,t.y=o}var ti={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;const s=Bn(i.options.layout.padding),a=Math.max(t-s.width,0),o=Math.max(e-s.height,0),c=qz(i.boxes),u=c.vertical,h=c.horizontal;$t(i.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const f=u.reduce((x,S)=>S.box.options&&S.box.options.display===!1?x:x+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/f,hBoxMaxHeight:o/2}),m=Object.assign({},s);ZE(m,Bn(n));const y=Object.assign({maxPadding:m,w:a,h:o,x:s.left,y:s.top},s),w=$z(u.concat(h),g);Il(c.fullSize,y,g,w),Il(u,y,g,w),Il(h,y,g,w)&&Il(u,y,g,w),Yz(y),RS(c.leftAndTop,y,g,w),y.x+=y.w,y.y+=y.h,RS(c.rightAndBottom,y,g,w),i.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},$t(c.chartArea,x=>{const S=x.box;Object.assign(S,i.chartArea),S.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class JE{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,s){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):n)}}isAttached(t){return!0}updateConfig(t){}}class Kz extends JE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Md="$chartjs",Qz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},MS=i=>i===null||i==="";function Zz(i,t){const e=i.style,n=i.getAttribute("height"),s=i.getAttribute("width");if(i[Md]={initial:{height:n,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",MS(s)){const a=gS(i,"width");a!==void 0&&(i.width=a)}if(MS(n))if(i.style.height==="")i.height=i.width/(t||2);else{const a=gS(i,"height");a!==void 0&&(i.height=a)}return i}const tC=sz?{passive:!0}:!1;function Jz(i,t,e){i&&i.addEventListener(t,e,tC)}function tB(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,tC)}function eB(i,t){const e=Qz[i.type]||i.type,{x:n,y:s}=Ta(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Kd(i,t){for(const e of i)if(e===t||e.contains(t))return!0}function nB(i,t,e){const n=i.canvas,s=new MutationObserver(a=>{let o=!1;for(const c of a)o=o||Kd(c.addedNodes,n),o=o&&!Kd(c.removedNodes,n);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function iB(i,t,e){const n=i.canvas,s=new MutationObserver(a=>{let o=!1;for(const c of a)o=o||Kd(c.removedNodes,n),o=o&&!Kd(c.addedNodes,n);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const nc=new Map;let kS=0;function eC(){const i=window.devicePixelRatio;i!==kS&&(kS=i,nc.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function sB(i,t){nc.size||window.addEventListener("resize",eC),nc.set(i,t)}function aB(i){nc.delete(i),nc.size||window.removeEventListener("resize",eC)}function rB(i,t,e){const n=i.canvas,s=n&&wb(n);if(!s)return;const a=jE((c,u)=>{const h=s.clientWidth;e(c,u),h<s.clientWidth&&e()},window),o=new ResizeObserver(c=>{const u=c[0],h=u.contentRect.width,f=u.contentRect.height;h===0&&f===0||a(h,f)});return o.observe(s),sB(i,a),o}function Rg(i,t,e){e&&e.disconnect(),t==="resize"&&aB(i)}function oB(i,t,e){const n=i.canvas,s=jE(a=>{i.ctx!==null&&e(eB(a,i))},i);return Jz(n,t,s),s}class lB extends JE{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Zz(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Md])return!1;const n=e[Md].initial;["height","width"].forEach(a=>{const o=n[a];Vt(o)?e.removeAttribute(a):e.setAttribute(a,o)});const s=n.style||{};return Object.keys(s).forEach(a=>{e.style[a]=s[a]}),e.width=e.width,delete e[Md],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),o={attach:nB,detach:iB,resize:rB}[e]||oB;s[e]=o(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),s=n[e];if(!s)return;({attach:Rg,detach:Rg,resize:Rg}[e]||tB)(t,e,s),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,s){return iz(t,e,n,s)}isAttached(t){const e=t&&wb(t);return!!(e&&e.isConnected)}}function cB(i){return!xb()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Kz:lB}let ea=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return qd(this.x)&&qd(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const s={};return t.forEach(a=>{s[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),s}};function uB(i,t){const e=i.options.ticks,n=dB(i),s=Math.min(e.maxTicksLimit||n,n),a=e.major.enabled?fB(t):[],o=a.length,c=a[0],u=a[o-1],h=[];if(o>s)return pB(t,h,a,o/s),h;const f=hB(a,t,s);if(o>0){let g,m;const y=o>1?Math.round((u-c)/(o-1)):null;for(sd(t,h,f,Vt(y)?0:c-y,c),g=0,m=o-1;g<m;g++)sd(t,h,f,a[g],a[g+1]);return sd(t,h,f,u,Vt(y)?t.length:u+y),h}return sd(t,h,f),h}function dB(i){const t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),s=i._maxLength/e;return Math.floor(Math.min(n,s))}function hB(i,t,e){const n=gB(i),s=t.length/e;if(!n)return Math.max(s,1);const a=fF(n);for(let o=0,c=a.length-1;o<c;o++){const u=a[o];if(u>s)return u}return Math.max(s,1)}function fB(i){const t=[];let e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function pB(i,t,e,n){let s=0,a=e[0],o;for(n=Math.ceil(n),o=0;o<i.length;o++)o===a&&(t.push(i[o]),s++,a=e[s*n])}function sd(i,t,e,n,s){const a=zt(n,0),o=Math.min(zt(s,i.length),i.length);let c=0,u,h,f;for(e=Math.ceil(e),s&&(u=s-n,e=u/Math.floor(u/e)),f=a;f<0;)c++,f=Math.round(a+c*e);for(h=Math.max(a,0);h<o;h++)h===f&&(t.push(i[h]),c++,f=Math.round(a+c*e))}function gB(i){const t=i.length;let e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}const mB=i=>i==="left"?"right":i==="right"?"left":i,DS=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,OS=(i,t)=>Math.min(t||i,i);function NS(i,t){const e=[],n=i.length/t,s=i.length;let a=0;for(;a<s;a+=n)e.push(i[Math.floor(a)]);return e}function bB(i,t,e){const n=i.ticks.length,s=Math.min(t,n-1),a=i._startPixel,o=i._endPixel,c=1e-6;let u=i.getPixelForTick(s),h;if(!(e&&(n===1?h=Math.max(u-a,o-u):t===0?h=(i.getPixelForTick(1)-u)/2:h=(u-i.getPixelForTick(s-1))/2,u+=s<t?h:-h,u<a-c||u>o+c)))return u}function yB(i,t){$t(i,e=>{const n=e.gc,s=n.length/2;let a;if(s>t){for(a=0;a<s;++a)delete e.data[n[a]];n.splice(0,s)}})}function Tl(i){return i.drawTicks?i.tickLength:0}function LS(i,t){if(!i.display)return 0;const e=Qe(i.font,t),n=Bn(i.padding);return(De(i.text)?i.text.length:1)*e.lineHeight+n.height}function vB(i,t){return vo(i,{scale:t,type:"scale"})}function xB(i,t,e){return vo(i,{tick:e,index:t,type:"tick"})}function wB(i,t,e){let n=db(i);return(e&&t!=="right"||!e&&t==="right")&&(n=mB(n)),n}function SB(i,t,e,n){const{top:s,left:a,bottom:o,right:c,chart:u}=i,{chartArea:h,scales:f}=u;let g=0,m,y,w;const x=o-s,S=c-a;if(i.isHorizontal()){if(y=sn(n,a,c),Bt(e)){const _=Object.keys(e)[0],T=e[_];w=f[_].getPixelForValue(T)+x-t}else e==="center"?w=(h.bottom+h.top)/2+x-t:w=DS(i,e,t);m=c-a}else{if(Bt(e)){const _=Object.keys(e)[0],T=e[_];y=f[_].getPixelForValue(T)-S+t}else e==="center"?y=(h.left+h.right)/2-S+t:y=DS(i,e,t);w=sn(n,o,s),g=e==="left"?-Fe:Fe}return{titleX:y,titleY:w,maxWidth:m,rotation:g}}class xo extends ea{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:s}=this;return t=wi(t,Number.POSITIVE_INFINITY),e=wi(e,Number.NEGATIVE_INFINITY),n=wi(n,Number.POSITIVE_INFINITY),s=wi(s,Number.NEGATIVE_INFINITY),{min:wi(t,n),max:wi(e,s),minDefined:ni(t),maxDefined:ni(e)}}getMinMax(t){let{min:e,max:n,minDefined:s,maxDefined:a}=this.getUserBounds(),o;if(s&&a)return{min:e,max:n};const c=this.getMatchingVisibleMetas();for(let u=0,h=c.length;u<h;++u)o=c[u].controller.getMinMax(this,t),s||(e=Math.min(e,o.min)),a||(n=Math.max(n,o.max));return e=a&&e>n?n:e,n=s&&e>n?e:n,{min:wi(e,wi(n,e)),max:wi(n,wi(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){te(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:s,grace:a,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=UF(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?NS(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=uB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){te(this.options.afterUpdate,[this])}beforeSetDimensions(){te(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){te(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),te(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){te(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,s,a;for(n=0,s=t.length;n<s;n++)a=t[n],a.label=te(e.callback,[a.value,n,t],this)}afterTickToLabelConversion(){te(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){te(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=OS(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,a=e.maxRotation;let o=s,c,u,h;if(!this._isVisible()||!e.display||s>=a||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),g=f.widest.width,m=f.highest.height,y=_n(this.chart.width-g,0,this.maxWidth);c=t.offset?this.maxWidth/n:y/(n-1),g+6>c&&(c=y/(n-(t.offset?.5:1)),u=this.maxHeight-Tl(t.grid)-e.padding-LS(t.title,this.chart.options.font),h=Math.sqrt(g*g+m*m),o=bF(Math.min(Math.asin(_n((f.highest.height+6)/c,-1,1)),Math.asin(_n(u/h,-1,1))-Math.asin(_n(m/h,-1,1)))),o=Math.max(s,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){te(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){te(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:s,grid:a}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const u=LS(s,e.options.font);if(c?(t.width=this.maxWidth,t.height=Tl(a)+u):(t.height=this.maxHeight,t.width=Tl(a)+u),n.display&&this.ticks.length){const{first:h,last:f,widest:g,highest:m}=this._getLabelSizes(),y=n.padding*2,w=rs(this.labelRotation),x=Math.cos(w),S=Math.sin(w);if(c){const _=n.mirror?0:S*g.width+x*m.height;t.height=Math.min(this.maxHeight,t.height+_+y)}else{const _=n.mirror?0:x*g.width+S*m.height;t.width=Math.min(this.maxWidth,t.width+_+y)}this._calculatePadding(h,f,S,x)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,s){const{ticks:{align:a,padding:o},position:c}=this.options,u=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,y=0;u?h?(m=s*t.width,y=n*e.height):(m=n*t.height,y=s*e.width):a==="start"?y=e.width:a==="end"?m=t.width:a!=="inner"&&(m=t.width/2,y=e.width/2),this.paddingLeft=Math.max((m-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-g+o)*this.width/(this.width-g),0)}else{let f=e.height/2,g=t.height/2;a==="start"?(f=0,g=t.height):a==="end"&&(f=e.height,g=0),this.paddingTop=f+o,this.paddingBottom=g+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){te(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)Vt(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=NS(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:s,_longestTextCache:a}=this,o=[],c=[],u=Math.floor(e/OS(e,n));let h=0,f=0,g,m,y,w,x,S,_,T,C,k,R;for(g=0;g<e;g+=u){if(w=t[g].label,x=this._resolveTickFontOptions(g),s.font=S=x.string,_=a[S]=a[S]||{data:{},gc:[]},T=x.lineHeight,C=k=0,!Vt(w)&&!De(w))C=uS(s,_.data,_.gc,C,w),k=T;else if(De(w))for(m=0,y=w.length;m<y;++m)R=w[m],!Vt(R)&&!De(R)&&(C=uS(s,_.data,_.gc,C,R),k+=T);o.push(C),c.push(k),h=Math.max(C,h),f=Math.max(k,f)}yB(a,e);const O=o.indexOf(h),N=c.indexOf(f),P=H=>({width:o[H]||0,height:c[H]||0});return{first:P(0),last:P(e-1),widest:P(O),highest:P(N),widths:o,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return vF(this._alignToPixels?Aa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=xB(this.getContext(),t,n))}return this.$context||(this.$context=vB(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=rs(this.labelRotation),n=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),a=this._getLabelSizes(),o=t.autoSkipPadding||0,c=a?a.widest.width+o:0,u=a?a.highest.height+o:0;return this.isHorizontal()?u*n>c*s?c/n:u/s:u*s<c*n?u/n:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,s=this.options,{grid:a,position:o,border:c}=s,u=a.offset,h=this.isHorizontal(),g=this.ticks.length+(u?1:0),m=Tl(a),y=[],w=c.setContext(this.getContext()),x=w.display?w.width:0,S=x/2,_=function(L){return Aa(n,L,x)};let T,C,k,R,O,N,P,H,W,K,et,lt;if(o==="top")T=_(this.bottom),N=this.bottom-m,H=T-S,K=_(t.top)+S,lt=t.bottom;else if(o==="bottom")T=_(this.top),K=t.top,lt=_(t.bottom)-S,N=T+S,H=this.top+m;else if(o==="left")T=_(this.right),O=this.right-m,P=T-S,W=_(t.left)+S,et=t.right;else if(o==="right")T=_(this.left),W=t.left,et=_(t.right)-S,O=T+S,P=this.left+m;else if(e==="x"){if(o==="center")T=_((t.top+t.bottom)/2+.5);else if(Bt(o)){const L=Object.keys(o)[0],F=o[L];T=_(this.chart.scales[L].getPixelForValue(F))}K=t.top,lt=t.bottom,N=T+S,H=N+m}else if(e==="y"){if(o==="center")T=_((t.left+t.right)/2);else if(Bt(o)){const L=Object.keys(o)[0],F=o[L];T=_(this.chart.scales[L].getPixelForValue(F))}O=T-S,P=O-m,W=t.left,et=t.right}const at=zt(s.ticks.maxTicksLimit,g),rt=Math.max(1,Math.ceil(g/at));for(C=0;C<g;C+=rt){const L=this.getContext(C),F=a.setContext(L),V=c.setContext(L),ut=F.lineWidth,I=F.color,Z=V.dash||[],B=V.dashOffset,G=F.tickWidth,J=F.tickColor,st=F.tickBorderDash||[],ot=F.tickBorderDashOffset;k=bB(this,C,u),k!==void 0&&(R=Aa(n,k,ut),h?O=P=W=et=R:N=H=K=lt=R,y.push({tx1:O,ty1:N,tx2:P,ty2:H,x1:W,y1:K,x2:et,y2:lt,width:ut,color:I,borderDash:Z,borderDashOffset:B,tickWidth:G,tickColor:J,tickBorderDash:st,tickBorderDashOffset:ot}))}return this._ticksLength=g,this._borderValue=T,y}_computeLabelItems(t){const e=this.axis,n=this.options,{position:s,ticks:a}=n,o=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:h,padding:f,mirror:g}=a,m=Tl(n.grid),y=m+f,w=g?-f:y,x=-rs(this.labelRotation),S=[];let _,T,C,k,R,O,N,P,H,W,K,et,lt="middle";if(s==="top")O=this.bottom-w,N=this._getXAxisLabelAlignment();else if(s==="bottom")O=this.top+w,N=this._getXAxisLabelAlignment();else if(s==="left"){const rt=this._getYAxisLabelAlignment(m);N=rt.textAlign,R=rt.x}else if(s==="right"){const rt=this._getYAxisLabelAlignment(m);N=rt.textAlign,R=rt.x}else if(e==="x"){if(s==="center")O=(t.top+t.bottom)/2+y;else if(Bt(s)){const rt=Object.keys(s)[0],L=s[rt];O=this.chart.scales[rt].getPixelForValue(L)+y}N=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")R=(t.left+t.right)/2-y;else if(Bt(s)){const rt=Object.keys(s)[0],L=s[rt];R=this.chart.scales[rt].getPixelForValue(L)}N=this._getYAxisLabelAlignment(m).textAlign}e==="y"&&(u==="start"?lt="top":u==="end"&&(lt="bottom"));const at=this._getLabelSizes();for(_=0,T=c.length;_<T;++_){C=c[_],k=C.label;const rt=a.setContext(this.getContext(_));P=this.getPixelForTick(_)+a.labelOffset,H=this._resolveTickFontOptions(_),W=H.lineHeight,K=De(k)?k.length:1;const L=K/2,F=rt.color,V=rt.textStrokeColor,ut=rt.textStrokeWidth;let I=N;o?(R=P,N==="inner"&&(_===T-1?I=this.options.reverse?"left":"right":_===0?I=this.options.reverse?"right":"left":I="center"),s==="top"?h==="near"||x!==0?et=-K*W+W/2:h==="center"?et=-at.highest.height/2-L*W+W:et=-at.highest.height+W/2:h==="near"||x!==0?et=W/2:h==="center"?et=at.highest.height/2-L*W:et=at.highest.height-K*W,g&&(et*=-1),x!==0&&!rt.showLabelBackdrop&&(R+=W/2*Math.sin(x))):(O=P,et=(1-K)*W/2);let Z;if(rt.showLabelBackdrop){const B=Bn(rt.backdropPadding),G=at.heights[_],J=at.widths[_];let st=et-B.top,ot=0-B.left;switch(lt){case"middle":st-=G/2;break;case"bottom":st-=G;break}switch(N){case"center":ot-=J/2;break;case"right":ot-=J;break;case"inner":_===T-1?ot-=J:_>0&&(ot-=J/2);break}Z={left:ot,top:st,width:J+B.width,height:G+B.height,color:rt.backdropColor}}S.push({label:k,font:H,textOffset:et,options:{rotation:x,color:F,strokeColor:V,strokeWidth:ut,textAlign:I,textBaseline:lt,translation:[R,O],backdrop:Z}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-rs(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:s,padding:a}}=this.options,o=this._getLabelSizes(),c=t+a,u=o.widest.width;let h,f;return e==="left"?s?(f=this.right+a,n==="near"?h="left":n==="center"?(h="center",f+=u/2):(h="right",f+=u)):(f=this.right-c,n==="near"?h="right":n==="center"?(h="center",f-=u/2):(h="left",f=this.left)):e==="right"?s?(f=this.left+a,n==="near"?h="right":n==="center"?(h="center",f-=u/2):(h="left",f-=u)):(f=this.left+c,n==="near"?h="left":n==="center"?(h="center",f+=u/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:s,width:a,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,s,a,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,o;const c=(u,h,f)=>{!f.width||!f.color||(n.save(),n.lineWidth=f.width,n.strokeStyle=f.color,n.setLineDash(f.borderDash||[]),n.lineDashOffset=f.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(h.x,h.y),n.stroke(),n.restore())};if(e.display)for(a=0,o=s.length;a<o;++a){const u=s[a];e.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:s}}=this,a=n.setContext(this.getContext()),o=n.display?a.width:0;if(!o)return;const c=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,f,g,m;this.isHorizontal()?(h=Aa(t,this.left,o)-o/2,f=Aa(t,this.right,c)+c/2,g=m=u):(g=Aa(t,this.top,o)-o/2,m=Aa(t,this.bottom,c)+c/2,h=f=u),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(h,g),e.lineTo(f,m),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&pb(n,s);const a=this.getLabelItems(t);for(const o of a){const c=o.options,u=o.font,h=o.label,f=o.textOffset;ec(n,h,0,f,u,c)}s&&gb(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:s}}=this;if(!n.display)return;const a=Qe(n.font),o=Bn(n.padding),c=n.align;let u=a.lineHeight/2;e==="bottom"||e==="center"||Bt(e)?(u+=o.bottom,De(n.text)&&(u+=a.lineHeight*(n.text.length-1))):u+=o.top;const{titleX:h,titleY:f,maxWidth:g,rotation:m}=SB(this,u,e,c);ec(t,n.text,0,0,a,{color:n.color,maxWidth:g,rotation:m,textAlign:wB(c,e,s),textBaseline:"middle",translation:[h,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=zt(t.grid&&t.grid.z,-1),s=zt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==xo.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let a,o;for(a=0,o=e.length;a<o;++a){const c=e[a];c[n]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Qe(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ad{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;EB(e)&&(n=this.register(e));const s=this.items,a=t.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,_B(t,o,n),this.override&&me.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,s=this.scope;n in e&&delete e[n],s&&n in me[s]&&(delete me[s][n],this.override&&delete Ga[n])}}function _B(i,t,e){const n=Pi(Object.create(null),[e?me.get(e):{},me.get(t),i.defaults]);me.set(t,n),i.defaultRoutes&&AB(t,i.defaultRoutes),i.descriptors&&me.describe(t,i.descriptors)}function AB(i,t){Object.keys(t).forEach(e=>{const n=e.split("."),s=n.pop(),a=[i].concat(n).join("."),o=t[e].split("."),c=o.pop(),u=o.join(".");me.route(a,s,u,c)})}function EB(i){return"id"in i&&"defaults"in i}class CB{constructor(){this.controllers=new ad(Sb,"datasets",!0),this.elements=new ad(ea,"elements"),this.plugins=new ad(Object,"plugins"),this.scales=new ad(xo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(s=>{const a=n||this._getRegistryForType(s);n||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):$t(s,o=>{const c=n||this._getRegistryForType(o);this._exec(t,c,o)})})}_exec(t,e,n){const s=cb(t);te(n["before"+s],[],n),e[t](n),te(n["after"+s],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return s}}var Ei=new CB;class TB{constructor(){this._init=[]}notify(t,e,n,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(a,t,e,n);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,s){s=s||{};for(const a of t){const o=a.plugin,c=o[n],u=[e,s,a.options];if(te(c,u,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Vt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,s=zt(n.options&&n.options.plugins,{}),a=RB(n);return s===!1&&!e?[]:kB(t,a,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,s=(a,o)=>a.filter(c=>!o.some(u=>c.plugin.id===u.plugin.id));this._notify(s(e,n),t,"stop"),this._notify(s(n,e),t,"start")}}function RB(i){const t={},e=[],n=Object.keys(Ei.plugins.items);for(let a=0;a<n.length;a++)e.push(Ei.getPlugin(n[a]));const s=i.plugins||[];for(let a=0;a<s.length;a++){const o=s[a];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function MB(i,t){return!t&&i===!1?null:i===!0?{}:i}function kB(i,{plugins:t,localIds:e},n,s){const a=[],o=i.getContext();for(const c of t){const u=c.id,h=MB(n[u],s);h!==null&&a.push({plugin:c,options:DB(i.config,{plugin:c,local:e[u]},h,o)})}return a}function DB(i,{plugin:t,local:e},n,s){const a=i.pluginScopeKeys(t),o=i.getOptionScopes(n,a);return e&&t.defaults&&o.push(t.defaults),i.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fm(i,t){const e=me.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function OB(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function NB(i,t){return i===t?"_index_":"_value_"}function PS(i){if(i==="x"||i==="y"||i==="r")return i}function LB(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function pm(i,...t){if(PS(i))return i;for(const e of t){const n=e.axis||LB(e.position)||i.length>1&&PS(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function IS(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function PB(i,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return IS(i,"x",e[0])||IS(i,"y",e[0])}return{}}function IB(i,t){const e=Ga[i.type]||{scales:{}},n=t.scales||{},s=fm(i.type,t),a=Object.create(null);return Object.keys(n).forEach(o=>{const c=n[o];if(!Bt(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=pm(o,c,PB(o,i),me.scales[c.type]),h=NB(u,s),f=e.scales||{};a[o]=Vl(Object.create(null),[{axis:u},c,f[u],f[h]])}),i.data.datasets.forEach(o=>{const c=o.type||i.type,u=o.indexAxis||fm(c,t),f=(Ga[c]||{}).scales||{};Object.keys(f).forEach(g=>{const m=OB(g,u),y=o[m+"AxisID"]||m;a[y]=a[y]||Object.create(null),Vl(a[y],[{axis:m},n[y],f[g]])})}),Object.keys(a).forEach(o=>{const c=a[o];Vl(c,[me.scales[c.type],me.scale])}),a}function nC(i){const t=i.options||(i.options={});t.plugins=zt(t.plugins,{}),t.scales=IB(i,t)}function iC(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function jB(i){return i=i||{},i.data=iC(i.data),nC(i),i}const jS=new Map,sC=new Set;function rd(i,t){let e=jS.get(i);return e||(e=t(),jS.set(i,e),sC.add(e)),e}const Rl=(i,t,e)=>{const n=Va(t,e);n!==void 0&&i.add(n)};class FB{constructor(t){this._config=jB(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=iC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),nC(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return rd(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return rd(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return rd(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return rd(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let s=n.get(t);return(!s||e)&&(s=new Map,n.set(t,s)),s}getOptionScopes(t,e,n){const{options:s,type:a}=this,o=this._cachedScopes(t,n),c=o.get(e);if(c)return c;const u=new Set;e.forEach(f=>{t&&(u.add(t),f.forEach(g=>Rl(u,t,g))),f.forEach(g=>Rl(u,s,g)),f.forEach(g=>Rl(u,Ga[a]||{},g)),f.forEach(g=>Rl(u,me,g)),f.forEach(g=>Rl(u,dm,g))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),sC.has(e)&&o.set(e,h),h}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ga[e]||{},me.datasets[e]||{},{type:e},me,dm]}resolveNamedOptions(t,e,n,s=[""]){const a={$shared:!0},{resolver:o,subPrefixes:c}=FS(this._resolverCache,t,s);let u=o;if(BB(o,e)){a.$shared=!1,n=Ks(n)?n():n;const h=this.createResolver(t,n,c);u=co(o,n,h)}for(const h of e)a[h]=u[h];return a}createResolver(t,e,n=[""],s){const{resolver:a}=FS(this._resolverCache,t,n);return Bt(e)?co(a,e,void 0,s):a}}function FS(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));const s=e.join();let a=n.get(s);return a||(a={resolver:bb(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},n.set(s,a)),a}const zB=i=>Bt(i)&&Object.getOwnPropertyNames(i).some(t=>Ks(i[t]));function BB(i,t){const{isScriptable:e,isIndexable:n}=UE(i);for(const s of t){const a=e(s),o=n(s),c=(o||a)&&i[s];if(a&&(Ks(c)||zB(c))||o&&De(c))return!0}return!1}var HB="4.5.0";const UB=["top","bottom","left","right","chartArea"];function zS(i,t){return i==="top"||i==="bottom"||UB.indexOf(i)===-1&&t==="x"}function BS(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function HS(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),te(e&&e.onComplete,[i],t)}function VB(i){const t=i.chart,e=t.options.animation;te(e&&e.onProgress,[i],t)}function aC(i){return xb()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const kd={},US=i=>{const t=aC(i);return Object.values(kd).filter(e=>e.canvas===t).pop()};function GB(i,t,e){const n=Object.keys(i);for(const s of n){const a=+s;if(a>=t){const o=i[s];delete i[s],(e>0||a>t)&&(i[a+e]=o)}}}function $B(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}let xh=class{static defaults=me;static instances=kd;static overrides=Ga;static registry=Ei;static version=HB;static getChart=US;static register(...t){Ei.add(...t),VS()}static unregister(...t){Ei.remove(...t),VS()}constructor(t,e){const n=this.config=new FB(e),s=aC(t),a=US(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||cB(s)),this.platform.updateConfig(n);const c=this.platform.acquireContext(s,o.aspectRatio),u=c&&c.canvas,h=u&&u.height,f=u&&u.width;if(this.id=aF(),this.ctx=c,this.canvas=u,this.width=f,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new TB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_F(g=>this.update(g),o.resizeDelay||0),this._dataChanges=[],kd[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}es.listen(this,"complete",HS),es.listen(this,"progress",VB),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:s,_aspectRatio:a}=this;return Vt(t)?e&&a?a:s?n/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ei}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():pS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return dS(this.canvas,this.ctx),this}stop(){return es.stop(this),this}resize(t,e){es.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,s=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,e,a),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,pS(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),te(n.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};$t(e,(n,s)=>{n.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,s=Object.keys(n).reduce((o,c)=>(o[c]=!1,o),{});let a=[];e&&(a=a.concat(Object.keys(e).map(o=>{const c=e[o],u=pm(o,c),h=u==="r",f=u==="x";return{options:c,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),$t(a,o=>{const c=o.options,u=c.id,h=pm(u,c),f=zt(c.type,o.dtype);(c.position===void 0||zS(c.position,h)!==zS(o.dposition))&&(c.position=o.dposition),s[u]=!0;let g=null;if(u in n&&n[u].type===f)g=n[u];else{const m=Ei.getScale(f);g=new m({id:u,type:f,ctx:this.ctx,chart:this}),n[g.id]=g}g.init(c,t)}),$t(s,(o,c)=>{o||delete n[c]}),$t(n,o=>{ti.configure(this,o,o.options),ti.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((s,a)=>s.index-a.index),n>e){for(let s=e;s<n;++s)this._destroyDatasetMeta(s);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(BS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,s)=>{e.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=e.length;n<s;n++){const a=e[n];let o=this.getDatasetMeta(n);const c=a.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=c,o.indexAxis=a.indexAxis||fm(c,this.options),o.order=a.order||0,o.index=n,o.label=""+a.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const u=Ei.getController(c),{datasetElementType:h,dataElementType:f}=me.datasets[c];Object.assign(u,{dataElementType:Ei.getElement(f),datasetElementType:h&&Ei.getElement(h)}),o.controller=new u(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){$t(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:g}=this.getDatasetMeta(h),m=!s&&a.indexOf(g)===-1;g.buildOrUpdateElements(m),o=Math.max(+g.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),s||$t(a,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(BS("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){$t(this.scales,t=>{ti.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!eS(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:a}of e){const o=n==="_removeElements"?-a:a;GB(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=a=>new Set(t.filter(o=>o[0]===a).map((o,c)=>c+","+o.splice(1).join(","))),s=n(0);for(let a=1;a<e;a++)if(!eS(s,n(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ti.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],$t(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,Ks(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),s={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(es.has(this)?this.attached&&!es.running(this)&&es.start(this):(this.draw(),HS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let s,a;for(s=0,a=e.length;s<a;++s){const o=e[s];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n={meta:t,index:t.index,cancelable:!0},s=lz(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&pb(e,s),t.controller.draw(),s&&gb(e),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return fb(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,s){const a=Uz.modes[e];return typeof a=="function"?a(this,t,n,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let s=n.filter(a=>a&&a._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=vo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const s=n?"show":"hide",a=this.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,s);tc(e)?(a.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(a,{visible:n}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),es.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),dS(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete kd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(a,o)=>{e.addEventListener(this,a,o),t[a]=o},s=(a,o,c)=>{a.offsetX=o,a.offsetY=c,this._eventHandler(a)};$t(this.options.events,a=>n(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(u,h)=>{e.addEventListener(this,u,h),t[u]=h},s=(u,h)=>{t[u]&&(e.removeEventListener(this,u,h),delete t[u])},a=(u,h)=>{this.canvas&&this.resize(u,h)};let o;const c=()=>{s("attach",c),this.attached=!0,this.resize(),n("resize",a),n("detach",o)};o=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),n("attach",c)},e.isAttached(this.canvas)?c():o()}unbindEvents(){$t(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},$t(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const s=n?"set":"remove";let a,o,c,u;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,u=t.length;c<u;++c){o=t[c];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:a,index:o})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[o],index:o}});!Vd(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){const s=this.options.hover,a=(u,h)=>u.filter(f=>!h.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),o=a(e,t),c=n?t:a(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const a=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(a||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:s=[],options:a}=this,o=e,c=this._getActiveElements(t,s,n,o),u=dF(t),h=$B(t,this._lastEvent,n,u);n&&(this._lastEvent=null,te(a.onHover,[t,c,this],this),u&&te(a.onClick,[t,c,this],this));const f=!Vd(c,s);return(f||e)&&(this._active=c,this._updateHoverStyles(c,s,e)),this._lastEvent=h,f}_getActiveElements(t,e,n,s){if(t.type==="mouseout")return[];if(!n)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}};function VS(){return $t(xh.instances,i=>i._plugins.invalidate())}function qB(i,t,e){const{startAngle:n,x:s,y:a,outerRadius:o,innerRadius:c,options:u}=t,{borderWidth:h,borderJoinStyle:f}=u,g=Math.min(h/o,Ti(n-e));if(i.beginPath(),i.arc(s,a,o-h/2,n+g/2,e-g/2),c>0){const m=Math.min(h/c,Ti(n-e));i.arc(s,a,c+h/2,e-m/2,n+m/2,!0)}else{const m=Math.min(h/2,o*Ti(n-e));if(f==="round")i.arc(s,a,m,e-ne/2,n+ne/2,!0);else if(f==="bevel"){const y=2*m*m,w=-y*Math.cos(e+ne/2)+s,x=-y*Math.sin(e+ne/2)+a,S=y*Math.cos(n+ne/2)+s,_=y*Math.sin(n+ne/2)+a;i.lineTo(w,x),i.lineTo(S,_)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function WB(i,t,e){const{startAngle:n,pixelMargin:s,x:a,y:o,outerRadius:c,innerRadius:u}=t;let h=s/c;i.beginPath(),i.arc(a,o,c,n-h,e+h),u>s?(h=s/u,i.arc(a,o,u,e+h,n-h,!0)):i.arc(a,o,s,e+Fe,n-Fe),i.closePath(),i.clip()}function YB(i){return mb(i,["outerStart","outerEnd","innerStart","innerEnd"])}function XB(i,t,e,n){const s=YB(i.options.borderRadius),a=(e-t)/2,o=Math.min(a,n*t/2),c=u=>{const h=(e-Math.min(a,u))*n/2;return _n(u,0,Math.min(a,h))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:_n(s.innerStart,0,o),innerEnd:_n(s.innerEnd,0,o)}}function Gr(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function Qd(i,t,e,n,s,a){const{x:o,y:c,startAngle:u,pixelMargin:h,innerRadius:f}=t,g=Math.max(t.outerRadius+n+e-h,0),m=f>0?f+n+e+h:0;let y=0;const w=s-u;if(n){const rt=f>0?f-n:0,L=g>0?g-n:0,F=(rt+L)/2,V=F!==0?w*F/(F+n):w;y=(w-V)/2}const x=Math.max(.001,w*g-e/ne)/g,S=(w-x)/2,_=u+S+y,T=s-S-y,{outerStart:C,outerEnd:k,innerStart:R,innerEnd:O}=XB(t,m,g,T-_),N=g-C,P=g-k,H=_+C/N,W=T-k/P,K=m+R,et=m+O,lt=_+R/K,at=T-O/et;if(i.beginPath(),a){const rt=(H+W)/2;if(i.arc(o,c,g,H,rt),i.arc(o,c,g,rt,W),k>0){const ut=Gr(P,W,o,c);i.arc(ut.x,ut.y,k,W,T+Fe)}const L=Gr(et,T,o,c);if(i.lineTo(L.x,L.y),O>0){const ut=Gr(et,at,o,c);i.arc(ut.x,ut.y,O,T+Fe,at+Math.PI)}const F=(T-O/m+(_+R/m))/2;if(i.arc(o,c,m,T-O/m,F,!0),i.arc(o,c,m,F,_+R/m,!0),R>0){const ut=Gr(K,lt,o,c);i.arc(ut.x,ut.y,R,lt+Math.PI,_-Fe)}const V=Gr(N,_,o,c);if(i.lineTo(V.x,V.y),C>0){const ut=Gr(N,H,o,c);i.arc(ut.x,ut.y,C,_-Fe,H)}}else{i.moveTo(o,c);const rt=Math.cos(H)*g+o,L=Math.sin(H)*g+c;i.lineTo(rt,L);const F=Math.cos(W)*g+o,V=Math.sin(W)*g+c;i.lineTo(F,V)}i.closePath()}function KB(i,t,e,n,s){const{fullCircles:a,startAngle:o,circumference:c}=t;let u=t.endAngle;if(a){Qd(i,t,e,n,u,s);for(let h=0;h<a;++h)i.fill();isNaN(c)||(u=o+(c%Ne||Ne))}return Qd(i,t,e,n,u,s),i.fill(),u}function QB(i,t,e,n,s){const{fullCircles:a,startAngle:o,circumference:c,options:u}=t,{borderWidth:h,borderJoinStyle:f,borderDash:g,borderDashOffset:m,borderRadius:y}=u,w=u.borderAlign==="inner";if(!h)return;i.setLineDash(g||[]),i.lineDashOffset=m,w?(i.lineWidth=h*2,i.lineJoin=f||"round"):(i.lineWidth=h,i.lineJoin=f||"bevel");let x=t.endAngle;if(a){Qd(i,t,e,n,x,s);for(let S=0;S<a;++S)i.stroke();isNaN(c)||(x=o+(c%Ne||Ne))}w&&WB(i,t,x),u.selfJoin&&x-o>=ne&&y===0&&f!=="miter"&&qB(i,t,x),a||(Qd(i,t,e,n,x,s),i.stroke())}class rC extends ea{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const s=this.getProps(["x","y"],n),{angle:a,distance:o}=NE(s,{x:t,y:e}),{startAngle:c,endAngle:u,innerRadius:h,outerRadius:f,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),m=(this.options.spacing+this.options.borderWidth)/2,y=zt(g,u-c),w=Wd(a,c,u)&&c!==u,x=y>=Ne||w,S=ka(o,h+m,f+m);return x&&S}getCenterPoint(t){const{x:e,y:n,startAngle:s,endAngle:a,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:h}=this.options,f=(s+a)/2,g=(o+c+h+u)/2;return{x:e+Math.cos(f)*g,y:n+Math.sin(f)*g}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,s=(e.offset||0)/4,a=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>Ne?Math.floor(n/Ne):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(ne,n||0)),h=s*u;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,KB(t,this,h,a,o),QB(t,this,h,a,o),t.restore()}}function GS(i,t,e,n){const s=i.options,{[e]:a}=i.getProps([e],n);return Math.abs(t-a)<s.radius+s.hitRadius}class ZB extends ea{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],n);return Math.pow(t-a,2)+Math.pow(e-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return GS(this,t,"x",e)}inYRange(t,e){return GS(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const n=e&&t.borderWidth||0;return(e+n)*2}draw(t,e){const n=this.options;this.skip||n.radius<.1||!fb(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,hm(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function oC(i,t){const{x:e,y:n,base:s,width:a,height:o}=i.getProps(["x","y","base","width","height"],t);let c,u,h,f,g;return i.horizontal?(g=o/2,c=Math.min(e,s),u=Math.max(e,s),h=n-g,f=n+g):(g=a/2,c=e-g,u=e+g,h=Math.min(n,s),f=Math.max(n,s)),{left:c,top:h,right:u,bottom:f}}function Bs(i,t,e,n){return i?0:_n(t,e,n)}function JB(i,t,e){const n=i.options.borderWidth,s=i.borderSkipped,a=HE(n);return{t:Bs(s.top,a.top,0,e),r:Bs(s.right,a.right,0,t),b:Bs(s.bottom,a.bottom,0,e),l:Bs(s.left,a.left,0,t)}}function t3(i,t,e){const{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),s=i.options.borderRadius,a=Jr(s),o=Math.min(t,e),c=i.borderSkipped,u=n||Bt(s);return{topLeft:Bs(!u||c.top||c.left,a.topLeft,0,o),topRight:Bs(!u||c.top||c.right,a.topRight,0,o),bottomLeft:Bs(!u||c.bottom||c.left,a.bottomLeft,0,o),bottomRight:Bs(!u||c.bottom||c.right,a.bottomRight,0,o)}}function e3(i){const t=oC(i),e=t.right-t.left,n=t.bottom-t.top,s=JB(i,e/2,n/2),a=t3(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Mg(i,t,e,n){const s=t===null,a=e===null,c=i&&!(s&&a)&&oC(i,n);return c&&(s||ka(t,c.left,c.right))&&(a||ka(e,c.top,c.bottom))}function n3(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function i3(i,t){i.rect(t.x,t.y,t.w,t.h)}function kg(i,t,e={}){const n=i.x!==e.x?-t:0,s=i.y!==e.y?-t:0,a=(i.x+i.w!==e.x+e.w?t:0)-n,o=(i.y+i.h!==e.y+e.h?t:0)-s;return{x:i.x+n,y:i.y+s,w:i.w+a,h:i.h+o,radius:i.radius}}class lC extends ea{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:s}}=this,{inner:a,outer:o}=e3(this),c=n3(o.radius)?Yd:i3;t.save(),(o.w!==a.w||o.h!==a.h)&&(t.beginPath(),c(t,kg(o,e,a)),t.clip(),c(t,kg(a,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),c(t,kg(a,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,n){return Mg(this,t,e,n)}inXRange(t,e){return Mg(this,t,null,e)}inYRange(t,e){return Mg(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+s)/2:e,y:a?n:(n+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const $S=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},s3=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class qS extends ea{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=te(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,s)=>t.sort(n,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,s=Qe(n.font),a=s.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=$S(n,a);let h,f;e.font=s.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(o,a,c,u)+10):(f=this.maxHeight,h=this._fitCols(o,s,c,u)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,s){const{ctx:a,maxWidth:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],f=s+c;let g=t;a.textAlign="left",a.textBaseline="middle";let m=-1,y=-f;return this.legendItems.forEach((w,x)=>{const S=n+e/2+a.measureText(w.text).width;(x===0||h[h.length-1]+S+2*c>o)&&(g+=f,h[h.length-(x>0?0:1)]=0,y+=f,m++),u[x]={left:0,top:y,row:m,width:S,height:s},h[h.length-1]+=S+c}),g}_fitCols(t,e,n,s){const{ctx:a,maxHeight:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],f=o-t;let g=c,m=0,y=0,w=0,x=0;return this.legendItems.forEach((S,_)=>{const{itemWidth:T,itemHeight:C}=a3(n,e,a,S,s);_>0&&y+C+2*c>f&&(g+=m+c,h.push({width:m,height:y}),w+=m+c,x++,m=y=0),u[_]={left:w,top:y,col:x,width:T,height:C},m=Math.max(m,T),y+=C+c}),g+=m,h.push({width:m,height:y}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:s},rtl:a}}=this,o=to(a,this.left,this.width);if(this.isHorizontal()){let c=0,u=sn(n,this.left+s,this.right-this.lineWidths[c]);for(const h of e)c!==h.row&&(c=h.row,u=sn(n,this.left+s,this.right-this.lineWidths[c])),h.top+=this.top+t+s,h.left=o.leftForLtr(o.x(u),h.width),u+=h.width+s}else{let c=0,u=sn(n,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const h of e)h.col!==c&&(c=h.col,u=sn(n,this.top+t+s,this.bottom-this.columnSizes[c].height)),h.top=u,h.left+=this.left+s,h.left=o.leftForLtr(o.x(h.left),h.width),u+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;pb(t,this),this._draw(),gb(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:s}=this,{align:a,labels:o}=t,c=me.color,u=to(t.rtl,this.left,this.width),h=Qe(o.font),{padding:f}=o,g=h.size,m=g/2;let y;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:w,boxHeight:x,itemHeight:S}=$S(o,g),_=function(O,N,P){if(isNaN(w)||w<=0||isNaN(x)||x<0)return;s.save();const H=zt(P.lineWidth,1);if(s.fillStyle=zt(P.fillStyle,c),s.lineCap=zt(P.lineCap,"butt"),s.lineDashOffset=zt(P.lineDashOffset,0),s.lineJoin=zt(P.lineJoin,"miter"),s.lineWidth=H,s.strokeStyle=zt(P.strokeStyle,c),s.setLineDash(zt(P.lineDash,[])),o.usePointStyle){const W={radius:x*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:H},K=u.xPlus(O,w/2),et=N+m;BE(s,W,K,et,o.pointStyleWidth&&w)}else{const W=N+Math.max((g-x)/2,0),K=u.leftForLtr(O,w),et=Jr(P.borderRadius);s.beginPath(),Object.values(et).some(lt=>lt!==0)?Yd(s,{x:K,y:W,w,h:x,radius:et}):s.rect(K,W,w,x),s.fill(),H!==0&&s.stroke()}s.restore()},T=function(O,N,P){ec(s,P.text,O,N+S/2,h,{strikethrough:P.hidden,textAlign:u.textAlign(P.textAlign)})},C=this.isHorizontal(),k=this._computeTitleHeight();C?y={x:sn(a,this.left+f,this.right-n[0]),y:this.top+f+k,line:0}:y={x:this.left+f,y:sn(a,this.top+k+f,this.bottom-e[0].height),line:0},qE(this.ctx,t.textDirection);const R=S+f;this.legendItems.forEach((O,N)=>{s.strokeStyle=O.fontColor,s.fillStyle=O.fontColor;const P=s.measureText(O.text).width,H=u.textAlign(O.textAlign||(O.textAlign=o.textAlign)),W=w+m+P;let K=y.x,et=y.y;u.setWidth(this.width),C?N>0&&K+W+f>this.right&&(et=y.y+=R,y.line++,K=y.x=sn(a,this.left+f,this.right-n[y.line])):N>0&&et+R>this.bottom&&(K=y.x=K+e[y.line].width+f,y.line++,et=y.y=sn(a,this.top+k+f,this.bottom-e[y.line].height));const lt=u.x(K);if(_(lt,et,O),K=AF(H,K+w+m,C?K+W:this.right,t.rtl),T(u.x(K),et,O),C)y.x+=W+f;else if(typeof O.text!="string"){const at=h.lineHeight;y.y+=cC(O,at)+f}else y.y+=R}),WE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Qe(e.font),s=Bn(e.padding);if(!e.display)return;const a=to(t.rtl,this.left,this.width),o=this.ctx,c=e.position,u=n.size/2,h=s.top+u;let f,g=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),f=this.top+h,g=sn(t.align,g,this.right-m);else{const w=this.columnSizes.reduce((x,S)=>Math.max(x,S.height),0);f=h+sn(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const y=sn(c,g,g+m);o.textAlign=a.textAlign(db(c)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,ec(o,e.text,y,f,n)}_computeTitleHeight(){const t=this.options.title,e=Qe(t.font),n=Bn(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,s,a;if(ka(t,this.left,this.right)&&ka(e,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(s=a[n],ka(t,s.left,s.left+s.width)&&ka(e,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(t){const e=this.options;if(!l3(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=s3(s,n);s&&!a&&te(e.onLeave,[t,s,this],this),this._hoveredItem=n,n&&!a&&te(e.onHover,[t,n,this],this)}else n&&te(e.onClick,[t,n,this],this)}}function a3(i,t,e,n,s){const a=r3(n,i,t,e),o=o3(s,n,t.lineHeight);return{itemWidth:a,itemHeight:o}}function r3(i,t,e,n){let s=i.text;return s&&typeof s!="string"&&(s=s.reduce((a,o)=>a.length>o.length?a:o)),t+e.size/2+n.measureText(s).width}function o3(i,t,e){let n=i;return typeof t.text!="string"&&(n=cC(t,e)),n}function cC(i,t){const e=i.text?i.text.length:0;return t*e}function l3(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var c3={id:"legend",_element:qS,start(i,t,e){const n=i.legend=new qS({ctx:i.ctx,options:e,chart:i});ti.configure(i,n,e),ti.addBox(i,n)},stop(i){ti.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){const n=i.legend;ti.configure(i,n,e),n.options=e},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){const n=t.datasetIndex,s=e.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:s,color:a,useBorderRadius:o,borderRadius:c}}=i.legend.options;return i._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(e?0:void 0),f=Bn(h.borderWidth);return{text:t[u.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:o&&(c||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class uC extends ea{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=De(n.text)?n.text.length:1;this._padding=Bn(n.padding);const a=s*Qe(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:n,bottom:s,right:a,options:o}=this,c=o.align;let u=0,h,f,g;return this.isHorizontal()?(f=sn(c,n,a),g=e+t,h=a-n):(o.position==="left"?(f=n+t,g=sn(c,s,e),u=ne*-.5):(f=a-t,g=sn(c,e,s),u=ne*.5),h=s-e),{titleX:f,titleY:g,maxWidth:h,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Qe(e.font),a=n.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:u,rotation:h}=this._drawArgs(a);ec(t,e.text,0,0,n,{color:e.color,maxWidth:u,rotation:h,textAlign:db(e.align),textBaseline:"middle",translation:[o,c]})}}function u3(i,t){const e=new uC({ctx:i.ctx,options:t,chart:i});ti.configure(i,e,t),ti.addBox(i,e),i.titleBlock=e}var d3={id:"title",_element:uC,start(i,t,e){u3(i,e)},stop(i){const t=i.titleBlock;ti.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){const n=i.titleBlock;ti.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jl={average(i){if(!i.length)return!1;let t,e,n=new Set,s=0,a=0;for(t=0,e=i.length;t<e;++t){const c=i[t].element;if(c&&c.hasValue()){const u=c.tooltipPosition();n.add(u.x),s+=u.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((c,u)=>c+u)/n.size,y:s/a}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,s=Number.POSITIVE_INFINITY,a,o,c;for(a=0,o=i.length;a<o;++a){const u=i[a].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),f=yF(t,h);f<s&&(s=f,c=u)}}if(c){const u=c.tooltipPosition();e=u.x,n=u.y}return{x:e,y:n}}};function Ai(i,t){return t&&(De(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function ns(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function h3(i,t){const{element:e,datasetIndex:n,index:s}=t,a=i.getDatasetMeta(n).controller,{label:o,value:c}=a.getLabelAndValue(s);return{chart:i,label:o,parsed:a.getParsed(s),raw:i.data.datasets[n].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:n,element:e}}function WS(i,t){const e=i.chart.ctx,{body:n,footer:s,title:a}=i,{boxWidth:o,boxHeight:c}=t,u=Qe(t.bodyFont),h=Qe(t.titleFont),f=Qe(t.footerFont),g=a.length,m=s.length,y=n.length,w=Bn(t.padding);let x=w.height,S=0,_=n.reduce((k,R)=>k+R.before.length+R.lines.length+R.after.length,0);if(_+=i.beforeBody.length+i.afterBody.length,g&&(x+=g*h.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),_){const k=t.displayColors?Math.max(c,u.lineHeight):u.lineHeight;x+=y*k+(_-y)*u.lineHeight+(_-1)*t.bodySpacing}m&&(x+=t.footerMarginTop+m*f.lineHeight+(m-1)*t.footerSpacing);let T=0;const C=function(k){S=Math.max(S,e.measureText(k).width+T)};return e.save(),e.font=h.string,$t(i.title,C),e.font=u.string,$t(i.beforeBody.concat(i.afterBody),C),T=t.displayColors?o+2+t.boxPadding:0,$t(n,k=>{$t(k.before,C),$t(k.lines,C),$t(k.after,C)}),T=0,e.font=f.string,$t(i.footer,C),e.restore(),S+=w.width,{width:S,height:x}}function f3(i,t){const{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function p3(i,t,e,n){const{x:s,width:a}=n,o=e.caretSize+e.caretPadding;if(i==="left"&&s+a+o>t.width||i==="right"&&s-a-o<0)return!0}function g3(i,t,e,n){const{x:s,width:a}=e,{width:o,chartArea:{left:c,right:u}}=i;let h="center";return n==="center"?h=s<=(c+u)/2?"left":"right":s<=a/2?h="left":s>=o-a/2&&(h="right"),p3(h,i,t,e)&&(h="center"),h}function YS(i,t,e){const n=e.yAlign||t.yAlign||f3(i,e);return{xAlign:e.xAlign||t.xAlign||g3(i,t,e,n),yAlign:n}}function m3(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function b3(i,t,e){let{y:n,height:s}=i;return t==="top"?n+=e:t==="bottom"?n-=s+e:n-=s/2,n}function XS(i,t,e,n){const{caretSize:s,caretPadding:a,cornerRadius:o}=i,{xAlign:c,yAlign:u}=e,h=s+a,{topLeft:f,topRight:g,bottomLeft:m,bottomRight:y}=Jr(o);let w=m3(t,c);const x=b3(t,u,h);return u==="center"?c==="left"?w+=h:c==="right"&&(w-=h):c==="left"?w-=Math.max(f,m)+s:c==="right"&&(w+=Math.max(g,y)+s),{x:_n(w,0,n.width-t.width),y:_n(x,0,n.height-t.height)}}function od(i,t,e){const n=Bn(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function KS(i){return Ai([],ns(i))}function y3(i,t,e){return vo(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function QS(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}const dC={beforeTitle:ts,title(i){if(i.length>0){const t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:ts,beforeBody:ts,beforeLabel:ts,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const e=i.formattedValue;return Vt(e)||(t+=e),t},labelColor(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ts,afterBody:ts,beforeFooter:ts,footer:ts,afterFooter:ts};function yn(i,t,e,n){const s=i[t].call(e,n);return typeof s>"u"?dC[t].call(e,n):s}class ZS extends ea{static positioners=jl;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&e.options.animation&&n.animations,a=new YE(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=y3(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,s=yn(n,"beforeTitle",this,t),a=yn(n,"title",this,t),o=yn(n,"afterTitle",this,t);let c=[];return c=Ai(c,ns(s)),c=Ai(c,ns(a)),c=Ai(c,ns(o)),c}getBeforeBody(t,e){return KS(yn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,s=[];return $t(t,a=>{const o={before:[],lines:[],after:[]},c=QS(n,a);Ai(o.before,ns(yn(c,"beforeLabel",this,a))),Ai(o.lines,yn(c,"label",this,a)),Ai(o.after,ns(yn(c,"afterLabel",this,a))),s.push(o)}),s}getAfterBody(t,e){return KS(yn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,s=yn(n,"beforeFooter",this,t),a=yn(n,"footer",this,t),o=yn(n,"afterFooter",this,t);let c=[];return c=Ai(c,ns(s)),c=Ai(c,ns(a)),c=Ai(c,ns(o)),c}_createItems(t){const e=this._active,n=this.chart.data,s=[],a=[],o=[];let c=[],u,h;for(u=0,h=e.length;u<h;++u)c.push(h3(this.chart,e[u]));return t.filter&&(c=c.filter((f,g,m)=>t.filter(f,g,m,n))),t.itemSort&&(c=c.sort((f,g)=>t.itemSort(f,g,n))),$t(c,f=>{const g=QS(t.callbacks,f);s.push(yn(g,"labelColor",this,f)),a.push(yn(g,"labelPointStyle",this,f)),o.push(yn(g,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=c,c}update(t,e){const n=this.options.setContext(this.getContext()),s=this._active;let a,o=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=jl[n.position].call(this,s,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const u=this._size=WS(this,n),h=Object.assign({},c,u),f=YS(this.chart,n,h),g=XS(n,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,a={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,s){const a=this.getCaretPosition(t,n,s);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,n){const{xAlign:s,yAlign:a}=this,{caretSize:o,cornerRadius:c}=n,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:g}=Jr(c),{x:m,y}=t,{width:w,height:x}=e;let S,_,T,C,k,R;return a==="center"?(k=y+x/2,s==="left"?(S=m,_=S-o,C=k+o,R=k-o):(S=m+w,_=S+o,C=k-o,R=k+o),T=S):(s==="left"?_=m+Math.max(u,f)+o:s==="right"?_=m+w-Math.max(h,g)-o:_=this.caretX,a==="top"?(C=y,k=C-o,S=_-o,T=_+o):(C=y+x,k=C+o,S=_+o,T=_-o),R=C),{x1:S,x2:_,x3:T,y1:C,y2:k,y3:R}}drawTitle(t,e,n){const s=this.title,a=s.length;let o,c,u;if(a){const h=to(n.rtl,this.x,this.width);for(t.x=od(this,n.titleAlign,n),e.textAlign=h.textAlign(n.titleAlign),e.textBaseline="middle",o=Qe(n.titleFont),c=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,u=0;u<a;++u)e.fillText(s[u],h.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+c,u+1===a&&(t.y+=n.titleMarginBottom-c)}}_drawColorBox(t,e,n,s,a){const o=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:u,boxWidth:h}=a,f=Qe(a.bodyFont),g=od(this,"left",a),m=s.x(g),y=u<f.lineHeight?(f.lineHeight-u)/2:0,w=e.y+y;if(a.usePointStyle){const x={radius:Math.min(h,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=s.leftForLtr(m,h)+h/2,_=w+u/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,hm(t,x,S,_),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,hm(t,x,S,_)}else{t.lineWidth=Bt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const x=s.leftForLtr(m,h),S=s.leftForLtr(s.xPlus(m,1),h-2),_=Jr(o.borderRadius);Object.values(_).some(T=>T!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Yd(t,{x,y:w,w:h,h:u,radius:_}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Yd(t,{x:S,y:w+1,w:h-2,h:u-2,radius:_}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(x,w,h,u),t.strokeRect(x,w,h,u),t.fillStyle=o.backgroundColor,t.fillRect(S,w+1,h-2,u-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:s}=this,{bodySpacing:a,bodyAlign:o,displayColors:c,boxHeight:u,boxWidth:h,boxPadding:f}=n,g=Qe(n.bodyFont);let m=g.lineHeight,y=0;const w=to(n.rtl,this.x,this.width),x=function(P){e.fillText(P,w.x(t.x+y),t.y+m/2),t.y+=m+a},S=w.textAlign(o);let _,T,C,k,R,O,N;for(e.textAlign=o,e.textBaseline="middle",e.font=g.string,t.x=od(this,S,n),e.fillStyle=n.bodyColor,$t(this.beforeBody,x),y=c&&S!=="right"?o==="center"?h/2+f:h+2+f:0,k=0,O=s.length;k<O;++k){for(_=s[k],T=this.labelTextColors[k],e.fillStyle=T,$t(_.before,x),C=_.lines,c&&C.length&&(this._drawColorBox(e,t,k,w,n),m=Math.max(g.lineHeight,u)),R=0,N=C.length;R<N;++R)x(C[R]),m=g.lineHeight;$t(_.after,x)}y=0,m=g.lineHeight,$t(this.afterBody,x),t.y-=a}drawFooter(t,e,n){const s=this.footer,a=s.length;let o,c;if(a){const u=to(n.rtl,this.x,this.width);for(t.x=od(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=u.textAlign(n.footerAlign),e.textBaseline="middle",o=Qe(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,c=0;c<a;++c)e.fillText(s[c],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,s){const{xAlign:a,yAlign:o}=this,{x:c,y:u}=t,{width:h,height:f}=n,{topLeft:g,topRight:m,bottomLeft:y,bottomRight:w}=Jr(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(c+g,u),o==="top"&&this.drawCaret(t,e,n,s),e.lineTo(c+h-m,u),e.quadraticCurveTo(c+h,u,c+h,u+m),o==="center"&&a==="right"&&this.drawCaret(t,e,n,s),e.lineTo(c+h,u+f-w),e.quadraticCurveTo(c+h,u+f,c+h-w,u+f),o==="bottom"&&this.drawCaret(t,e,n,s),e.lineTo(c+y,u+f),e.quadraticCurveTo(c,u+f,c,u+f-y),o==="center"&&a==="left"&&this.drawCaret(t,e,n,s),e.lineTo(c,u+g),e.quadraticCurveTo(c,u,c+g,u),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,s=n&&n.x,a=n&&n.y;if(s||a){const o=jl[t.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=WS(this,t),u=Object.assign({},o,this._size),h=YS(e,t,u),f=XS(t,u,h,e);(s._to!==f.x||a._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Bn(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=n,this.drawBackground(a,t,s,e),qE(t,e.textDirection),a.y+=o.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),WE(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,s=t.map(({datasetIndex:c,index:u})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[u],index:u}}),a=!Vd(n,s),o=this._positionChanged(s,e);(a||o)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],o=this._getActiveElements(t,a,e,n),c=this._positionChanged(o,t),u=e||!Vd(o,a)||c;return u&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),u}_getActiveElements(t,e,n,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,a.mode,a,n);return a.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:s,options:a}=this,o=jl[a.position].call(this,t,e);return o!==!1&&(n!==o.x||s!==o.y)}}var v3={id:"tooltip",_element:ZS,positioners:jl,afterInit(i,t,e){e&&(i.tooltip=new ZS({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){const e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const x3=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function w3(i,t,e,n){const s=i.indexOf(t);if(s===-1)return x3(i,t,e,n);const a=i.lastIndexOf(t);return s!==a?e:s}const S3=(i,t)=>i===null?null:_n(Math.round(i),0,t);function JS(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class _3 extends xo{static id="category";static defaults={ticks:{callback:JS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:s,label:a}of e)n[s]===a&&n.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Vt(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:w3(n,t,zt(e,t),this._addedLabels),S3(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),e||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,s=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)s.push({value:o});return s}getLabelForValue(t){return JS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function A3(i,t){const e=[],{bounds:s,step:a,min:o,max:c,precision:u,count:h,maxTicks:f,maxDigits:g,includeBounds:m}=i,y=a||1,w=f-1,{min:x,max:S}=t,_=!Vt(o),T=!Vt(c),C=!Vt(h),k=(S-x)/(g+1);let R=iS((S-x)/w/y)*y,O,N,P,H;if(R<1e-14&&!_&&!T)return[{value:x},{value:S}];H=Math.ceil(S/R)-Math.floor(x/R),H>w&&(R=iS(H*R/w/y)*y),Vt(u)||(O=Math.pow(10,u),R=Math.ceil(R*O)/O),s==="ticks"?(N=Math.floor(x/R)*R,P=Math.ceil(S/R)*R):(N=x,P=S),_&&T&&a&&gF((c-o)/a,R/1e3)?(H=Math.round(Math.min((c-o)/R,f)),R=(c-o)/H,N=o,P=c):C?(N=_?o:N,P=T?c:P,H=h-1,R=(P-N)/H):(H=(P-N)/R,Rd(H,Math.round(H),R/1e3)?H=Math.round(H):H=Math.ceil(H));const W=Math.max(sS(R),sS(N));O=Math.pow(10,Vt(u)?W:u),N=Math.round(N*O)/O,P=Math.round(P*O)/O;let K=0;for(_&&(m&&N!==o?(e.push({value:o}),N<o&&K++,Rd(Math.round((N+K*R)*O)/O,o,t_(o,k,i))&&K++):N<o&&K++);K<H;++K){const et=Math.round((N+K*R)*O)/O;if(T&&et>c)break;e.push({value:et})}return T&&m&&P!==c?e.length&&Rd(e[e.length-1].value,c,t_(c,k,i))?e[e.length-1].value=c:e.push({value:c}):(!T||P===c)&&e.push({value:P}),e}function t_(i,t,{horizontal:e,minRotation:n}){const s=rs(n),a=(e?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+i).length;return Math.min(t/a,o)}class E3 extends xo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Vt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this;const o=u=>s=e?s:u,c=u=>a=n?a:u;if(t){const u=Vs(s),h=Vs(a);u<0&&h<0?c(0):u>0&&h>0&&o(0)}if(s===a){let u=a===0?1:Math.abs(a*.05);c(a+u),t||o(s-u)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:n}=t,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,o=A3(s,a);return t.bounds==="ticks"&&mF(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const s=(n-e)/Math.max(t.length-1,1)/2;e-=s,n+=s}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return hb(t,this.chart.options.locale,this.options.ticks.format)}}class C3 extends E3{static id="linear";static defaults={ticks:{callback:zE.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ni(t)?t:0,this.max=ni(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=rs(this.options.ticks.minRotation),s=(t?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const wh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Sn=Object.keys(wh);function e_(i,t){return i-t}function n_(i,t){if(Vt(t))return null;const e=i._adapter,{parser:n,round:s,isoWeekday:a}=i._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),ni(o)||(o=typeof n=="string"?e.parse(o,n):e.parse(o)),o===null?null:(s&&(o=s==="week"&&(qd(a)||a===!0)?e.startOf(o,"isoWeek",a):e.startOf(o,s)),+o)}function i_(i,t,e,n){const s=Sn.length;for(let a=Sn.indexOf(i);a<s-1;++a){const o=wh[Sn[a]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(c*o.size))<=n)return Sn[a]}return Sn[s-1]}function T3(i,t,e,n,s){for(let a=Sn.length-1;a>=Sn.indexOf(e);a--){const o=Sn[a];if(wh[o].common&&i._adapter.diff(s,n,o)>=t-1)return o}return Sn[e?Sn.indexOf(e):0]}function R3(i){for(let t=Sn.indexOf(i)+1,e=Sn.length;t<e;++t)if(wh[Sn[t]].common)return Sn[t]}function s_(i,t,e){if(!e)i[t]=!0;else if(e.length){const{lo:n,hi:s}=ub(e,t),a=e[n]>=t?e[n]:e[s];i[a]=!0}}function M3(i,t,e,n){const s=i._adapter,a=+s.startOf(t[0].value,n),o=t[t.length-1].value;let c,u;for(c=a;c<=o;c=+s.add(c,1,n))u=e[c],u>=0&&(t[u].major=!0);return t}function a_(i,t,e){const n=[],s={},a=t.length;let o,c;for(o=0;o<a;++o)c=t[o],s[c]=o,n.push({value:c,major:!1});return a===0||!e?n:M3(i,n,s,e)}class r_ extends xo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),s=this._adapter=new jz._date(t.adapters.date);s.init(e),Vl(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:n_(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:s,max:a,minDefined:o,maxDefined:c}=this.getUserBounds();function u(h){!o&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!c&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!o||!c)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=ni(s)&&!isNaN(s)?s:+e.startOf(Date.now(),n),a=ni(a)&&!isNaN(a)?a:+e.endOf(Date.now(),n)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,o=this.max,c=wF(s,a,o);return this._unit=e.unit||(n.autoSkip?i_(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):T3(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:R3(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),a_(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?n=a:n=(a-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=_n(e,0,o),n=_n(n,0,o),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,s=this.options,a=s.time,o=a.unit||i_(a.minUnit,e,n,this._getLabelCapacity(e)),c=zt(s.ticks.stepSize,1),u=o==="week"?a.isoWeekday:!1,h=qd(u)||u===!0,f={};let g=e,m,y;if(h&&(g=+t.startOf(g,"isoWeek",u)),g=+t.startOf(g,h?"day":o),t.diff(n,e,o)>1e5*c)throw new Error(e+" and "+n+" are too far apart with stepSize of "+c+" "+o);const w=s.ticks.source==="data"&&this.getDataTimestamps();for(m=g,y=0;m<n;m=+t.add(m,c,o),y++)s_(f,m,w);return(m===n||s.bounds==="ticks"||y===1)&&s_(f,m,w),Object.keys(f).sort(e_).map(x=>+x)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,a=this._unit,o=e||s[a];return this._adapter.format(t,o)}_tickFormatFunction(t,e,n,s){const a=this.options,o=a.ticks.callback;if(o)return te(o,[t,e,n],this);const c=a.time.displayFormats,u=this._unit,h=this._majorUnit,f=u&&c[u],g=h&&c[h],m=n[e],y=h&&g&&m&&m.major;return this._adapter.format(t,s||(y?g:f))}generateTickLabels(t){let e,n,s;for(e=0,n=t.length;e<n;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,s=rs(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(s),o=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:n*a+c*o,h:n*o+c*a}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,s=n[e.unit]||n.millisecond,a=this._tickFormatFunction(t,0,a_(this,[t],this._majorUnit),s),o=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,n=s.length;e<n;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const s=this.getLabels();for(e=0,n=s.length;e<n;++e)t.push(n_(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return PE(t.sort(e_))}}function ld(i,t,e){let n=0,s=i.length-1,a,o,c,u;e?(t>=i[n].pos&&t<=i[s].pos&&({lo:n,hi:s}=um(i,"pos",t)),{pos:a,time:c}=i[n],{pos:o,time:u}=i[s]):(t>=i[n].time&&t<=i[s].time&&({lo:n,hi:s}=um(i,"time",t)),{time:a,pos:c}=i[n],{time:o,pos:u}=i[s]);const h=o-a;return h?c+(u-c)*(t-a)/h:c}class O5 extends r_{static id="timeseries";static defaults=r_.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ld(e,this.min),this._tableRange=ld(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,s=[],a=[];let o,c,u,h,f;for(o=0,c=t.length;o<c;++o)h=t[o],h>=e&&h<=n&&s.push(h);if(s.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,c=s.length;o<c;++o)f=s[o+1],u=s[o-1],h=s[o],Math.round((f+u)/2)!==h&&a.push({time:h,pos:o/(c-1)});return a}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(ld(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return ld(this._table,n*this._tableRange+this._minPos,!0)}}const hC="label";function o_(i,t){typeof i=="function"?i(t):i&&(i.current=t)}function k3(i,t){const e=i.options;e&&t&&Object.assign(e,t)}function fC(i,t){i.labels=t}function pC(i,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hC;const n=[];i.datasets=t.map(s=>{const a=i.datasets.find(o=>o[e]===s[e]);return!a||!s.data||n.includes(a)?{...s}:(n.push(a),Object.assign(a,s),a)})}function D3(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hC;const e={labels:[],datasets:[]};return fC(e,i.labels),pC(e,i.datasets,t),e}function O3(i,t){const{height:e=150,width:n=300,redraw:s=!1,datasetIdKey:a,type:o,data:c,options:u,plugins:h=[],fallbackContent:f,updateMode:g,...m}=i,y=M.useRef(null),w=M.useRef(null),x=()=>{y.current&&(w.current=new xh(y.current,{type:o,data:D3(c,a),options:u&&{...u},plugins:h}),o_(t,w.current))},S=()=>{o_(t,null),w.current&&(w.current.destroy(),w.current=null)};return M.useEffect(()=>{!s&&w.current&&u&&k3(w.current,u)},[s,u]),M.useEffect(()=>{!s&&w.current&&fC(w.current.config.data,c.labels)},[s,c.labels]),M.useEffect(()=>{!s&&w.current&&c.datasets&&pC(w.current.config.data,c.datasets,a)},[s,c.datasets]),M.useEffect(()=>{w.current&&(s?(S(),setTimeout(x)):w.current.update(g))},[s,u,c.labels,c.datasets,g]),M.useEffect(()=>{w.current&&(S(),setTimeout(x))},[o]),M.useEffect(()=>(x(),()=>S()),[]),Jn.createElement("canvas",{ref:y,role:"img",height:e,width:n,...m},f)}const N3=M.forwardRef(O3);function gC(i,t){return xh.register(t),M.forwardRef((e,n)=>Jn.createElement(N3,{...e,ref:n,type:i}))}const L3=gC("bar",Nz),P3=gC("pie",Iz);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var l_=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var i=window.screen;if(i)return(i.deviceXDPI||1)/(i.logicalXDPI||1)}return 1}(),ql={toTextLines:function(i){var t=[],e;for(i=[].concat(i);i.length;)e=i.pop(),typeof e=="string"?t.unshift.apply(t,e.split(`
`)):Array.isArray(e)?i.push.apply(i,e):Vt(i)||t.unshift(""+e);return t},textSize:function(i,t,e){var n=[].concat(t),s=n.length,a=i.font,o=0,c;for(i.font=e.string,c=0;c<s;++c)o=Math.max(i.measureText(n[c]).width,o);return i.font=a,{height:s*e.lineHeight,width:o}},bound:function(i,t,e){return Math.max(i,Math.min(t,e))},arrayDiff:function(i,t){var e=i.slice(),n=[],s,a,o,c;for(s=0,o=t.length;s<o;++s)c=t[s],a=e.indexOf(c),a===-1?n.push([c,1]):e.splice(a,1);for(s=0,o=e.length;s<o;++s)n.push([e[s],-1]);return n},rasterize:function(i){return Math.round(i*l_)/l_}};function Dg(i,t){var e=t.x,n=t.y;if(e===null)return{x:0,y:-1};if(n===null)return{x:1,y:0};var s=i.x-e,a=i.y-n,o=Math.sqrt(s*s+a*a);return{x:o?s/o:0,y:o?a/o:-1}}function I3(i,t,e,n,s){switch(s){case"center":e=n=0;break;case"bottom":e=0,n=1;break;case"right":e=1,n=0;break;case"left":e=-1,n=0;break;case"top":e=0,n=-1;break;case"start":e=-e,n=-n;break;case"end":break;default:s*=Math.PI/180,e=Math.cos(s),n=Math.sin(s);break}return{x:i,y:t,vx:e,vy:n}}var j3=0,mC=1,bC=2,yC=4,vC=8;function cd(i,t,e){var n=j3;return i<e.left?n|=mC:i>e.right&&(n|=bC),t<e.top?n|=vC:t>e.bottom&&(n|=yC),n}function F3(i,t){for(var e=i.x0,n=i.y0,s=i.x1,a=i.y1,o=cd(e,n,t),c=cd(s,a,t),u,h,f;!(!(o|c)||o&c);)u=o||c,u&vC?(h=e+(s-e)*(t.top-n)/(a-n),f=t.top):u&yC?(h=e+(s-e)*(t.bottom-n)/(a-n),f=t.bottom):u&bC?(f=n+(a-n)*(t.right-e)/(s-e),h=t.right):u&mC&&(f=n+(a-n)*(t.left-e)/(s-e),h=t.left),u===o?(e=h,n=f,o=cd(e,n,t)):(s=h,a=f,c=cd(s,a,t));return{x0:e,x1:s,y0:n,y1:a}}function ud(i,t){var e=t.anchor,n=i,s,a;return t.clamp&&(n=F3(n,t.area)),e==="start"?(s=n.x0,a=n.y0):e==="end"?(s=n.x1,a=n.y1):(s=(n.x0+n.x1)/2,a=(n.y0+n.y1)/2),I3(s,a,i.vx,i.vy,t.align)}var dd={arc:function(i,t){var e=(i.startAngle+i.endAngle)/2,n=Math.cos(e),s=Math.sin(e),a=i.innerRadius,o=i.outerRadius;return ud({x0:i.x+n*a,y0:i.y+s*a,x1:i.x+n*o,y1:i.y+s*o,vx:n,vy:s},t)},point:function(i,t){var e=Dg(i,t.origin),n=e.x*i.options.radius,s=e.y*i.options.radius;return ud({x0:i.x-n,y0:i.y-s,x1:i.x+n,y1:i.y+s,vx:e.x,vy:e.y},t)},bar:function(i,t){var e=Dg(i,t.origin),n=i.x,s=i.y,a=0,o=0;return i.horizontal?(n=Math.min(i.x,i.base),a=Math.abs(i.base-i.x)):(s=Math.min(i.y,i.base),o=Math.abs(i.base-i.y)),ud({x0:n,y0:s+o,x1:n+a,y1:s,vx:e.x,vy:e.y},t)},fallback:function(i,t){var e=Dg(i,t.origin);return ud({x0:i.x,y0:i.y,x1:i.x+(i.width||0),y1:i.y+(i.height||0),vx:e.x,vy:e.y},t)}},os=ql.rasterize;function z3(i){var t=i.borderWidth||0,e=i.padding,n=i.size.height,s=i.size.width,a=-s/2,o=-n/2;return{frame:{x:a-e.left-t,y:o-e.top-t,w:s+e.width+t*2,h:n+e.height+t*2},text:{x:a,y:o,w:s,h:n}}}function B3(i,t){var e=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!e)return null;if(e.xCenter!==void 0&&e.yCenter!==void 0)return{x:e.xCenter,y:e.yCenter};var n=e.getBasePixel();return i.horizontal?{x:n,y:null}:{x:null,y:n}}function H3(i){return i instanceof rC?dd.arc:i instanceof ZB?dd.point:i instanceof lC?dd.bar:dd.fallback}function U3(i,t,e,n,s,a){var o=Math.PI/2;if(a){var c=Math.min(a,s/2,n/2),u=t+c,h=e+c,f=t+n-c,g=e+s-c;i.moveTo(t,h),u<f&&h<g?(i.arc(u,h,c,-Math.PI,-o),i.arc(f,h,c,-o,0),i.arc(f,g,c,0,o),i.arc(u,g,c,o,Math.PI)):u<f?(i.moveTo(u,e),i.arc(f,h,c,-o,o),i.arc(u,h,c,o,Math.PI+o)):h<g?(i.arc(u,h,c,-Math.PI,0),i.arc(u,g,c,0,Math.PI)):i.arc(u,h,c,-Math.PI,Math.PI),i.closePath(),i.moveTo(t,e)}else i.rect(t,e,n,s)}function V3(i,t,e){var n=e.backgroundColor,s=e.borderColor,a=e.borderWidth;!n&&(!s||!a)||(i.beginPath(),U3(i,os(t.x)+a/2,os(t.y)+a/2,os(t.w)-a,os(t.h)-a,e.borderRadius),i.closePath(),n&&(i.fillStyle=n,i.fill()),s&&a&&(i.strokeStyle=s,i.lineWidth=a,i.lineJoin="miter",i.stroke()))}function G3(i,t,e){var n=e.lineHeight,s=i.w,a=i.x,o=i.y+n/2;return t==="center"?a+=s/2:(t==="end"||t==="right")&&(a+=s),{h:n,w:s,x:a,y:o}}function $3(i,t,e){var n=i.shadowBlur,s=e.stroked,a=os(e.x),o=os(e.y),c=os(e.w);s&&i.strokeText(t,a,o,c),e.filled&&(n&&s&&(i.shadowBlur=0),i.fillText(t,a,o,c),n&&s&&(i.shadowBlur=n))}function q3(i,t,e,n){var s=n.textAlign,a=n.color,o=!!a,c=n.font,u=t.length,h=n.textStrokeColor,f=n.textStrokeWidth,g=h&&f,m;if(!(!u||!o&&!g))for(e=G3(e,s,c),i.font=c.string,i.textAlign=s,i.textBaseline="middle",i.shadowBlur=n.textShadowBlur,i.shadowColor=n.textShadowColor,o&&(i.fillStyle=a),g&&(i.lineJoin="round",i.lineWidth=f,i.strokeStyle=h),m=0,u=t.length;m<u;++m)$3(i,t[m],{stroked:g,filled:o,w:e.w,x:e.x,y:e.y+e.h*m})}var xC=function(i,t,e,n){var s=this;s._config=i,s._index=n,s._model=null,s._rects=null,s._ctx=t,s._el=e};Pi(xC.prototype,{_modelize:function(i,t,e,n){var s=this,a=s._index,o=Qe(ce([e.font,{}],n,a)),c=ce([e.color,me.color],n,a);return{align:ce([e.align,"center"],n,a),anchor:ce([e.anchor,"center"],n,a),area:n.chart.chartArea,backgroundColor:ce([e.backgroundColor,null],n,a),borderColor:ce([e.borderColor,null],n,a),borderRadius:ce([e.borderRadius,0],n,a),borderWidth:ce([e.borderWidth,0],n,a),clamp:ce([e.clamp,!1],n,a),clip:ce([e.clip,!1],n,a),color:c,display:i,font:o,lines:t,offset:ce([e.offset,4],n,a),opacity:ce([e.opacity,1],n,a),origin:B3(s._el,n),padding:Bn(ce([e.padding,4],n,a)),positioner:H3(s._el),rotation:ce([e.rotation,0],n,a)*(Math.PI/180),size:ql.textSize(s._ctx,t,o),textAlign:ce([e.textAlign,"start"],n,a),textShadowBlur:ce([e.textShadowBlur,0],n,a),textShadowColor:ce([e.textShadowColor,c],n,a),textStrokeColor:ce([e.textStrokeColor,c],n,a),textStrokeWidth:ce([e.textStrokeWidth,0],n,a)}},update:function(i){var t=this,e=null,n=null,s=t._index,a=t._config,o,c,u,h=ce([a.display,!0],i,s);h&&(o=i.dataset.data[s],c=zt(te(a.formatter,[o,i]),o),u=Vt(c)?[]:ql.toTextLines(c),u.length&&(e=t._modelize(h,u,a,i),n=z3(e))),t._model=e,t._rects=n},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(i,t){var e=this,n=i.ctx,s=e._model,a=e._rects,o;this.visible()&&(n.save(),s.clip&&(o=s.area,n.beginPath(),n.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),n.clip()),n.globalAlpha=ql.bound(0,s.opacity,1),n.translate(os(t.x),os(t.y)),n.rotate(s.rotation),V3(n,a.frame,s),q3(n,s.lines,a.text,s),n.restore())}});var W3=Number.MIN_SAFE_INTEGER||-9007199254740991,Y3=Number.MAX_SAFE_INTEGER||9007199254740991;function Ml(i,t,e){var n=Math.cos(e),s=Math.sin(e),a=t.x,o=t.y;return{x:a+n*(i.x-a)-s*(i.y-o),y:o+s*(i.x-a)+n*(i.y-o)}}function c_(i,t){var e=Y3,n=W3,s=t.origin,a,o,c,u,h;for(a=0;a<i.length;++a)o=i[a],c=o.x-s.x,u=o.y-s.y,h=t.vx*c+t.vy*u,e=Math.min(e,h),n=Math.max(n,h);return{min:e,max:n}}function hd(i,t){var e=t.x-i.x,n=t.y-i.y,s=Math.sqrt(e*e+n*n);return{vx:(t.x-i.x)/s,vy:(t.y-i.y)/s,origin:i,ln:s}}var wC=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Pi(wC.prototype,{center:function(){var i=this._rect;return{x:i.x+i.w/2,y:i.y+i.h/2}},update:function(i,t,e){this._rotation=e,this._rect={x:t.x+i.x,y:t.y+i.y,w:t.w,h:t.h}},contains:function(i){var t=this,e=1,n=t._rect;return i=Ml(i,t.center(),-t._rotation),!(i.x<n.x-e||i.y<n.y-e||i.x>n.x+n.w+e*2||i.y>n.y+n.h+e*2)},intersects:function(i){var t=this._points(),e=i._points(),n=[hd(t[0],t[1]),hd(t[0],t[3])],s,a,o;for(this._rotation!==i._rotation&&n.push(hd(e[0],e[1]),hd(e[0],e[3])),s=0;s<n.length;++s)if(a=c_(t,n[s]),o=c_(e,n[s]),a.max<o.min||o.max<a.min)return!1;return!0},_points:function(){var i=this,t=i._rect,e=i._rotation,n=i.center();return[Ml({x:t.x,y:t.y},n,e),Ml({x:t.x+t.w,y:t.y},n,e),Ml({x:t.x+t.w,y:t.y+t.h},n,e),Ml({x:t.x,y:t.y+t.h},n,e)]}});function SC(i,t,e){var n=t.positioner(i,t),s=n.vx,a=n.vy;if(!s&&!a)return{x:n.x,y:n.y};var o=e.w,c=e.h,u=t.rotation,h=Math.abs(o/2*Math.cos(u))+Math.abs(c/2*Math.sin(u)),f=Math.abs(o/2*Math.sin(u))+Math.abs(c/2*Math.cos(u)),g=1/Math.max(Math.abs(s),Math.abs(a));return h*=s*g,f*=a*g,h+=t.offset*s,f+=t.offset*a,{x:n.x+h,y:n.y+f}}function X3(i,t){var e,n,s,a;for(e=i.length-1;e>=0;--e)for(s=i[e].$layout,n=e-1;n>=0&&s._visible;--n)a=i[n].$layout,a._visible&&s._box.intersects(a._box)&&t(s,a);return i}function K3(i){var t,e,n,s,a,o,c;for(t=0,e=i.length;t<e;++t)n=i[t],s=n.$layout,s._visible&&(c=new Proxy(n._el,{get:(u,h)=>u.getProps([h],!0)[h]}),a=n.geometry(),o=SC(c,n.model(),a),s._box.update(o,a,n.rotation()));return X3(i,function(u,h){var f=u._hidable,g=h._hidable;f&&g||g?h._visible=!1:f&&(u._visible=!1)})}var Wl={prepare:function(i){var t=[],e,n,s,a,o;for(e=0,s=i.length;e<s;++e)for(n=0,a=i[e].length;n<a;++n)o=i[e][n],t.push(o),o.$layout={_box:new wC,_hidable:!1,_visible:!0,_set:e,_idx:o._index};return t.sort(function(c,u){var h=c.$layout,f=u.$layout;return h._idx===f._idx?f._set-h._set:f._idx-h._idx}),this.update(t),t},update:function(i){var t=!1,e,n,s,a,o;for(e=0,n=i.length;e<n;++e)s=i[e],a=s.model(),o=s.$layout,o._hidable=a&&a.display==="auto",o._visible=s.visible(),t|=o._hidable;t&&K3(i)},lookup:function(i,t){var e,n;for(e=i.length-1;e>=0;--e)if(n=i[e].$layout,n&&n._visible&&n._box.contains(t))return i[e];return null},draw:function(i,t){var e,n,s,a,o,c;for(e=0,n=t.length;e<n;++e)s=t[e],a=s.$layout,a._visible&&(o=s.geometry(),c=SC(s._el,s.model(),o),a._box.update(c,o,s.rotation()),s.draw(i,c))}},Q3=function(i){if(Vt(i))return null;var t=i,e,n,s;if(Bt(i))if(!Vt(i.label))t=i.label;else if(!Vt(i.r))t=i.r;else for(t="",e=Object.keys(i),s=0,n=e.length;s<n;++s)t+=(s!==0?", ":"")+e[s]+": "+i[e[s]];return""+t},Z3={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:Q3,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},xn="$datalabels",_C="$default";function J3(i,t){var e=i.datalabels,n={},s=[],a,o;return e===!1?null:(e===!0&&(e={}),t=Pi({},[t,e]),a=t.labels||{},o=Object.keys(a),delete t.labels,o.length?o.forEach(function(c){a[c]&&s.push(Pi({},[t,a[c],{_key:c}]))}):s.push(t),n=s.reduce(function(c,u){return $t(u.listeners||{},function(h,f){c[f]=c[f]||{},c[f][u._key||_C]=h}),delete u.listeners,c},{}),{labels:s,listeners:n})}function gm(i,t,e,n){if(t){var s=e.$context,a=e.$groups,o;t[a._set]&&(o=t[a._set][a._key],o&&te(o,[s,n])===!0&&(i[xn]._dirty=!0,e.update(s)))}}function tH(i,t,e,n,s){var a,o;!e&&!n||(e?n?e!==n&&(o=a=!0):o=!0:a=!0,o&&gm(i,t.leave,e,s),a&&gm(i,t.enter,n,s))}function eH(i,t){var e=i[xn],n=e._listeners,s,a;if(!(!n.enter&&!n.leave)){if(t.type==="mousemove")a=Wl.lookup(e._labels,t);else if(t.type!=="mouseout")return;s=e._hovered,e._hovered=a,tH(i,n,s,a,t)}}function nH(i,t){var e=i[xn],n=e._listeners.click,s=n&&Wl.lookup(e._labels,t);s&&gm(i,n,s,t)}var iH={id:"datalabels",defaults:Z3,beforeInit:function(i){i[xn]={_actives:[]}},beforeUpdate:function(i){var t=i[xn];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(i,t,e){var n=t.index,s=i[xn],a=s._datasets[n]=[],o=i.isDatasetVisible(n),c=i.data.datasets[n],u=J3(c,e),h=t.meta.data||[],f=i.ctx,g,m,y,w,x,S,_,T;for(f.save(),g=0,y=h.length;g<y;++g)if(_=h[g],_[xn]=[],o&&_&&i.getDataVisibility(g)&&!_.skip)for(m=0,w=u.labels.length;m<w;++m)x=u.labels[m],S=x._key,T=new xC(x,f,_,g),T.$groups={_set:n,_key:S||_C},T.$context={active:!1,chart:i,dataIndex:g,dataset:c,datasetIndex:n},T.update(T.$context),_[xn].push(T),a.push(T);f.restore(),Pi(s._listeners,u.listeners,{merger:function(C,k,R){k[C]=k[C]||{},k[C][t.index]=R[C],s._listened=!0}})},afterUpdate:function(i){i[xn]._labels=Wl.prepare(i[xn]._datasets)},afterDatasetsDraw:function(i){Wl.draw(i,i[xn]._labels)},beforeEvent:function(i,t){if(i[xn]._listened){var e=t.event;switch(e.type){case"mousemove":case"mouseout":eH(i,e);break;case"click":nH(i,e);break}}},afterEvent:function(i){var t=i[xn],e=t._actives,n=t._actives=i.getActiveElements(),s=ql.arrayDiff(e,n),a,o,c,u,h,f,g;for(a=0,o=s.length;a<o;++a)if(h=s[a],h[1])for(g=h[0].element[xn]||[],c=0,u=g.length;c<u;++c)f=g[c],f.$context.active=h[1]===1,f.update(f.$context);(t._dirty||s.length)&&(Wl.update(t._labels),i.render()),delete t._dirty}};xh.register(_3,C3,lC,d3,v3,c3,rC,iH);const sH=({data:i=[],type:t})=>{const{chartSortOrder:e}=ao(),[n,s]=M.useState(12);M.useEffect(()=>{window.innerWidth<768?s(8):window.innerWidth<1024?s(12):s(14)},[i]);const a=M.useRef(null),[o,c]=M.useState({labels:[],datasets:[]}),u={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Resultados Gráficos",font:{size:16,weight:"bold"}},tooltip:{callbacks:{label:m=>{const y=m.parsed,w=t==="bar"?m.parsed.x:y,x=m.dataset.data.reduce((T,C)=>T+C,0),S=(w/x*100).toFixed(2);return`${m.label||m.dataset.label||""}: ${w.toLocaleString()} votos - (${S}%)`}}}}},h=Math.max(...i.map(m=>m.valor),0),f={...u,indexAxis:"y",scales:{x:{beginAtZero:!0,ticks:{callback:m=>m.toLocaleString()},max:h*1.35},y:{ticks:{font:{size:n}}}},layout:{padding:{left:0,right:30,top:0,bottom:0}},plugins:{...u.plugins,legend:{display:!1},datalabels:{display:!0,color:"black",anchor:"end",align:"end",formatter:(m,y)=>{const w=y.dataset.data.reduce((_,T)=>_+T,0),x=(m/w*100).toFixed(2);return`${y.dataset.label||""}: ${m.toLocaleString()} (${x}%)`}}}},g={...u,plugins:{...u.plugins,legend:{display:!0,position:"right"}}};return M.useEffect(()=>{if(!i||i.length===0)return;let m=[...i];t==="bar"&&e!=="default"&&m.sort((S,_)=>e==="asc"?S.valor-_.valor:_.valor-S.valor);const y=m.map(S=>S.sigla),w=m.map(S=>S.valor),x=m.map(S=>S.color);c({labels:y,datasets:[{label:"Votos",data:w,backgroundColor:x,borderColor:x,borderWidth:1}]})},[i,e,t]),A.jsx("div",{className:"w-full bg-white rounded-lg shadow p-6",children:A.jsxs("div",{className:"h-96",children:[t==="bar"&&A.jsx(A.Fragment,{children:A.jsx(L3,{ref:a,data:o,options:f})}),t==="pie"&&A.jsx(A.Fragment,{children:A.jsx(P3,{ref:a,data:o,options:g})})]})})},aH=()=>{const{currentView:i,setCurrentView:t,loadInitialData:e,isDataLoaded:n,resultsData:s,serverDate:a,chartData:o,chartType:c,fetchResults:u}=ao();return M.useEffect(()=>{e()},[e]),M.useEffect(()=>{if(!n)return;const h=setInterval(()=>{u()},"600"*1e3);return()=>clearInterval(h)},[n,u]),n?A.jsxs("div",{className:"flex flex-col",children:[A.jsxs("div",{className:"flex py-2 gap-2",children:[A.jsx(Pt,{variant:i==="mundial"?"default":"outline",onClick:()=>t("mundial"),className:i==="mundial"?"bg-red-800 hover:bg-red-900":"",children:"MUNDIAL"}),A.jsx(Pt,{variant:i==="international"?"default":"outline",onClick:()=>t("international"),className:i==="international"?"bg-red-800 hover:bg-red-900":"",children:"EXTERIOR"}),A.jsx(Pt,{variant:i==="national"?"default":"outline",onClick:()=>t("national"),className:i==="national"?"bg-red-800 hover:bg-red-900":"",children:"NACIONAL"})]}),A.jsx(Pj,{}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[A.jsx("div",{className:"lg:col-span-2",children:A.jsx(sH,{type:c,data:o??[]})}),A.jsx("div",{className:"lg:col-span-1",children:A.jsx(Ij,{datetime:a,data:s??[]})})]})]}):A.jsx("div",{children:"Loading..."})};var rH="Label",AC=M.forwardRef((i,t)=>A.jsx(Ht.label,{...i,ref:t,onMouseDown:e=>{e.target.closest("button, input, select, textarea")||(i.onMouseDown?.(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));AC.displayName=rH;var oH=AC;function Is({className:i,...t}){return A.jsx(oH,{"data-slot":"label",className:$e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",i),...t})}function lH(i){const t=M.useRef({value:i,previous:i});return M.useMemo(()=>(t.current.value!==i&&(t.current.previous=t.current.value,t.current.value=i),t.current.previous),[i])}var Ab="Radio",[cH,EC]=Zs(Ab),[uH,dH]=cH(Ab),CC=M.forwardRef((i,t)=>{const{__scopeRadio:e,name:n,checked:s=!1,required:a,disabled:o,value:c="on",onCheck:u,form:h,...f}=i,[g,m]=M.useState(null),y=Ze(t,S=>m(S)),w=M.useRef(!1),x=g?h||!!g.closest("form"):!0;return A.jsxs(uH,{scope:e,checked:s,disabled:o,children:[A.jsx(Ht.button,{type:"button",role:"radio","aria-checked":s,"data-state":kC(s),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:y,onClick:ae(i.onClick,S=>{s||u?.(),x&&(w.current=S.isPropagationStopped(),w.current||S.stopPropagation())})}),x&&A.jsx(MC,{control:g,bubbles:!w.current,name:n,value:c,checked:s,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});CC.displayName=Ab;var TC="RadioIndicator",RC=M.forwardRef((i,t)=>{const{__scopeRadio:e,forceMount:n,...s}=i,a=dH(TC,e);return A.jsx(Js,{present:n||a.checked,children:A.jsx(Ht.span,{"data-state":kC(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});RC.displayName=TC;var hH="RadioBubbleInput",MC=M.forwardRef(({__scopeRadio:i,control:t,checked:e,bubbles:n=!0,...s},a)=>{const o=M.useRef(null),c=Ze(o,a),u=lH(e),h=sE(t);return M.useEffect(()=>{const f=o.current;if(!f)return;const g=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(g,"checked").set;if(u!==e&&y){const w=new Event("click",{bubbles:n});y.call(f,e),f.dispatchEvent(w)}},[u,e,n]),A.jsx(Ht.input,{type:"radio","aria-hidden":!0,defaultChecked:e,...s,tabIndex:-1,ref:c,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});MC.displayName=hH;function kC(i){return i?"checked":"unchecked"}var fH=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Sh="RadioGroup",[pH,N5]=Zs(Sh,[lh,EC]),DC=lh(),OC=EC(),[gH,mH]=pH(Sh),NC=M.forwardRef((i,t)=>{const{__scopeRadioGroup:e,name:n,defaultValue:s,value:a,required:o=!1,disabled:c=!1,orientation:u,dir:h,loop:f=!0,onValueChange:g,...m}=i,y=DC(e),w=jm(h),[x,S]=hc({prop:a,defaultProp:s??null,onChange:g,caller:Sh});return A.jsx(gH,{scope:e,name:n,required:o,disabled:c,value:x,onValueChange:S,children:A.jsx(jA,{asChild:!0,...y,orientation:u,dir:w,loop:f,children:A.jsx(Ht.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":c?"":void 0,dir:w,...m,ref:t})})})});NC.displayName=Sh;var LC="RadioGroupItem",PC=M.forwardRef((i,t)=>{const{__scopeRadioGroup:e,disabled:n,...s}=i,a=mH(LC,e),o=a.disabled||n,c=DC(e),u=OC(e),h=M.useRef(null),f=Ze(t,h),g=a.value===s.value,m=M.useRef(!1);return M.useEffect(()=>{const y=x=>{fH.includes(x.key)&&(m.current=!0)},w=()=>m.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",w)}},[]),A.jsx(FA,{asChild:!0,...c,focusable:!o,active:g,children:A.jsx(CC,{disabled:o,required:a.required,checked:g,...u,...s,name:a.name,ref:f,onCheck:()=>a.onValueChange(s.value),onKeyDown:ae(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:ae(s.onFocus,()=>{m.current&&h.current?.click()})})})});PC.displayName=LC;var bH="RadioGroupIndicator",IC=M.forwardRef((i,t)=>{const{__scopeRadioGroup:e,...n}=i,s=OC(e);return A.jsx(RC,{...s,...n,ref:t})});IC.displayName=bH;var yH=NC,vH=PC,xH=IC;function wH({className:i,...t}){return A.jsx(yH,{"data-slot":"radio-group",className:$e("grid gap-3",i),...t})}function Og({className:i,...t}){return A.jsx(vH,{"data-slot":"radio-group-item",className:$e("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",i),...t,children:A.jsx(xH,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:A.jsx(cD,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const un=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),mm=[.001,0,0,.001,0,0],Ng=1.35,Pn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Di={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},jC="pdfjs_internal_editor_",_t={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},jt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},FC={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},nn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Yl={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},xe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Wr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},vc={ERRORS:0,WARNINGS:1,INFOS:5},ic={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},fd={moveTo:0,lineTo:1,curveTo:2,closePath:3},zC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let _h=vc.WARNINGS;function SH(i){Number.isInteger(i)&&(_h=i)}function _H(){return _h}function Ah(i){_h>=vc.INFOS&&console.log(`Info: ${i}`)}function At(i){_h>=vc.WARNINGS&&console.log(`Warning: ${i}`)}function Zt(i){throw new Error(i)}function Oe(i,t){i||Zt(t)}function AH(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Eb(i,t=null,e=null){if(!i)return null;if(e&&typeof i=="string"&&(e.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),e.tryConvertEncoding))try{i=MH(i)}catch{}const n=t?URL.parse(i,t):URL.parse(i);return AH(n)?n:null}function Cb(i,t,e=!1){const n=URL.parse(i);return n?(n.hash=t,n.href):e&&Eb(i,"http://example.com")?i.split("#",1)[0]+`${t?`#${t}`:""}`:""}function It(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Ya=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class u_ extends Ya{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Lg extends Ya{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Zd extends Ya{constructor(t){super(t,"InvalidPDFException")}}class sc extends Ya{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class EH extends Ya{constructor(t){super(t,"FormatError")}}class us extends Ya{constructor(t){super(t,"AbortException")}}function BC(i){(typeof i!="object"||i?.length===void 0)&&Zt("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let s=0;s<t;s+=e){const a=Math.min(s+e,t),o=i.subarray(s,a);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function xc(i){typeof i!="string"&&Zt("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function CH(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function TH(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function RH(){try{return new Function(""),!0}catch{return!1}}class Ge{static get isLittleEndian(){return It(this,"isLittleEndian",TH())}static get isEvalSupported(){return It(this,"isEvalSupported",RH())}static get isOffscreenCanvasSupported(){return It(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return It(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return It(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return It(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Pg=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));class mt{static makeHexColor(t,e,n){return`#${Pg[t]}${Pg[e]}${Pg[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,n=0){const s=t[n],a=t[n+1];t[n]=s*e[0]+a*e[2]+e[4],t[n+1]=s*e[1]+a*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const s=e[0],a=e[1],o=e[2],c=e[3],u=e[4],h=e[5];for(let f=0;f<6;f+=2){const g=t[n+f],m=t[n+f+1];t[n+f]=g*s+m*o+u,t[n+f+1]=g*a+m*c+h}}static applyInverseTransform(t,e){const n=t[0],s=t[1],a=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/a,t[1]=(-n*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/a}static axialAlignedBoundingBox(t,e,n){const s=e[0],a=e[1],o=e[2],c=e[3],u=e[4],h=e[5],f=t[0],g=t[1],m=t[2],y=t[3];let w=s*f+u,x=w,S=s*m+u,_=S,T=c*g+h,C=T,k=c*y+h,R=k;if(a!==0||o!==0){const O=a*f,N=a*m,P=o*g,H=o*y;w+=P,_+=P,S+=H,x+=H,T+=O,R+=O,k+=N,C+=N}n[0]=Math.min(n[0],w,S,x,_),n[1]=Math.min(n[1],T,k,C,R),n[2]=Math.max(n[2],w,S,x,_),n[3]=Math.max(n[3],T,k,C,R)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],s=t[1],a=t[2],o=t[3],c=n**2+s**2,u=n*a+s*o,h=a**2+o**2,f=(c+h)/2,g=Math.sqrt(f**2-(c*h-u**2));e[0]=Math.sqrt(f+g||1),e[1]=Math.sqrt(f-g||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>s)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>o?null:[n,a,s,o]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,s,a){a[0]=Math.min(a[0],t,n),a[1]=Math.min(a[1],e,s),a[2]=Math.max(a[2],t,n),a[3]=Math.max(a[3],e,s)}static#t(t,e,n,s,a,o,c,u,h,f){if(h<=0||h>=1)return;const g=1-h,m=h*h,y=m*h,w=g*(g*(g*t+3*h*e)+3*m*n)+y*s,x=g*(g*(g*a+3*h*o)+3*m*c)+y*u;f[0]=Math.min(f[0],w),f[1]=Math.min(f[1],x),f[2]=Math.max(f[2],w),f[3]=Math.max(f[3],x)}static#e(t,e,n,s,a,o,c,u,h,f,g,m){if(Math.abs(h)<1e-12){Math.abs(f)>=1e-12&&this.#t(t,e,n,s,a,o,c,u,-g/f,m);return}const y=f**2-4*g*h;if(y<0)return;const w=Math.sqrt(y),x=2*h;this.#t(t,e,n,s,a,o,c,u,(-f+w)/x,m),this.#t(t,e,n,s,a,o,c,u,(-f-w)/x,m)}static bezierBoundingBox(t,e,n,s,a,o,c,u,h){h[0]=Math.min(h[0],t,c),h[1]=Math.min(h[1],e,u),h[2]=Math.max(h[2],t,c),h[3]=Math.max(h[3],e,u),this.#e(t,n,a,c,e,s,o,u,3*(-t+3*(n-a)+c),6*(t-2*n+a),3*(n-t),h),this.#e(t,n,a,c,e,s,o,u,3*(-e+3*(s-o)+u),6*(e-2*s+o),3*(s-e),h)}}function MH(i){return decodeURIComponent(escape(i))}let Ig=null,d_=null;function HC(i){return Ig||(Ig=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,d_=new Map([["ﬅ","ſt"]])),i.replaceAll(Ig,(t,e,n)=>e?e.normalize("NFKC"):d_.get(n))}function Tb(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),BC(i)}const Rb="pdfjs_internal_id_";function kH(i,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,s,...a]=e;if(!i(n)&&!Number.isInteger(n)||!t(s))return!1;const o=a.length;let c=!0;switch(s.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;c=!1;break;default:return!1}for(const u of a)if(!(typeof u=="number"||c&&u===null))return!1;return!0}function an(i,t,e){return Math.min(Math.max(i,t),e)}function UC(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(BC(i))}function DH(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):xc(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...t){return new Promise(e=>{e(i(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((t,e)=>t+e,0)});const is="http://www.w3.org/2000/svg";class $a{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function wo(i,t="text"){if(Fl(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class wc{constructor({viewBox:t,userUnit:e,scale:n,rotation:s,offsetX:a=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=s,this.offsetX=a,this.offsetY=o,n*=e;const u=(t[2]+t[0])/2,h=(t[3]+t[1])/2;let f,g,m,y;switch(s%=360,s<0&&(s+=360),s){case 180:f=-1,g=0,m=0,y=1;break;case 90:f=0,g=1,m=1,y=0;break;case 270:f=0,g=-1,m=-1,y=0;break;case 0:f=1,g=0,m=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(m=-m,y=-y);let w,x,S,_;f===0?(w=Math.abs(h-t[1])*n+a,x=Math.abs(u-t[0])*n+o,S=(t[3]-t[1])*n,_=(t[2]-t[0])*n):(w=Math.abs(u-t[0])*n+a,x=Math.abs(h-t[1])*n+o,S=(t[2]-t[0])*n,_=(t[3]-t[1])*n),this.transform=[f*n,g*n,m*n,y*n,w-f*n*u-m*n*h,x-g*n*u-y*n*h],this.width=S,this.height=_}get rawDims(){const t=this.viewBox;return It(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:a=!1}={}){return new wc({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:a})}convertToViewportPoint(t,e){const n=[t,e];return mt.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];mt.applyTransform(e,this.transform);const n=[t[2],t[3]];return mt.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return mt.applyInverseTransform(n,this.transform),n}}class Eh extends Ya{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Sc(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function Ch(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function VC(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function GC(i,t="document.pdf"){if(typeof i!="string")return t;if(Sc(i))return At('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(i);if(!n)return t;const s=c=>{try{let u=decodeURIComponent(c);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:c):u}catch{return c}},a=/\.pdf$/i,o=n.pathname.split("/").at(-1);if(a.test(o))return s(o);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const h of c)if(a.test(h))return s(h);const u=Array.from(n.searchParams.keys()).reverse();for(const h of u)if(a.test(h))return s(h)}if(n.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(u)return s(u[0])}return t}class h_{started=Object.create(null);times=[];time(t){t in this.started&&At(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||At(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:s,end:a}of this.times)t.push(`${n.padEnd(e)} ${a-s}ms
`);return t.join("")}}function Fl(i,t){const e=t?URL.parse(i,t):URL.parse(i);return e?.protocol==="http:"||e?.protocol==="https:"}function ii(i){i.preventDefault()}function Se(i){i.preventDefault(),i.stopPropagation()}function OH(i){console.log("Deprecated API usage: "+i)}class Mb{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(e[6],10);u=u>=0&&u<=59?u:0;const h=e[7]||"Z";let f=parseInt(e[8],10);f=f>=0&&f<=23?f:0;let g=parseInt(e[9],10)||0;return g=g>=0&&g<=59?g:0,h==="-"?(o+=f,c+=g):h==="+"&&(o-=f,c-=g),new Date(Date.UTC(n,s,a,o,c,u))}}function $C(i,{scale:t=1,rotation:e=0}){const{width:n,height:s}=i.attributes.style,a=[0,0,parseInt(n),parseInt(s)];return new wc({viewBox:a,userUnit:1,scale:t,rotation:e})}function kb(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(At(`Not a valid color format: "${i}"`),[0,0,0])}function NH(i){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,kb(n))}t.remove()}function de(i){const{a:t,b:e,c:n,d:s,e:a,f:o}=i.getTransform();return[t,e,n,s,a,o]}function Si(i){const{a:t,b:e,c:n,d:s,e:a,f:o}=i.getTransform().invertSelf();return[t,e,n,s,a,o]}function Qs(i,t,e=!1,n=!0){if(t instanceof wc){const{pageWidth:s,pageHeight:a}=t.rawDims,{style:o}=i,c=Ge.isCSSRoundSupported,u=`var(--total-scale-factor) * ${s}px`,h=`var(--total-scale-factor) * ${a}px`,f=c?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,g=c?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!e||t.rotation%180===0?(o.width=f,o.height=g):(o.width=g,o.height=f)}n&&i.setAttribute("data-main-rotation",t.rotation)}class ui{constructor(){const{pixelRatio:t}=ui;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,s,a=-1){let o=1/0,c=1/0,u=1/0;n=ui.capPixels(n,a),n>0&&(o=Math.sqrt(n/(t*e))),s!==-1&&(c=s/t,u=s/e);const h=Math.min(o,c,u);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Jd=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Xl{#t=null;#e=null;#n;#i=null;#a=null;#s=null;static#o=null;constructor(t){this.#n=t,Xl.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;t.addEventListener("contextmenu",ii,{signal:e}),t.addEventListener("pointerdown",Xl.#r,{signal:e});const n=this.#i=document.createElement("div");n.className="buttons",t.append(n);const s=this.#n.toolbarPosition;if(s){const{style:a}=t,o=this.#n._uiManager.direction==="ltr"?1-s[0]:s[0];a.insetInlineEnd=`${100*o}%`,a.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#r(t){t.stopPropagation()}#d(t){this.#n._focusEventsAllowed=!1,Se(t)}#l(t){this.#n._focusEventsAllowed=!0,Se(t)}#h(t){const e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#l.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",ii,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#n,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",Xl.#o[t]),this.#h(n),n.addEventListener("click",s=>{e.delete()},{signal:e._signal}),this.#i.append(n)}get#u(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#h(e),this.#i.append(e,this.#u),this.#a=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#h(e),this.#i.append(e,this.#u)}async addEditSignatureButton(t){const e=this.#s=await t.renderEditButton(this.#n);this.#h(e),this.#i.append(e,this.#u)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(t){this.#s&&(this.#s.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class LH{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",ii,{signal:this.#n._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#s(),t}#a(t,e){let n=0,s=0;for(const a of t){const o=a.y+a.height;if(o<n)continue;const c=a.x+(e?a.width:0);if(o>n){s=c,n=o;continue}e?c>s&&(s=c):c<s&&(s=c)}return[e?1-s:s,n]}show(t,e,n){const[s,a]=this.#a(e,n),{style:o}=this.#e||=this.#i();t.append(this.#e),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#n._signal;t.addEventListener("contextmenu",ii,{signal:n}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:n}),this.#t.append(t)}}function qC(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}class PH{#t=0;get id(){return`${jC}${this.#t++}`}}class Db{#t=Tb();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const a=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return It(this,"_isSVGFittingCanvas",a)}async#i(t,e){this.#n||=new Map;let n=this.#n.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let s;if(typeof e=="string"?(n.url=e,s=await wo(e,"blob")):e instanceof File?s=n.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const a=Db._isSVGFittingCanvas,o=new FileReader,c=new Image,u=new Promise((h,f)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,h()},o.onload=async()=>{const g=n.svgUrl=o.result;c.src=await a?`${g}#svgView(preserveAspectRatio(none))`:g},c.onerror=o.onerror=f});o.readAsDataURL(s),await u}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){At(s),n=null}return this.#n.set(t,n),n&&this.#n.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:s,type:a}=t;return this.#i(`${e}_${n}_${s}_${a}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,e){const n=await e;return this.#i(t,n)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let n=this.#n.get(t);if(n?.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,n),this.#n.set(n.id,n),n}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=s.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class IH{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:n,mustExec:s,type:a=NaN,overwriteIfSameType:o=!1,keepUndo:c=!1}){if(s&&t(),this.#e)return;const u={cmd:t,undo:e,post:n,type:a};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(u);return}if(o&&this.#t[this.#i].type===a){c&&(u.undo=this.#t[this.#i].undo),this.#t[this.#i]=u;return}const h=this.#i+1;h===this.#n?this.#t.splice(0,1):(this.#i=h,h<this.#t.length&&this.#t.splice(h)),this.#t.push(u)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#i-e),this.#i=e;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class _c{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ge.platform;for(const[n,s,a={}]of t)for(const o of n){const c=o.startsWith("mac+");e&&c?(this.callbacks.set(o.slice(4),{callback:s,options:a}),this.allKeys.add(o.split("+").at(-1))):!e&&!c&&(this.callbacks.set(o,{callback:s,options:a}),this.allKeys.add(o.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:s,options:{bubbles:a=!1,args:o=[],checker:c=null}}=n;c&&!c(t,e)||(s.bind(t,...o,e)(),a||Se(e))}}class Ob{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return NH(t),It(this,"_colors",t)}convert(t){const e=kb(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,s]of this._colors)if(s.every((a,o)=>a===e[o]))return Ob._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?mt.makeHexColor(...e):t}}class ds{#t=new AbortController;#e=null;#n=new Map;#i=new Map;#a=null;#s=null;#o=null;#r=new IH;#d=null;#l=null;#h=0;#u=new Set;#f=null;#p=null;#g=new Set;_editorUndoBar=null;#c=!1;#m=!1;#b=!1;#y=null;#x=null;#w=null;#S=null;#E=!1;#T=null;#M=new PH;#_=!1;#R=!1;#C=null;#D=null;#O=null;#N=null;#B=null;#A=_t.NONE;#v=new Set;#j=null;#F=null;#V=null;#G=null;#$={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#L=null;#P=null;#U=null;#X=null;#I=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=ds.prototype,e=o=>o.#P.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return It(this,"_keyboardManager",new _c([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#P.contains(c)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#P.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}constructor(t,e,n,s,a,o,c,u,h,f,g,m,y,w,x){const S=this._signal=this.#t.signal;this.#P=t,this.#U=e,this.#X=n,this.#a=s,this.#F=a,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:S}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),o._on("setpreference",this.onSetPreference.bind(this),{signal:S}),o._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:S}),this.#st(),this.#lt(),this.#Q(),this.#s=c.annotationStorage,this.#y=c.filterFactory,this.#V=u,this.#S=h||null,this.#c=f,this.#m=g,this.#b=m,this.#B=y||null,this.viewParameters={realScale:$a.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=w||null,this._supportsPinchToZoom=x!==!1}destroy(){this.#I?.resolve(),this.#I=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#g.clear(),this.#N?.clear(),this.#e=null,this.#v.clear(),this.#r.destroy(),this.#a?.destroy(),this.#F?.destroy(),this.#T?.hide(),this.#T=null,this.#O?.destroy(),this.#O=null,this.#x&&(clearTimeout(this.#x),this.#x=null),this.#L&&(clearTimeout(this.#L),this.#L=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#B}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return It(this,"hcmFilter",this.#V?this.#y.addHCMFilter(this.#V.foreground,this.#V.background):"none")}get direction(){return It(this,"direction",getComputedStyle(this.#P).direction)}get highlightColors(){return It(this,"highlightColors",this.#S?new Map(this.#S.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColorNames(){return It(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#l=t}setMainHighlightColorPicker(t){this.#O=t}editAltText(t,e=!1){this.#a?.editAltText(this,t,e)}getSignature(t){this.#F?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#F}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#b=e;break}}onPageChanging({pageNumber:t}){this.#h=t-1}focusMainContainer(){this.#P.focus()}findParent(t,e){for(const n of this.#i.values()){const{x:s,y:a,width:o,height:c}=n.div.getBoundingClientRect();if(t>=s&&t<=s+o&&e>=a&&e<=a+c)return n}return null}disableUserSelect(t=!1){this.#U.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#g.add(t)}removeShouldRescale(t){this.#g.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*$a.PDF_TO_CSS_UNITS;for(const e of this.#g)e.onScaleChanging();this.#l?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#W({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#K(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#i.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:a,focusOffset:o}=e,c=e.toString(),h=this.#W(e).closest(".textLayer"),f=this.getSelectionBoxes(h);if(!f)return;e.empty();const g=this.#K(h),m=this.#A===_t.NONE,y=()=>{g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:f,anchorNode:n,anchorOffset:s,focusNode:a,focusOffset:o,text:c}),m&&this.showAllEditors("highlight",!0,!0)};if(m){this.switchToMode(_t.HIGHLIGHT,y);return}y()}#nt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#W(t).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(this.#T||=new LH(this),this.#T.show(n,s,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#X;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#it(){const t=document.getSelection();if(!t||t.isCollapsed){this.#j&&(this.#T?.hide(),this.#j=null,this.#k({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#j)return;const s=this.#W(t).closest(".textLayer");if(!s){this.#j&&(this.#T?.hide(),this.#j=null,this.#k({hasSelectedText:!1}));return}if(this.#T?.hide(),this.#j=e,this.#k({hasSelectedText:!0}),!(this.#A!==_t.HIGHLIGHT&&this.#A!==_t.NONE)&&(this.#A===_t.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#E=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#A===_t.HIGHLIGHT?this.#K(s):null;a?.toggleDrawing();const o=new AbortController,c=this.combinedSignal(o),u=h=>{h.type==="pointerup"&&h.button!==0||(o.abort(),a?.toggleDrawing(!0),h.type==="pointerup"&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}}#Y(t=""){this.#A===_t.HIGHLIGHT?this.highlightSelection(t):this.#c&&this.#nt()}#st(){document.addEventListener("selectionchange",this.#it.bind(this),{signal:this._signal})}#at(){if(this.#w)return;this.#w=new AbortController;const t=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#rt(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#E&&(this.#E=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#v)if(e.div.contains(t)){this.#D=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[t,e]=this.#D;this.#D=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#Q(){if(this.#C)return;this.#C=new AbortController;const t=this.combinedSignal(this.#C);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ot(){this.#C?.abort(),this.#C=null}#Z(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#J(){this.#d?.abort(),this.#d=null}#lt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Q(),this.#Z()}removeEditListeners(){this.#ot(),this.#J()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#p)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#p)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#v){const s=n.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const o of this.#p)if(o.isHandlingMimeForPasting(a.type)){o.paste(a,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){At(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const a=[];for(const u of n){const h=await s.deserialize(u);if(!h)return;a.push(h)}const o=()=>{for(const u of a)this.#tt(u);this.#et(a)},c=()=>{for(const u of a)u.remove()};this.addCommands({cmd:o,undo:c,mustExec:!0})}catch(a){At(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#A!==_t.NONE&&!this.isEditorHandlingKeyboard&&ds._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#E&&(this.#E=!1,this.#Y("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#k(t){Object.entries(t).some(([n,s])=>this.#$[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#$,t)}),this.#A===_t.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#z([[jt.HIGHLIGHT_FREE,!0]]))}#z(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#at(),this.#Z(),this.#k({isEditing:this.#A!==_t.NONE,isEmpty:this.#q(),hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:this.#r.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#rt(),this.#J(),this.#k({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#p){this.#p=t;for(const e of this.#p)this.#z(e.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#i.get(this.#h)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#h}addLayer(t){this.#i.set(t.pageIndex,t),this.#_?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,s=!1){if(this.#A!==t&&!(this.#I&&(await this.#I.promise,!this.#I))){if(this.#I=Promise.withResolvers(),this.#l?.commitOrRemove(),this.#A=t,t===_t.NONE){this.setEditingState(!1),this.#ut(),this._editorUndoBar?.hide(),this.#I.resolve();return}t===_t.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#ct(),this.unselectAll();for(const a of this.#i.values())a.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),this.#I.resolve();return}for(const a of this.#n.values())a.annotationElementId===e||a.id===e?(this.setSelected(a),s&&a.enterInEditMode()):a.unselect();this.#I.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#A&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#p){switch(t){case jt.CREATE:this.currentLayer.addNewEditor(e);return;case jt.HIGHLIGHT_DEFAULT_COLOR:this.#O?.updateColor(e);break;case jt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const n of this.#v)n.updateParams(t,e);for(const n of this.#p)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const a of this.#n.values())a.editorType===t&&a.show(e);(this.#G?.get(jt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#z([[jt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#R!==t){this.#R=t;for(const e of this.#i.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ct(){if(!this.#_){this.#_=!0;const t=[];for(const e of this.#i.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#ut(){if(this.unselectAll(),this.#_){this.#_=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const e=[];for(const n of this.#n.values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.focusMainContainer(),this.#x=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#N?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#tt(t){const e=this.#i.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#z(t.propertiesToUpdate))}get#dt(){let t=null;for(t of this.#v);return t}updateUI(t){this.#dt===t&&this.#z(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#z(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#v.has(t)){this.#v.delete(t),t.unselect(),this.#k({hasSelectedEditor:this.hasSelection});return}this.#v.add(t),t.select(),this.#z(t.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#l?.commitOrRemove();for(const e of this.#v)e!==t&&e.unselect();this.#v.clear(),this.#v.add(t),t.select(),this.#z(t.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}isSelected(t){return this.#v.has(t)}get firstSelectedEditor(){return this.#v.values().next().value}unselect(t){t.unselect(),this.#v.delete(t),this.#k({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#v.size!==0}get isEnterHandled(){return this.#v.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#r.undo(),this.#k({hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#q()}),this._editorUndoBar?.hide()}redo(){this.#r.redo(),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:this.#r.hasSomethingToRedo(),isEmpty:this.#q()})}addCommands(t){this.#r.add(t),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#q()})}cleanUndoStack(t){this.#r.cleanType(t)}#q(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#v],n=()=>{this._editorUndoBar?.show(s,e.length===1?e[0].editorType:e.length);for(const a of e)a.remove()},s=()=>{for(const a of e)this.#tt(a)};this.addCommands({cmd:n,undo:s,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#et(t){for(const e of this.#v)e.unselect();this.#v.clear();for(const e of t)e.isEmpty()||(this.#v.add(e),e.select());this.#k({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#v)t.commit();this.#et(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#A!==_t.NONE))&&!this.#l?.commitOrRemove()&&this.hasSelection){for(const t of this.#v)t.unselect();this.#v.clear(),this.#k({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[s,a]=this.#H,o=[...this.#v],c=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(s,a),u.translationDone())},undo:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(-s,-a),u.translationDone())},mustExec:!1})},c);for(const u of o)u.translateInPage(t,e),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#v)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let e=!1;for(const[{x:s,y:a,pageIndex:o},c]of t)c.newX=s,c.newY=a,c.newPageIndex=o,e||=s!==c.savedX||a!==c.savedY||o!==c.savedPageIndex;if(!e)return!1;const n=(s,a,o,c)=>{if(this.#n.has(s.id)){const u=this.#i.get(c);u?s._setParentAndPosition(u,a,o):(s.pageIndex=c,s.x=a,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:a,newY:o,newPageIndex:c}]of t)n(s,a,o,c)},undo:()=>{for(const[s,{savedX:a,savedY:o,savedPageIndex:c}]of t)n(s,a,o,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#f)for(const n of this.#f.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#v.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#A}get imageManager(){return It(this,"imageManager",new Db)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let h=0,f=e.rangeCount;h<f;h++)if(!t.contains(e.getRangeAt(h).commonAncestorContainer))return null;const{x:n,y:s,width:a,height:o}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(h,f,g,m)=>({x:(f-s)/o,y:1-(h+g-n)/a,width:m/o,height:g/a});break;case"180":c=(h,f,g,m)=>({x:1-(h+g-n)/a,y:1-(f+m-s)/o,width:g/a,height:m/o});break;case"270":c=(h,f,g,m)=>({x:1-(f+m-s)/o,y:(h-n)/a,width:m/o,height:g/a});break;default:c=(h,f,g,m)=>({x:(h-n)/a,y:(f-s)/o,width:g/a,height:m/o});break}const u=[];for(let h=0,f=e.rangeCount;h<f;h++){const g=e.getRangeAt(h);if(!g.collapsed)for(const{x:m,y,width:w,height:x}of g.getClientRects())w===0||x===0||u.push(c(m,y,w,x))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#s.getRawValue(e);n&&(this.#A===_t.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const s=this.#N?.get(t);s&&(s.setCanvas(e,n),this.#N.delete(t))}addMissingCanvas(t,e){(this.#N||=new Map).set(t,e)}}class Ri{#t=null;#e=!1;#n=null;#i=null;#a=null;#s=null;#o=!1;#r=null;#d=null;#l=null;#h=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#d=t,this.#u=t._uiManager.useNewAltTextFlow,Ri.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Ri._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#i=document.createElement("span");t.append(e),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",Ri.#f.missing),e.setAttribute("data-l10n-id",Ri.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#d._uiManager._signal;t.addEventListener("contextmenu",ii,{signal:n}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const s=a=>{a.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#u&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#o=!0,s(a))},{signal:n}),await this.#g(),t}get#p(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#h=await Ri._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#g())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#r?.remove(),this.#r=null;return}if(!this.#r){const e=this.#r=document.createElement("div");e.className="noAltTextBadge",this.#d.div.append(e)}this.#r.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#h),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:s,cancel:a=!1}){n&&(this.#l=n,this.#h=s),!(this.#t===t&&this.#e===e)&&(a||(this.#t=t,this.#e=e),this.#g())}toggle(t=!1){this.#n&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!t)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#a=null,this.#r?.remove(),this.#r=null}async#g(){const t=this.#n;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Ri.#f[this.#p]),this.#i?.setAttribute("data-l10n-id",Ri.#f[`${this.#p}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#d.id}`;const s=100,a=this.#d._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:a}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:a})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#d.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Ac{#t;#e=!1;#n=null;#i;#a;#s;#o;#r=null;#d;#l=null;#h;#u=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:s=null,onPinching:a=null,onPinchEnd:o=null,signal:c}){this.#t=t,this.#n=n,this.#i=e,this.#a=s,this.#s=a,this.#o=o,this.#h=new AbortController,this.#d=AbortSignal.any([c,this.#h.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#d})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ui.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#r)return;const s=this.#r=new AbortController,a=AbortSignal.any([this.#d,s.signal]),o=this.#t,c={capture:!0,signal:a,passive:!1},u=h=>{h.pointerType==="touch"&&(this.#r?.abort(),this.#r=null)};o.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(Se(h),u(h))},c),o.addEventListener("pointerup",u,c),o.addEventListener("pointercancel",u,c);return}if(!this.#u){this.#u=new AbortController;const s=AbortSignal.any([this.#d,this.#u.signal]),a=this.#t,o={signal:s,capture:!1,passive:!1};a.addEventListener("touchmove",this.#p.bind(this),o);const c=this.#g.bind(this);a.addEventListener("touchend",c,o),a.addEventListener("touchcancel",c,o),o.capture=!0,a.addEventListener("pointerdown",Se,o),a.addEventListener("pointermove",Se,o),a.addEventListener("pointercancel",Se,o),a.addEventListener("pointerup",Se,o),this.#a?.()}if(Se(t),t.touches.length!==2||this.#n?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#p(t){if(!this.#l||t.touches.length!==2)return;Se(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:s,screenY:a}=e,{screenX:o,screenY:c}=n,u=this.#l,{touch0X:h,touch0Y:f,touch1X:g,touch1Y:m}=u,y=g-h,w=m-f,x=o-s,S=c-a,_=Math.hypot(x,S)||1,T=Math.hypot(y,w)||1;if(!this.#e&&Math.abs(T-_)<=Ac.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=s,u.touch0Y=a,u.touch1X=o,u.touch1Y=c,!this.#e){this.#e=!0;return}const C=[(s+o)/2,(a+c)/2];this.#s?.(C,T,_)}#g(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#o?.()),this.#l&&(Se(t),this.#l=null,this.#e=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#r?.abort(),this.#r=null}}class yt{#t=null;#e=null;#n=null;#i=!1;#a=null;#s="";#o=!1;#r=null;#d=null;#l=null;#h=null;#u="";#f=!1;#p=null;#g=!1;#c=!1;#m=!1;#b=null;#y=0;#x=0;#w=null;#S=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#E=!1;#T=yt._zIndex++;static _borderLineWidth=-1;static _colorManager=new Ob;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=yt.prototype._resizeWithKeyboard,e=ds.TRANSLATE_SMALL,n=ds.TRANSLATE_BIG;return It(this,"_resizerKeyboardManager",new _c([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],yt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:s,pageX:a,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[a,o];const[c,u]=this.parentDimensions;this.x=t.x/c,this.y=t.y/u,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return It(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new jH({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(yt._l10n??=t,yt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),yt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);yt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Zt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#E}set _isDraggable(t){this.#E=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#T}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#U(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,s){const[a,o]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/a,this.y=(e+s)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,s]=this.parentDimensions;this.setAt(t*n,e*s,this.width*n,this.height*s),this._onTranslated()}#M([t,e],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#M(this.parentDimensions,t,e)}translateInPage(t,e){this.#p||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#p||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[s,a]}=this;if(this.x+=t/s,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[u,h]=this.getBaseTranslation();o+=u,c+=h;const{style:f}=n;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(o,c),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#p&&(this.#p[0]!==this.x||this.#p[1]!==this.y)}get _hasBeenResized(){return!!this.#p&&(this.#p[2]!==this.width||this.#p[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=yt,s=n/t,a=n/e;switch(this.rotation){case 90:return[-s,a];case 180:return[s,a];case 270:return[s,-a];default:return[-s,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,s]}=this;let{x:a,y:o,width:c,height:u}=this;if(c*=n,u*=s,a*=n,o*=s,this._mustFixPosition)switch(t){case 0:a=an(a,0,n-c),o=an(o,0,s-u);break;case 90:a=an(a,0,n-u),o=an(o,c,s);break;case 180:a=an(a,c,n),o=an(o,u,s);break;case 270:a=an(a,u,n),o=an(o,0,s-c);break}this.x=a/=n,this.y=o/=s;const[h,f]=this.getBaseTranslation();a+=h,o+=f,e.left=`${(100*a).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#_(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return yt.#_(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return yt.#_(t,e,360-this.parentRotation)}#R(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,s]=this.parentDimensions,{style:a}=this.div;a.width=`${(100*t/n).toFixed(2)}%`,this.#o||(a.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,s=n.endsWith("%"),a=!this.#o&&e.endsWith("%");if(s&&a)return;const[o,c]=this.parentDimensions;s||(t.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),!this.#o&&!a&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#C(){if(this.#r)return;this.#r=document.createElement("div"),this.#r.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const s=document.createElement("div");this.#r.append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",this.#D.bind(this,n),{signal:e}),s.addEventListener("contextmenu",ii,{signal:e}),s.tabIndex=-1}this.div.prepend(this.#r)}#D(t,e){e.preventDefault();const{isMac:n}=Ge.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#n?.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,this.#d=[e.screenX,e.screenY];const a=new AbortController,o=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#B.bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Se,{passive:!1,signal:o}),window.addEventListener("contextmenu",ii,{signal:o}),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const h=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=c,this.div.style.cursor=u,this.#N()};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})}#O(t,e,n,s){this.width=n,this.height=s,this.x=t,this.y=e;const[a,o]=this.parentDimensions;this.setDims(a*n,o*s),this.fixAndSetPosition(),this._onResized()}_onResized(){}#N(){if(!this.#l)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:s}=this.#l;this.#l=null;const a=this.x,o=this.y,c=this.width,u=this.height;a===t&&o===e&&c===n&&u===s||this.addCommands({cmd:this.#O.bind(this,a,o,c,u),undo:this.#O.bind(this,t,e,n,s),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#B(t,e){const[n,s]=this.parentDimensions,a=this.x,o=this.y,c=this.width,u=this.height,h=yt.MIN_SIZE/n,f=yt.MIN_SIZE/s,g=this.#R(this.rotation),m=(L,F)=>[g[0]*L+g[2]*F,g[1]*L+g[3]*F],y=this.#R(360-this.rotation),w=(L,F)=>[y[0]*L+y[2]*F,y[1]*L+y[3]*F];let x,S,_=!1,T=!1;switch(t){case"topLeft":_=!0,x=(L,F)=>[0,0],S=(L,F)=>[L,F];break;case"topMiddle":x=(L,F)=>[L/2,0],S=(L,F)=>[L/2,F];break;case"topRight":_=!0,x=(L,F)=>[L,0],S=(L,F)=>[0,F];break;case"middleRight":T=!0,x=(L,F)=>[L,F/2],S=(L,F)=>[0,F/2];break;case"bottomRight":_=!0,x=(L,F)=>[L,F],S=(L,F)=>[0,0];break;case"bottomMiddle":x=(L,F)=>[L/2,F],S=(L,F)=>[L/2,0];break;case"bottomLeft":_=!0,x=(L,F)=>[0,F],S=(L,F)=>[L,0];break;case"middleLeft":T=!0,x=(L,F)=>[0,F/2],S=(L,F)=>[L,F/2];break}const C=x(c,u),k=S(c,u);let R=m(...k);const O=yt._round(a+R[0]),N=yt._round(o+R[1]);let P=1,H=1,W,K;if(e.fromKeyboard)({deltaX:W,deltaY:K}=e);else{const{screenX:L,screenY:F}=e,[V,ut]=this.#d;[W,K]=this.screenToPageTranslation(L-V,F-ut),this.#d[0]=L,this.#d[1]=F}if([W,K]=w(W/n,K/s),_){const L=Math.hypot(c,u);P=H=Math.max(Math.min(Math.hypot(k[0]-C[0]-W,k[1]-C[1]-K)/L,1/c,1/u),h/c,f/u)}else T?P=an(Math.abs(k[0]-C[0]-W),h,1)/c:H=an(Math.abs(k[1]-C[1]-K),f,1)/u;const et=yt._round(c*P),lt=yt._round(u*H);R=m(...S(et,lt));const at=O-R[0],rt=N-R[1];this.#p||=[this.x,this.y,this.width,this.height],this.width=et,this.height=lt,this.x=at,this.y=rt,this.setDims(n*et,s*lt),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#c)return this._editToolbar;this._editToolbar=new Xl(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(Ri.initialize(yt._l10n),this.#n=new Ri(this),this.#t&&(this.#n.data=this.#t,this.#t=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#G();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[s,a]=this.getInitialTranslation();return this.translate(s,a),qC(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#S||=new Ac({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#A.bind(this),onPinching:this.#v.bind(this),onPinchEnd:this.#j.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#A(){this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#v(t,e,n){let a=.7*(n/e)+1-.7;if(a===1)return;const o=this.#R(this.rotation),c=(O,N)=>[o[0]*O+o[2]*N,o[1]*O+o[3]*N],[u,h]=this.parentDimensions,f=this.x,g=this.y,m=this.width,y=this.height,w=yt.MIN_SIZE/u,x=yt.MIN_SIZE/h;a=Math.max(Math.min(a,1/m,1/y),w/m,x/y);const S=yt._round(m*a),_=yt._round(y*a);if(S===m&&_===y)return;this.#p||=[f,g,m,y];const T=c(m/2,y/2),C=yt._round(f+T[0]),k=yt._round(g+T[1]),R=c(S/2,_/2);this.x=C-R[0],this.y=k-R[1],this.width=S,this.height=_,this.setDims(u*S,h*_),this.fixAndSetPosition(),this._onResizing()}#j(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#N()}pointerdown(t){const{isMac:e}=Ge.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#V(t);return}this.#F(t)}#F(t){const{isMac:e}=Ge.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#V(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const s=new AbortController,a=this._uiManager.combinedSignal(s),o={capture:!0,passive:!1,signal:a},c=h=>{s.abort(),this.#a=null,this.#f=!1,this._uiManager.endDragSession()||this.#F(h),n&&this._onStopDragging()};e&&(this.#y=t.clientX,this.#x=t.clientY,this.#a=t.pointerId,this.#s=t.pointerType,window.addEventListener("pointermove",h=>{n||(n=!0,this._onStartDragging());const{clientX:f,clientY:g,pointerId:m}=h;if(m!==this.#a){Se(h);return}const[y,w]=this.screenToPageTranslation(f-this.#y,g-this.#x);this.#y=f,this.#x=g,this._uiManager.dragSelectedEditors(y,w)},o),window.addEventListener("touchmove",Se,o),window.addEventListener("pointerdown",h=>{h.pointerType===this.#s&&(this.#S||h.isPrimary)&&c(h),Se(h)},o));const u=h=>{if(!this.#a||this.#a===h.pointerId){c(h);return}Se(h)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const s=this.parentScale,[a,o]=this.pageDimensions,[c,u]=this.pageTranslation,h=t/s,f=e/s,g=this.x*a,m=this.y*o,y=this.width*a,w=this.height*o;switch(n){case 0:return[g+h+c,o-m-f-w+u,g+h+y+c,o-m-f+u];case 90:return[g+f+c,o-m+h+u,g+f+w+c,o-m+h+y+u];case 180:return[g-h-y+c,o-m+f+u,g-h+c,o-m+f+w+u];case 270:return[g-f-w+c,o-m-h-y+u,g-f+c,o-m-h+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,s,a,o]=t,c=a-n,u=o-s;switch(this.rotation){case 0:return[n,e-o,c,u];case 90:return[n,e-s,u,c];case 180:return[a,e-s,c,u];case 270:return[a,e-o,u,c];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#c=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#c=!1,!0):!1}isInEditMode(){return this.#c}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:s}=this.getClientDimensions(),{innerHeight:a,innerWidth:o}=window;return e<o&&s>0&&t<a&&n>0}#G(){if(this.#h||!this.div)return;this.#h=new AbortController;const t=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#G()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){Zt("An editor must be serializable")}static async deserialize(t,e,n){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId});s.rotation=t.rotation,s.#t=t.accessibilityData,s._isCopy=t.isCopy||!1;const[a,o]=s.pageDimensions,[c,u,h,f]=s.getRectInCurrentCoords(t.rect,o);return s.x=c/a,s.y=u/o,s.width=h/a,s.height=f/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#U(),this.removeEditToolbar(),this.#w){for(const t of this.#w.values())clearTimeout(t);this.#w=null}this.parent=null,this.#S?.destroy(),this.#S=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#C(),this.#r.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#r.children;if(!this.#e){this.#e=Array.from(e);const o=this.#$.bind(this),c=this.#H.bind(this),u=this._uiManager._signal;for(const h of this.#e){const f=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",o,{signal:u}),h.addEventListener("blur",c,{signal:u}),h.addEventListener("focus",this.#L.bind(this,f),{signal:u}),h.setAttribute("data-l10n-id",yt._l10nResizer[f])}}const n=this.#e[0];let s=0;for(const o of e){if(o===n)break;s++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(a!==s){if(a<s)for(let c=0;c<s-a;c++)this.#r.append(this.#r.firstChild);else if(a>s)for(let c=0;c<a-s;c++)this.#r.firstChild.before(this.#r.lastChild);let o=0;for(const c of e){const h=this.#e[o++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",yt._l10nResizer[h])}}this.#P(0),this.#m=!0,this.#r.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#$(t){yt._resizerKeyboardManager.exec(this,t)}#H(t){this.#m&&t.relatedTarget?.parentNode!==this.#r&&this.#U()}#L(t){this.#u=this.#m?t:""}#P(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#m&&this.#B(this.#u,{deltaX:t,deltaY:e,fromKeyboard:!0})}#U(){this.#m=!1,this.#P(-1),this.#N()}_stopResizingWithKeyboard(){this.#U(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#r?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(t){this.#g=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#o=!0;const n=t/e,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#w||=new Map;const{action:n}=t;let s=this.#w.get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),this.#w.delete(n),this.#w.size===0&&(this.#w=null)},yt._telemetryTimeout),this.#w.set(n,s);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class jH extends yt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const f_=3285377520,Qn=4294901760,_i=65535;class WC{constructor(t){this.h1=t?t&4294967295:f_,this.h2=t?t&4294967295:f_}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let x=0,S=t.length;x<S;x++){const _=t.charCodeAt(x);_<=255?e[n++]=_:(e[n++]=_>>>8,e[n++]=_&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,a=n-s*4,o=new Uint32Array(e.buffer,0,s);let c=0,u=0,h=this.h1,f=this.h2;const g=3432918353,m=461845907,y=g&_i,w=m&_i;for(let x=0;x<s;x++)x&1?(c=o[x],c=c*g&Qn|c*y&_i,c=c<<15|c>>>17,c=c*m&Qn|c*w&_i,h^=c,h=h<<13|h>>>19,h=h*5+3864292196):(u=o[x],u=u*g&Qn|u*y&_i,u=u<<15|u>>>17,u=u*m&Qn|u*w&_i,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,a){case 3:c^=e[s*4+2]<<16;case 2:c^=e[s*4+1]<<8;case 1:c^=e[s*4],c=c*g&Qn|c*y&_i,c=c<<15|c>>>17,c=c*m&Qn|c*w&_i,s&1?h^=c:f^=c}this.h1=h,this.h2=f}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Qn|t*36045&_i,e=e*4283543511&Qn|((e<<16|t>>>16)*2950163797&Qn)>>>16,t^=e>>>1,t=t*444984403&Qn|t*60499&_i,e=e*3301882366&Qn|((e<<16|t>>>16)*3120437893&Qn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const bm=Object.freeze({map:null,hash:"",transfer:void 0});class Nb{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#n.values())if(e instanceof yt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let s=!1;if(n!==void 0)for(const[a,o]of Object.entries(e))n[a]!==o&&(s=!0,n[a]=o);else s=!0,this.#n.set(t,e);s&&this.#i(),e instanceof yt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new YC(this)}get serializable(){if(this.#n.size===0)return bm;const t=new Map,e=new WC,n=[],s=Object.create(null);let a=!1;for(const[o,c]of this.#n){const u=c instanceof yt?c.serialize(!1,s):c;u&&(t.set(o,u),e.update(`${o}:${JSON.stringify(u)}`),a||=!!u.bitmap)}if(a)for(const o of t.values())o.bitmap&&n.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:bm}get editorStats(){let t=null;const e=new Map;for(const n of this.#n.values()){if(!(n instanceof yt))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:a}=s;e.has(a)||e.set(a,Object.getPrototypeOf(n).constructor),t||=Object.create(null);const o=t[a]||=new Map;for(const[c,u]of Object.entries(s)){if(c==="type")continue;let h=o.get(c);h||(h=new Map,o.set(c,h));const f=h.get(u)??0;h.set(u,f+1)}}for(const[n,s]of e)t[n]=s.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#n.values())!(e instanceof yt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class YC extends Nb{#t;constructor(t){super();const{map:e,hash:n,transfer:s}=t.serializable,a=structuredClone(e,s?{transfer:s}:null);this.#t={map:a,hash:n,transfer:s}}get print(){Zt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return It(this,"modifiedIds",{ids:new Set,hash:""})}}class FH{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(Oe(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:a,style:o}=t,c=new FontFace(s,a,o);this.addNativeFontFace(c);try{await c.load(),this.#t.add(s),n?.(t)}catch{At(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}Zt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw At(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return It(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return It(this,"isSyncFontLoadingSupported",un||Ge.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Oe(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:e,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return It(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(k,R){return k.charCodeAt(R)<<24|k.charCodeAt(R+1)<<16|k.charCodeAt(R+2)<<8|k.charCodeAt(R+3)&255}function s(k,R,O,N){const P=k.substring(0,R),H=k.substring(R+O);return P+N+H}let a,o;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let h=0;function f(k,R){if(++h>30){At("Load test font never loaded."),R();return}if(u.font="30px "+k,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(f.bind(null,k,R))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=s(m,976,g.length,g);const w=16,x=1482184792;let S=n(m,w);for(a=0,o=g.length-3;a<o;a+=4)S=S-x+n(g,a)|0;a<g.length&&(S=S-x+n(g+"XXX",a)|0),m=s(m,w,4,CH(S));const _=`url(data:font/opentype;base64,${btoa(m)});`,T=`@font-face {font-family:"${g}";src:${_}}`;this.insertRule(T);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const k of[t.loadedName,g]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=k,C.append(R)}this._document.body.append(C),f(g,()=>{C.remove(),e.complete()})}}class zH{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const n in t)this[n]=t[n];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${UC(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let s;try{s=t.get(n)}catch(o){At(`getPathGenerator - ignoring character: "${o}".`)}const a=new Path2D(s||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=a}}function BH(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(un)return i;const t=URL.parse(i,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function HH(i){if(un&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return xc(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function pd(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const ym=i=>typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0,UH=i=>typeof i=="object"&&typeof i?.name=="string",XC=kH.bind(null,ym,UH);class VH{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[s]of this.#t)s.call(this,n)})}addEventListener(t,e,n=null){let s=null;if(n?.signal instanceof AbortSignal){const{signal:a}=n;if(a.aborted){At("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);s=()=>a.removeEventListener("abort",o),a.addEventListener("abort",o)}this.#t.set(e,s)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const gd={DATA:1,ERROR:2},ke={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function p_(){}function vn(i){if(i instanceof us||i instanceof Zd||i instanceof u_||i instanceof sc||i instanceof Lg)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||Zt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new us(i.message);case"InvalidPDFException":return new Zd(i.message);case"PasswordException":return new u_(i.message,i.code);case"ResponseException":return new sc(i.message,i.status,i.missing);case"UnknownErrorException":return new Lg(i.message,i.details)}return new Lg(i.message,i.toString())}class zl{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const n=t.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===gd.DATA)s.resolve(t.data);else if(t.callback===gd.ERROR)s.reject(vn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,s=t.sourceName,a=this.comObj;Promise.try(e,t.data).then(function(o){a.postMessage({sourceName:n,targetName:s,callback:gd.DATA,callbackId:t.callbackId,data:o})},function(o){a.postMessage({sourceName:n,targetName:s,callback:gd.ERROR,callbackId:t.callbackId,reason:vn(o)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[s]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(o){a.reject(o)}return a.promise}sendWithStream(t,e,n,s){const a=this.streamId++,o=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:h=>{const f=Promise.withResolvers();return this.streamControllers[a]={controller:h,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:c,action:t,streamId:a,data:e,desiredSize:h.desiredSize},s),f.promise},pull:h=>{const f=Promise.withResolvers();return this.streamControllers[a].pullCall=f,u.postMessage({sourceName:o,targetName:c,stream:ke.PULL,streamId:a,desiredSize:h.desiredSize}),f.promise},cancel:h=>{Oe(h instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[a].cancelCall=f,this.streamControllers[a].isClosed=!0,u.postMessage({sourceName:o,targetName:c,stream:ke.CANCEL,streamId:a,reason:vn(h)}),f.promise}},n)}#n(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,a=this.comObj,o=this,c=this.actionHandler[t.action],u={enqueue(h,f=1,g){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=f,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:s,stream:ke.ENQUEUE,streamId:e,chunk:h},g)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:ke.CLOSE,streamId:e}),delete o.streamSinks[e])},error(h){Oe(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:ke.ERROR,streamId:e,reason:vn(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[e]=u,Promise.try(c,t.data,u).then(function(){a.postMessage({sourceName:n,targetName:s,stream:ke.START_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:n,targetName:s,stream:ke.START_COMPLETE,streamId:e,reason:vn(h)})})}#i(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,a=this.comObj,o=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case ke.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(vn(t.reason));break;case ke.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(vn(t.reason));break;case ke.PULL:if(!c){a.postMessage({sourceName:n,targetName:s,stream:ke.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||p_).then(function(){a.postMessage({sourceName:n,targetName:s,stream:ke.PULL_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:n,targetName:s,stream:ke.PULL_COMPLETE,streamId:e,reason:vn(h)})});break;case ke.ENQUEUE:if(Oe(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case ke.CLOSE:if(Oe(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#a(o,e);break;case ke.ERROR:Oe(o,"error should have stream controller"),o.controller.error(vn(t.reason)),this.#a(o,e);break;case ke.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(vn(t.reason)),this.#a(o,e);break;case ke.CANCEL:if(!c)break;const u=vn(t.reason);Promise.try(c.onCancel||p_,u).then(function(){a.postMessage({sourceName:n,targetName:s,stream:ke.CANCEL_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:n,targetName:s,stream:ke.CANCEL_COMPLETE,streamId:e,reason:vn(h)})}),c.sinkCapability.reject(u),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class KC{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Zt("Abstract method `_createCanvas` called.")}}class GH extends KC{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class QC{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Zt("Abstract method `_fetch` called.")}}class g_ extends QC{async _fetch(t){const e=await wo(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):xc(e)}}class ZC{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,s,a){return"none"}destroy(t=!1){}}class $H extends ZC{#t;#e;#n;#i;#a;#s;#o=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#a=e}get#r(){return this.#e||=new Map}get#d(){return this.#s||=new Map}get#l(){if(!this.#n){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#a.createElementNS(is,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#a.createElementNS(is,"defs"),t.append(n),n.append(this.#n),this.#a.body.append(t)}return this.#n}#h(t){if(t.length===1){const u=t[0],h=new Array(256);for(let g=0;g<256;g++)h[g]=u[g]/255;const f=h.join(",");return[f,f,f]}const[e,n,s]=t,a=new Array(256),o=new Array(256),c=new Array(256);for(let u=0;u<256;u++)a[u]=e[u]/255,o[u]=n[u]/255,c[u]=s[u]/255;return[a.join(","),o.join(","),c.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(Sc(e)?At('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Cb(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#r.get(t);if(e)return e;const[n,s,a]=this.#h(t),o=t.length===1?n:`${n}${s}${a}`;if(e=this.#r.get(o),e)return this.#r.set(t,e),e;const c=`g_${this.#i}_transfer_map_${this.#o++}`,u=this.#u(c);this.#r.set(t,u),this.#r.set(o,u);const h=this.#g(c);return this.#m(n,s,a,h),u}addHCMFilter(t,e){const n=`${t}-${e}`,s="base";let a=this.#d.get(s);if(a?.key===n||(a?(a.filter?.remove(),a.key=n,a.url="none",a.filter=null):(a={key:n,url:"none",filter:null},this.#d.set(s,a)),!t||!e))return a.url;const o=this.#y(t);t=mt.makeHexColor(...o);const c=this.#y(e);if(e=mt.makeHexColor(...c),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return a.url;const u=new Array(256);for(let y=0;y<=255;y++){const w=y/255;u[y]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const h=u.join(","),f=`g_${this.#i}_hcm_filter`,g=a.filter=this.#g(f);this.#m(h,h,h,g),this.#p(g);const m=(y,w)=>{const x=o[y]/255,S=c[y]/255,_=new Array(w+1);for(let T=0;T<=w;T++)_[T]=x+T/w*(S-x);return _.join(",")};return this.#m(m(0,5),m(1,5),m(2,5),g),a.url=this.#u(f),a.url}addAlphaFilter(t){let e=this.#r.get(t);if(e)return e;const[n]=this.#h([t]),s=`alpha_${n}`;if(e=this.#r.get(s),e)return this.#r.set(t,e),e;const a=`g_${this.#i}_alpha_map_${this.#o++}`,o=this.#u(a);this.#r.set(t,o),this.#r.set(s,o);const c=this.#g(a);return this.#b(n,c),o}addLuminosityFilter(t){let e=this.#r.get(t||"luminosity");if(e)return e;let n,s;if(t?([n]=this.#h([t]),s=`luminosity_${n}`):s="luminosity",e=this.#r.get(s),e)return this.#r.set(t,e),e;const a=`g_${this.#i}_luminosity_map_${this.#o++}`,o=this.#u(a);this.#r.set(t,o),this.#r.set(s,o);const c=this.#g(a);return this.#f(c),t&&this.#b(n,c),o}addHighlightHCMFilter(t,e,n,s,a){const o=`${e}-${n}-${s}-${a}`;let c=this.#d.get(t);if(c?.key===o||(c?(c.filter?.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},this.#d.set(t,c)),!e||!n))return c.url;const[u,h]=[e,n].map(this.#y.bind(this));let f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[m,y]=[s,a].map(this.#y.bind(this));g<f&&([f,g,m,y]=[g,f,y,m]),this.#l.style.color="";const w=(_,T,C)=>{const k=new Array(256),R=(g-f)/C,O=_/255,N=(T-_)/(255*C);let P=0;for(let H=0;H<=C;H++){const W=Math.round(f+H*R),K=O+H*N;for(let et=P;et<=W;et++)k[et]=K;P=W+1}for(let H=P;H<256;H++)k[H]=k[P-1];return k.join(",")},x=`g_${this.#i}_hcm_${t}_filter`,S=c.filter=this.#g(x);return this.#p(S),this.#m(w(m[0],y[0],5),w(m[1],y[1],5),w(m[2],y[2],5),S),c.url=this.#u(x),c.url}destroy(t=!1){t&&this.#s?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#o=0)}#f(t){const e=this.#a.createElementNS(is,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(is,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#g(t){const e=this.#a.createElementNS(is,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#c(t,e,n){const s=this.#a.createElementNS(is,e);s.setAttribute("type","discrete"),s.setAttribute("tableValues",n),t.append(s)}#m(t,e,n,s){const a=this.#a.createElementNS(is,"feComponentTransfer");s.append(a),this.#c(a,"feFuncR",t),this.#c(a,"feFuncG",e),this.#c(a,"feFuncB",n)}#b(t,e){const n=this.#a.createElementNS(is,"feComponentTransfer");e.append(n),this.#c(n,"feFuncA",t)}#y(t){return this.#l.style.color=t,kb(getComputedStyle(this.#l).getPropertyValue("color"))}}class JC{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Zt("Abstract method `_fetch` called.")}}class m_ extends JC{async _fetch(t){const e=await wo(t,"arraybuffer");return new Uint8Array(e)}}class tT{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Zt("Abstract method `_fetch` called.")}}class b_ extends tT{async _fetch(t){const e=await wo(t,"arraybuffer");return new Uint8Array(e)}}un&&At("Please use the `legacy` build in Node.js environments.");async function Lb(i){const e=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(e)}class qH extends ZC{}class WH extends KC{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class YH extends QC{async _fetch(t){return Lb(t)}}class XH extends JC{async _fetch(t){return Lb(t)}}class KH extends tT{async _fetch(t){return Lb(t)}}const Ke={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function vm(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,n),i.clip(s)}class Pb{isModifyingCurrentTransform(){return!1}getPattern(){Zt("Abstract method `getPattern` called.")}}class QH extends Pb{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,s){let a;if(s===Ke.STROKE||s===Ke.FILL){const o=e.current.getClippedPathBoundingBox(s,de(t))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,h=e.cachedCanvases.getCanvas("pattern",c,u),f=h.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),n=mt.transform(n,[1,0,0,1,o[0],o[1]]),f.transform(...e.baseTransform),this.matrix&&f.transform(...this.matrix),vm(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),a=t.createPattern(h.canvas,"no-repeat");const g=new DOMMatrix(n);a.setTransform(g)}else vm(t,this._bbox),a=this._createGradient(t);return a}}function jg(i,t,e,n,s,a,o,c){const u=t.coords,h=t.colors,f=i.data,g=i.width*4;let m;u[e+1]>u[n+1]&&(m=e,e=n,n=m,m=a,a=o,o=m),u[n+1]>u[s+1]&&(m=n,n=s,s=m,m=o,o=c,c=m),u[e+1]>u[n+1]&&(m=e,e=n,n=m,m=a,a=o,o=m);const y=(u[e]+t.offsetX)*t.scaleX,w=(u[e+1]+t.offsetY)*t.scaleY,x=(u[n]+t.offsetX)*t.scaleX,S=(u[n+1]+t.offsetY)*t.scaleY,_=(u[s]+t.offsetX)*t.scaleX,T=(u[s+1]+t.offsetY)*t.scaleY;if(w>=T)return;const C=h[a],k=h[a+1],R=h[a+2],O=h[o],N=h[o+1],P=h[o+2],H=h[c],W=h[c+1],K=h[c+2],et=Math.round(w),lt=Math.round(T);let at,rt,L,F,V,ut,I,Z;for(let B=et;B<=lt;B++){if(B<S){const ct=B<w?0:(w-B)/(w-S);at=y-(y-x)*ct,rt=C-(C-O)*ct,L=k-(k-N)*ct,F=R-(R-P)*ct}else{let ct;B>T?ct=1:S===T?ct=0:ct=(S-B)/(S-T),at=x-(x-_)*ct,rt=O-(O-H)*ct,L=N-(N-W)*ct,F=P-(P-K)*ct}let G;B<w?G=0:B>T?G=1:G=(w-B)/(w-T),V=y-(y-_)*G,ut=C-(C-H)*G,I=k-(k-W)*G,Z=R-(R-K)*G;const J=Math.round(Math.min(at,V)),st=Math.round(Math.max(at,V));let ot=g*B+J*4;for(let ct=J;ct<=st;ct++)G=(at-ct)/(at-V),G<0?G=0:G>1&&(G=1),f[ot++]=rt-(rt-ut)*G|0,f[ot++]=L-(L-I)*G|0,f[ot++]=F-(F-Z)*G|0,f[ot++]=255}}function ZH(i,t,e){const n=t.coords,s=t.colors;let a,o;switch(t.type){case"lattice":const c=t.verticesPerRow,u=Math.floor(n.length/c)-1,h=c-1;for(a=0;a<u;a++){let f=a*c;for(let g=0;g<h;g++,f++)jg(i,e,n[f],n[f+1],n[f+c],s[f],s[f+1],s[f+c]),jg(i,e,n[f+c+1],n[f+1],n[f+c],s[f+c+1],s[f+1],s[f+c])}break;case"triangles":for(a=0,o=n.length;a<o;a+=3)jg(i,e,n[a],n[a+1],n[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class JH extends Pb{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-u,g=Math.min(Math.ceil(Math.abs(h*t[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),y=h/g,w=f/m,x={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/y,scaleY:1/w},S=g+4,_=m+4,T=n.getCanvas("mesh",S,_),C=T.context,k=C.createImageData(g,m);if(e){const O=k.data;for(let N=0,P=O.length;N<P;N+=4)O[N]=e[0],O[N+1]=e[1],O[N+2]=e[2],O[N+3]=255}for(const O of this._figures)ZH(k,O,x);return C.putImageData(k,2,2),{canvas:T.canvas,offsetX:c-2*y,offsetY:u-2*w,scaleX:y,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,s){vm(t,this._bbox);const a=new Float32Array(2);if(s===Ke.SHADING)mt.singularValueDecompose2dScale(de(t),a);else if(this.matrix){mt.singularValueDecompose2dScale(this.matrix,a);const[c,u]=a;mt.singularValueDecompose2dScale(e.baseTransform,a),a[0]*=c,a[1]*=u}else mt.singularValueDecompose2dScale(e.baseTransform,a);const o=this._createMeshCanvas(a,s===Ke.SHADING?null:this._background,e.cachedCanvases);return s!==Ke.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class t4 extends Pb{getPattern(){return"hotpink"}}function e4(i){switch(i[0]){case"RadialAxial":return new QH(i);case"Mesh":return new JH(i);case"Dummy":return new t4}throw new Error(`Unknown IR type: ${i[0]}`)}const y_={COLORED:1,UNCOLORED:2};class Ib{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=s}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:h}=this;u=Math.abs(u),h=Math.abs(h),Ah("TilingType: "+a);const f=e[0],g=e[1],m=e[2],y=e[3],w=m-f,x=y-g,S=new Float32Array(2);mt.singularValueDecompose2dScale(this.matrix,S);const[_,T]=S;mt.singularValueDecompose2dScale(this.baseTransform,S);const C=_*S[0],k=T*S[1];let R=w,O=x,N=!1,P=!1;const H=Math.ceil(u*C),W=Math.ceil(h*k),K=Math.ceil(w*C),et=Math.ceil(x*k);H>=K?R=u:N=!0,W>=et?O=h:P=!0;const lt=this.getSizeAndScale(R,this.ctx.canvas.width,C),at=this.getSizeAndScale(O,this.ctx.canvas.height,k),rt=t.cachedCanvases.getCanvas("pattern",lt.size,at.size),L=rt.context,F=c.createCanvasGraphics(L);if(F.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(F,s,o),L.translate(-lt.scale*f,-at.scale*g),F.transform(lt.scale,0,0,at.scale,0,0),L.save(),this.clipBbox(F,f,g,m,y),F.baseTransform=de(F.ctx),F.executeOperatorList(n),F.endDrawing(),L.restore(),N||P){const V=rt.canvas;N&&(R=u),P&&(O=h);const ut=this.getSizeAndScale(R,this.ctx.canvas.width,C),I=this.getSizeAndScale(O,this.ctx.canvas.height,k),Z=ut.size,B=I.size,G=t.cachedCanvases.getCanvas("pattern-workaround",Z,B),J=G.context,st=N?Math.floor(w/u):0,ot=P?Math.floor(x/h):0;for(let ct=0;ct<=st;ct++)for(let bt=0;bt<=ot;bt++)J.drawImage(V,Z*ct,B*bt,Z,B,0,0,Z,B);return{canvas:G.canvas,scaleX:ut.scale,scaleY:I.scale,offsetX:f,offsetY:g}}return{canvas:rt.canvas,scaleX:lt.scale,scaleY:at.scale,offsetX:f,offsetY:g}}getSizeAndScale(t,e,n){const s=Math.max(Ib.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*n);return a>=s?a=s:n=a/t,{scale:n,size:a}}clipBbox(t,e,n,s,a){const o=s-e,c=a-n;t.ctx.rect(e,n,o,c),mt.axialAlignedBoundingBox([e,n,s,a],de(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const s=t.ctx,a=t.current;switch(e){case y_.COLORED:const{fillStyle:o,strokeStyle:c}=this.ctx;s.fillStyle=a.fillColor=o,s.strokeStyle=a.strokeColor=c;break;case y_.UNCOLORED:s.fillStyle=s.strokeStyle=n,a.fillColor=a.strokeColor=n;break;default:throw new EH(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,s){let a=n;s!==Ke.SHADING&&(a=mt.transform(a,e.baseTransform),this.matrix&&(a=mt.transform(a,this.matrix)));const o=this.createPatternCanvas(e);let c=new DOMMatrix(a);c=c.translate(o.offsetX,o.offsetY),c=c.scale(1/o.scaleX,1/o.scaleY);const u=t.createPattern(o.canvas,"repeat");return u.setTransform(c),u}}function n4({src:i,srcPos:t=0,dest:e,width:n,height:s,nonBlackColor:a=4294967295,inverseDecode:o=!1}){const c=Ge.isLittleEndian?4278190080:255,[u,h]=o?[a,c]:[c,a],f=n>>3,g=n&7,m=i.length;e=new Uint32Array(e.buffer);let y=0;for(let w=0;w<s;w++){for(const S=t+f;t<S;t++){const _=t<m?i[t]:255;e[y++]=_&128?h:u,e[y++]=_&64?h:u,e[y++]=_&32?h:u,e[y++]=_&16?h:u,e[y++]=_&8?h:u,e[y++]=_&4?h:u,e[y++]=_&2?h:u,e[y++]=_&1?h:u}if(g===0)continue;const x=t<m?i[t++]:255;for(let S=0;S<g;S++)e[y++]=x&1<<7-S?h:u}return{srcPos:t,destPos:y}}const v_=16,x_=100,i4=15,w_=10,wn=16,Fg=new DOMMatrix,jn=new Float32Array(2),Xr=new Float32Array([1/0,1/0,-1/0,-1/0]);function s4(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},i.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},i.transform=function(e,n,s,a,o,c){t.transform(e,n,s,a,o,c),this.__originalTransform(e,n,s,a,o,c)},i.setTransform=function(e,n,s,a,o,c){t.setTransform(e,n,s,a,o,c),this.__originalSetTransform(e,n,s,a,o,c)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(e){t.rotate(e),this.__originalRotate(e)},i.clip=function(e){t.clip(e),this.__originalClip(e)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,s,a,o,c){t.bezierCurveTo(e,n,s,a,o,c),this.__originalBezierCurveTo(e,n,s,a,o,c)},i.rect=function(e,n,s,a){t.rect(e,n,s,a),this.__originalRect(e,n,s,a)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class a4{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,n)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function md(i,t,e,n,s,a,o,c,u,h){const[f,g,m,y,w,x]=de(i);if(g===0&&m===0){const T=o*f+w,C=Math.round(T),k=c*y+x,R=Math.round(k),O=(o+u)*f+w,N=Math.abs(Math.round(O)-C)||1,P=(c+h)*y+x,H=Math.abs(Math.round(P)-R)||1;return i.setTransform(Math.sign(f),0,0,Math.sign(y),C,R),i.drawImage(t,e,n,s,a,0,0,N,H),i.setTransform(f,g,m,y,w,x),[N,H]}if(f===0&&y===0){const T=c*m+w,C=Math.round(T),k=o*g+x,R=Math.round(k),O=(c+h)*m+w,N=Math.abs(Math.round(O)-C)||1,P=(o+u)*g+x,H=Math.abs(Math.round(P)-R)||1;return i.setTransform(0,Math.sign(g),Math.sign(m),0,C,R),i.drawImage(t,e,n,s,a,0,0,H,N),i.setTransform(f,g,m,y,w,x),[H,N]}i.drawImage(t,e,n,s,a,o,c,u,h);const S=Math.hypot(f,g),_=Math.hypot(m,y);return[S*u,_*h]}class S_{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=mm;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=nn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Xr.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ke.FILL,e=null){const n=this.minMax.slice();if(t===Ke.STROKE){e||Zt("Stroke bounding box must include transform."),mt.singularValueDecompose2dScale(e,jn);const s=jn[0]*this.lineWidth/2,a=jn[1]*this.lineWidth/2;n[0]-=s,n[1]-=a,n[2]+=s,n[3]+=a}return n}updateClipFromPath(){const t=mt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Xr,0)}getClippedPathBoundingBox(t=Ke.FILL,e=null){return mt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function __(i,t){if(t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,s=e%wn,a=(e-s)/wn,o=s===0?a:a+1,c=i.createImageData(n,wn);let u=0,h;const f=t.data,g=c.data;let m,y,w,x;if(t.kind===Yl.GRAYSCALE_1BPP){const S=f.byteLength,_=new Uint32Array(g.buffer,0,g.byteLength>>2),T=_.length,C=n+7>>3,k=4294967295,R=Ge.isLittleEndian?4278190080:255;for(m=0;m<o;m++){for(w=m<a?wn:s,h=0,y=0;y<w;y++){const O=S-u;let N=0;const P=O>C?n:O*8-7,H=P&-8;let W=0,K=0;for(;N<H;N+=8)K=f[u++],_[h++]=K&128?k:R,_[h++]=K&64?k:R,_[h++]=K&32?k:R,_[h++]=K&16?k:R,_[h++]=K&8?k:R,_[h++]=K&4?k:R,_[h++]=K&2?k:R,_[h++]=K&1?k:R;for(;N<P;N++)W===0&&(K=f[u++],W=128),_[h++]=K&W?k:R,W>>=1}for(;h<T;)_[h++]=0;i.putImageData(c,0,m*wn)}}else if(t.kind===Yl.RGBA_32BPP){for(y=0,x=n*wn*4,m=0;m<a;m++)g.set(f.subarray(u,u+x)),u+=x,i.putImageData(c,0,y),y+=wn;m<o&&(x=n*s*4,g.set(f.subarray(u,u+x)),i.putImageData(c,0,y))}else if(t.kind===Yl.RGB_24BPP)for(w=wn,x=n*w,m=0;m<o;m++){for(m>=a&&(w=s,x=n*w),h=0,y=x;y--;)g[h++]=f[u++],g[h++]=f[u++],g[h++]=f[u++],g[h++]=255;i.putImageData(c,0,m*wn)}else throw new Error(`bad image kind: ${t.kind}`)}function A_(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,s=e%wn,a=(e-s)/wn,o=s===0?a:a+1,c=i.createImageData(n,wn);let u=0;const h=t.data,f=c.data;for(let g=0;g<o;g++){const m=g<a?wn:s;({srcPos:u}=n4({src:h,srcPos:u,dest:f,width:n,height:m,nonBlackColor:0})),i.putImageData(c,0,g*wn)}}function kl(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function bd(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}function E_(i,t){if(t)return!0;mt.singularValueDecompose2dScale(i,jn);const e=Math.fround(ui.pixelRatio*$a.PDF_TO_CSS_UNITS);return jn[0]<=e&&jn[1]<=e}const r4=["butt","round","square"],o4=["miter","round","bevel"],l4={},C_={};class eo{constructor(t,e,n,s,a,{optionalContentConfig:o,markedContentStack:c=null},u,h){this.ctx=t,this.current=new S_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=s,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=o,this.cachedCanvases=new a4(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:s=null}){const a=this.ctx.canvas.width,o=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=c,n){const u=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...de(this.compositeCtx))}this.ctx.save(),bd(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=de(this.ctx)}executeOperatorList(t,e,n,s){const a=t.argsArray,o=t.fnArray;let c=e||0;const u=a.length;if(u===c)return c;const h=u-c>w_&&typeof n=="function",f=h?Date.now()+i4:0;let g=0;const m=this.commonObjs,y=this.objs;let w;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,n),c;if(w=o[c],w!==ic.dependency)this[w].apply(this,a[c]);else for(const x of a[c]){const S=x.startsWith("g_")?m:y;if(!S.has(x))return S.get(x,n),c}if(c++,c===u)return c;if(h&&++g>w_){if(Date.now()>f)return n(),c;g=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,s=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),c=n,u=s,h="prescale1",f,g;for(;a>2&&c>1||o>2&&u>1;){let m=c,y=u;a>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/m),o>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/y),f=this.cachedCanvases.getCanvas(h,m,y),g=f.context,g.clearRect(0,0,m,y),g.drawImage(t,0,0,c,u,0,0,m,y),t=f.canvas,c=m,u=y,h=h==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:u}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,c=de(e);let u,h,f,g;if((t.bitmap||t.data)&&t.count>1){const H=t.bitmap||t.data.buffer;h=JSON.stringify(o?c:[c.slice(0,4),a]),u=this._cachedBitmapsMap.get(H),u||(u=new Map,this._cachedBitmapsMap.set(H,u));const W=u.get(h);if(W&&!o){const K=Math.round(Math.min(c[0],c[2])+c[4]),et=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:W,offsetX:K,offsetY:et}}f=W}f||(g=this.cachedCanvases.getCanvas("maskCanvas",n,s),A_(g.context,t));let m=mt.transform(c,[1/n,0,0,-1/s,0,0]);m=mt.transform(m,[1,0,0,1,0,-s]);const y=Xr.slice();mt.axialAlignedBoundingBox([0,0,n,s],m,y);const[w,x,S,_]=y,T=Math.round(S-w)||1,C=Math.round(_-x)||1,k=this.cachedCanvases.getCanvas("fillCanvas",T,C),R=k.context,O=w,N=x;R.translate(-O,-N),R.transform(...m),f||(f=this._scaleImage(g.canvas,Si(R)),f=f.img,u&&o&&u.set(h,f)),R.imageSmoothingEnabled=E_(de(R),t.interpolate),md(R,f,0,0,f.width,f.height,0,0,n,s),R.globalCompositeOperation="source-in";const P=mt.transform(Si(R),[1,0,0,1,-O,-N]);return R.fillStyle=o?a.getPattern(e,this,P,Ke.FILL):a,R.fillRect(0,0,n,s),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,k.canvas)),{canvas:k.canvas,offsetX:Math.round(O),offsetY:Math.round(N)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=r4[t]}setLineJoin(t){this.ctx.lineJoin=o4[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),kl(this.suspendedCtx,a),s4(a,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),kl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,s){const a=s[0],o=s[1],c=s[2]-a,u=s[3]-o;c===0||u===0||(this.genericComposeSMask(e.context,n,c,u,e.subtype,e.backdrop,e.transferMap,a,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,s,a,o,c,u,h,f,g){let m=t.canvas,y=u-f,w=h-g;if(o)if(y<0||w<0||y+n>m.width||w+s>m.height){const S=this.cachedCanvases.getCanvas("maskExtension",n,s),_=S.context;_.drawImage(m,-y,-w),_.globalCompositeOperation="destination-atop",_.fillStyle=o,_.fillRect(0,0,n,s),_.globalCompositeOperation="source-over",m=S.canvas,y=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(y,w,n,s),t.clip(S),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(y,w,n,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const x=new Path2D;x.rect(u,h,n,s),e.clip(x),e.globalCompositeOperation="destination-in",e.drawImage(m,y,w,n,s,u,h,n,s),e.restore()}save(){this.inSMaskMode&&kl(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&kl(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,s,a,o){this.ctx.transform(t,e,n,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){let[s]=e;if(!n){s||=e[0]=new Path2D,this[t](s);return}if(!(s instanceof Path2D)){const a=e[0]=new Path2D;for(let o=0,c=s.length;o<c;)switch(s[o++]){case fd.moveTo:a.moveTo(s[o++],s[o++]);break;case fd.lineTo:a.lineTo(s[o++],s[o++]);break;case fd.curveTo:a.bezierCurveTo(s[o++],s[o++],s[o++],s[o++],s[o++],s[o++]);break;case fd.closePath:a.closePath();break;default:At(`Unrecognized drawing path operator: ${s[o-1]}`);break}s=a}mt.axialAlignedBoundingBox(n,de(this.ctx),this.current.minMax),this[t](s)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const n=this.ctx,s=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const a=s.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=s.getPattern(n,this,Si(n),Ke.STROKE),a){const o=new Path2D;o.addPath(t,n.getTransform().invertSelf().multiplySelf(a)),t=o}this.rescaleAndStroke(t,!1),n.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Ke.STROKE,de(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const n=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const u=s.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=s.getPattern(n,this,Si(n),Ke.FILL),u){const h=new Path2D;h.addPath(t,n.getTransform().invertSelf().multiplySelf(u)),t=h}o=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(n.fill(t,"evenodd"),this.pendingEOFill=!1):n.fill(t)),o&&n.restore(),e&&this.consumePath(t,c)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=l4}eoClip(){this.pendingClip=C_}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const n=new Path2D,s=e.getTransform().invertSelf();for(const{transform:a,x:o,y:c,fontSize:u,path:h}of t)n.addPath(h,new DOMMatrix(a).preMultiplySelf(s).translate(o,c).scale(u,-u));e.clip(n),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),s=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=n.fontMatrix||mm,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&At("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const a=n.loadedName||"sans-serif",o=n.systemFontInfo?.css||`"${a}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const u=n.italic?"italic":"normal";let h=e;e<v_?h=v_:e>x_&&(h=x_),this.current.fontSizeScale=e/h,this.ctx.font=`${u} ${c} ${h}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,n){const s=new Path2D;return s.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),s}paintChar(t,e,n,s,a){const o=this.ctx,c=this.current,u=c.font,h=c.textRenderingMode,f=c.fontSize/c.fontSizeScale,g=h&nn.FILL_STROKE_MASK,m=!!(h&nn.ADD_TO_PATH_FLAG),y=c.patternFill&&!u.missingFile,w=c.patternStroke&&!u.missingFile;let x;if((u.disableFontFace||m||y||w)&&(x=u.getPathGenerator(this.commonObjs,t)),u.disableFontFace||y||w){o.save(),o.translate(e,n),o.scale(f,-f);let S;if((g===nn.FILL||g===nn.FILL_STROKE)&&(s?(S=o.getTransform(),o.setTransform(...s),o.fill(this.#n(x,S,s))):o.fill(x)),g===nn.STROKE||g===nn.FILL_STROKE)if(a){S||=o.getTransform(),o.setTransform(...a);const{a:_,b:T,c:C,d:k}=S,R=mt.inverseTransform(a),O=mt.transform([_,T,C,k,0,0],R);mt.singularValueDecompose2dScale(O,jn),o.lineWidth*=Math.max(jn[0],jn[1])/f,o.stroke(this.#n(x,S,a))}else o.lineWidth/=f,o.stroke(x);o.restore()}else(g===nn.FILL||g===nn.FILL_STROKE)&&o.fillText(t,e,n),(g===nn.STROKE||g===nn.FILL_STROKE)&&o.strokeText(t,e,n);m&&(this.pendingTextPaths||=[]).push({transform:de(o),x:e,y:n,fontSize:f,path:x})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return It(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const a=this.ctx,o=e.fontSizeScale,c=e.charSpacing,u=e.wordSpacing,h=e.fontDirection,f=e.textHScale*h,g=t.length,m=n.vertical,y=m?1:-1,w=n.defaultVMetrics,x=s*e.fontMatrix[0],S=e.textRenderingMode===nn.FILL&&!n.disableFontFace&&!e.patternFill;a.save(),e.textMatrix&&a.transform(...e.textMatrix),a.translate(e.x,e.y+e.textRise),h>0?a.scale(f,-1):a.scale(f,1);let _,T;if(e.patternFill){a.save();const N=e.fillColor.getPattern(a,this,Si(a),Ke.FILL);_=de(a),a.restore(),a.fillStyle=N}if(e.patternStroke){a.save();const N=e.strokeColor.getPattern(a,this,Si(a),Ke.STROKE);T=de(a),a.restore(),a.strokeStyle=N}let C=e.lineWidth;const k=e.textMatrixScale;if(k===0||C===0){const N=e.textRenderingMode&nn.FILL_STROKE_MASK;(N===nn.STROKE||N===nn.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=k;if(o!==1&&(a.scale(o,o),C/=o),a.lineWidth=C,n.isInvalidPDFjsFont){const N=[];let P=0;for(const H of t)N.push(H.unicode),P+=H.width;a.fillText(N.join(""),0,0),e.x+=P*x*f,a.restore(),this.compose();return}let R=0,O;for(O=0;O<g;++O){const N=t[O];if(typeof N=="number"){R+=y*N*s/1e3;continue}let P=!1;const H=(N.isSpace?u:0)+c,W=N.fontChar,K=N.accent;let et,lt,at=N.width;if(m){const L=N.vmetric||w,F=-(N.vmetric?L[1]:at*.5)*x,V=L[2]*x;at=L?-L[0]:at,et=F/o,lt=(R+V)/o}else et=R/o,lt=0;if(n.remeasure&&at>0){const L=a.measureText(W).width*1e3/s*o;if(at<L&&this.isFontSubpixelAAEnabled){const F=at/L;P=!0,a.save(),a.scale(F,1),et/=F}else at!==L&&(et+=(at-L)/2e3*s/o)}if(this.contentVisible&&(N.isInFont||n.missingFile)){if(S&&!K)a.fillText(W,et,lt);else if(this.paintChar(W,et,lt,_,T),K){const L=et+s*K.offset.x/o,F=lt-s*K.offset.y/o;this.paintChar(K.fontChar,L,F,_,T)}}const rt=m?at*x-H*h:at*x+H*h;R+=rt,P&&a.restore()}m?e.y-=R:e.x+=R*f,a.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,s=n.font,a=n.fontSize,o=n.fontDirection,c=s.vertical?1:-1,u=n.charSpacing,h=n.wordSpacing,f=n.textHScale*o,g=n.fontMatrix||mm,m=t.length,y=n.textRenderingMode===nn.INVISIBLE;let w,x,S,_;if(!(y||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),n.textMatrix&&e.transform(...n.textMatrix),e.translate(n.x,n.y+n.textRise),e.scale(f,o),w=0;w<m;++w){if(x=t[w],typeof x=="number"){_=c*x*a/1e3,this.ctx.translate(_,0),n.x+=_*f;continue}const T=(x.isSpace?h:0)+u,C=s.charProcOperatorList[x.operatorListId];C?this.contentVisible&&(this.save(),e.scale(a,a),e.transform(...g),this.executeOperatorList(C),this.restore()):At(`Type3 character "${x.operatorListId}" is not available.`);const k=[x.width,0];mt.applyTransform(k,g),S=k[0]*a+T,e.translate(S,0),n.x+=S*f}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,s,a,o){const c=new Path2D;c.rect(n,s,a-n,o-s),this.ctx.clip(c),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=this.baseTransform||de(this.ctx),s={createCanvasGraphics:a=>new eo(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Ib(t,this.ctx,s,n)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=e4(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,Si(e),Ke.SHADING);const s=Si(e);if(s){const{width:a,height:o}=e.canvas,c=Xr.slice();mt.axialAlignedBoundingBox([0,0,a,o],s,c);const[u,h,f,g]=c;this.ctx.fillRect(u,h,f-u,g-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Zt("Should not call beginInlineImage")}beginImageData(){Zt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=de(this.ctx),e)){mt.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[n,s,a,o]=e,c=new Path2D;c.rect(n,s,a-n,o-s),this.ctx.clip(c),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Ah("TODO: Support non-isolated groups."),t.knockout&&At("Knockout groups not supported.");const n=de(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Xr.slice();mt.axialAlignedBoundingBox(t.bbox,de(e),s);const a=[0,0,e.canvas.width,e.canvas.height];s=mt.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),c=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-o,1),h=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,h]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,u,h),m=g.context;m.translate(-o,-c),m.transform(...n);let y=new Path2D;const[w,x,S,_]=t.bbox;if(y.rect(w,x,S-w,_-x),t.matrix){const T=new Path2D;T.addPath(y,new DOMMatrix(t.matrix)),y=T}m.clip(y),t.smask?this.smaskStack.push({canvas:g.canvas,context:m,offsetX:o,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,c),e.save()),kl(e,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=de(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const a=Xr.slice();mt.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s,a),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,n,s,a){if(this.#t(),bd(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const o=e[2]-e[0],c=e[3]-e[1];if(a&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=c,mt.singularValueDecompose2dScale(de(this.ctx),jn);const{viewportScale:u}=this,h=Math.ceil(o*this.outputScaleX*u),f=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:g,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(jn[0],0,0,-jn[1],0,c*jn[1]),bd(this.ctx)}else{bd(this.ctx),this.endPath();const u=new Path2D;u.rect(e[0],e[1],o,c),this.ctx.clip(u)}}this.current=new S_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,s=this._createMaskCanvas(t),a=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,s=0,a,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const u=de(c);c.transform(e,n,s,a,0,0);const h=this._createMaskCanvas(t);c.setTransform(1,0,0,1,h.offsetX-u[4],h.offsetY-u[5]);for(let f=0,g=o.length;f<g;f+=2){const m=mt.transform(u,[e,n,s,a,o[f],o[f+1]]);c.drawImage(h.canvas,m[4],m[5])}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const a of t){const{data:o,width:c,height:u,transform:h}=a,f=this.cachedCanvases.getCanvas("maskCanvas",c,u),g=f.context;g.save();const m=this.getObject(o,a);A_(g,m),g.globalCompositeOperation="source-in",g.fillStyle=s?n.getPattern(g,this,Si(e),Ke.FILL):n,g.fillRect(0,0,c,u),g.restore(),e.save(),e.transform(...h),e.scale(1,-1),md(e,f.canvas,0,0,c,u,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){At("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,s){if(!this.contentVisible)return;const a=this.getObject(t);if(!a){At("Dependent image isn't ready yet");return}const o=a.width,c=a.height,u=[];for(let h=0,f=s.length;h<f;h+=2)u.push({transform:[e,0,0,n,s[h],s[h+1]],x:0,y:0,w:o,h:c});this.paintInlineImageXObjectGroup(a,u)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:s}=t,a=this.cachedCanvases.getCanvas("inlineImage",n,s),o=a.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",a.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,s=this.ctx;this.save();const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/e,-1/n);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",e,n).context;__(h,t),o=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(o,Si(s));s.imageSmoothingEnabled=E_(de(s),t.interpolate),md(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const a=t.width,o=t.height,u=this.cachedCanvases.getCanvas("inlineImage",a,o).context;__(u,t),s=this.applyTransferMapsToCanvas(u)}for(const a of e)n.save(),n.transform(...a.transform),n.scale(1,-1),md(n,s,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(n||(this.pendingClip===C_?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=de(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:s,d:a}=this.ctx.getTransform();let o,c;if(n===0&&s===0){const u=Math.abs(e),h=Math.abs(a);if(u===h)if(t===0)o=c=1/u;else{const f=u*t;o=c=f<1?1/f:1}else if(t===0)o=1/u,c=1/h;else{const f=u*t,g=h*t;o=f<1?1/f:1,c=g<1?1/g:1}}else{const u=Math.abs(e*a-n*s),h=Math.hypot(e,n),f=Math.hypot(s,a);if(t===0)o=f/u,c=h/u;else{const g=t*u;o=f>g?f/g:1,c=h>g?h/g:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:s}}=this,[a,o]=this.getScaleForStroking();if(a===o){n.lineWidth=(s||1)*a,n.stroke(t);return}const c=n.getLineDash();e&&n.save(),n.scale(a,o),Fg.a=1/a,Fg.d=1/o;const u=new Path2D;if(u.addPath(t,Fg),c.length>0){const h=Math.max(a,o);n.setLineDash(c.map(f=>f/h)),n.lineDashOffset/=h}n.lineWidth=s||1,n.stroke(u),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const i in ic)eo.prototype[i]!==void 0&&(eo.prototype[ic[i]]=eo.prototype[i]);class Gs{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class c4{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Yr=Symbol("INTERNAL");class u4{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:n,usage:s,rbGroups:a}){this.#t=!!(t&Pn.DISPLAY),this.#e=!!(t&Pn.PRINT),this.name=e,this.intent=n,this.usage=s,this.rbGroups=a}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==Yr&&Zt("Internal method `_setVisible` called."),this.#n=n,this.#i=e}}class d4{#t=null;#e=new Map;#n=null;#i=null;constructor(t,e=Pn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const n of t.groups)this.#e.set(n.id,new u4(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(Yr,!1);for(const n of t.on)this.#e.get(n)._setVisible(Yr,!0);for(const n of t.off)this.#e.get(n)._setVisible(Yr,!1);this.#n=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let s=1;s<e;s++){const a=t[s];let o;if(Array.isArray(a))o=this.#a(a);else if(this.#e.has(a))o=this.#e.get(a).visible;else return At(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Ah("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(At(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return At(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return At(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return At(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return At(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return At(`Unknown optional content policy ${t.policy}.`),!0}return At(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const s=this.#e.get(t);if(!s){At(`Optional content group not found: ${t}`);return}if(n&&e&&s.rbGroups.length)for(const a of s.rbGroups)for(const o of a)o!==t&&this.#e.get(o)?._setVisible(Yr,!1,!0);s._setVisible(Yr,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const a=this.#e.get(s);if(a)switch(n){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!a.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new WC;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class h4{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Oe(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:o,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=c,a?.length>0){const u=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((u,h)=>{this._onReceiveData({begin:u,chunk:h})}),t.addProgressListener((u,h)=>{this._onProgress({loaded:u,total:h})}),t.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(n),!0)});Oe(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Oe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new f4(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new p4(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class f4{constructor(t,e,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=Ch(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class p4{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function g4(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let f=c(e);return f=unescape(f),f=u(f),f=h(f),a(f)}if(e=o(i),e){const f=h(e);return a(f)}if(e=n("filename","i").exec(i),e){e=e[1];let f=c(e);return f=h(f),a(f)}function n(f,g){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function s(f,g){if(f){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const m=new TextDecoder(f,{fatal:!0}),y=xc(g);g=m.decode(y),t=!1}catch{}}return g}function a(f){return t&&/[\x80-\xff]/.test(f)&&(f=s("utf-8",f),t&&(f=s("iso-8859-1",f))),f}function o(f){const g=[];let m;const y=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=y.exec(f))!==null;){let[,x,S,_]=m;if(x=parseInt(x,10),x in g){if(x===0)break;continue}g[x]=[S,_]}const w=[];for(let x=0;x<g.length&&x in g;++x){let[S,_]=g[x];_=c(_),S&&(_=unescape(_),x===0&&(_=u(_))),w.push(_)}return w.join("")}function c(f){if(f.startsWith('"')){const g=f.slice(1).split('\\"');for(let m=0;m<g.length;++m){const y=g[m].indexOf('"');y!==-1&&(g[m]=g[m].slice(0,y),g.length=m+1),g[m]=g[m].replaceAll(/\\(.)/g,"$1")}f=g.join('"')}return f}function u(f){const g=f.indexOf("'");if(g===-1)return f;const m=f.slice(0,g),w=f.slice(g+1).replace(/^[^']*'/,"");return s(m,w)}function h(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,m,y,w){if(y==="q"||y==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,S){return String.fromCharCode(parseInt(S,16))}),s(m,w);try{w=atob(w)}catch{}return s(m,w)})}return""}function eT(i,t){const e=new Headers;if(!i||!t||typeof t!="object")return e;for(const n in t){const s=t[n];s!==void 0&&e.append(n,s)}return e}function Th(i){return URL.parse(i)?.origin??null}function nT({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(i.get("Content-Length"),10);return!Number.isInteger(a)||(s.suggestedLength=a,a<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function iT(i){const t=i.get("Content-Disposition");if(t){let e=g4(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Ch(e))return e}return null}function Ec(i,t){return new sc(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i,i===404||i===0&&t.startsWith("file:"))}function sT(i){return i===200||i===206}function aT(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function rT(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(At(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class m4{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=eT(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Oe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b4(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new y4(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class b4{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),s=e.url;fetch(s,aT(n,this._withCredentials,this._abortController)).then(a=>{if(t._responseOrigin=Th(a.url),!sT(a.status))throw Ec(a.status,s);this._reader=a.body.getReader(),this._headersCapability.resolve();const o=a.headers,{allowRangeRequests:c,suggestedLength:u}=nT({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=iT(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new us("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:rT(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class y4{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${n-1}`);const o=s.url;fetch(o,aT(a,this._withCredentials,this._abortController)).then(c=>{const u=Th(c.url);if(u!==t._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${t._responseOrigin}".`);if(!sT(c.status))throw Ec(c.status,o);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:rT(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const zg=200,Bg=206;function v4(i){const t=i.response;return typeof t!="string"?t:xc(t).buffer}class x4{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=eT(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,o]of this.headers)e.setRequestHeader(a,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=Bg):s.expectedStatus=zg,e.responseType="arraybuffer",Oe(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){n.onError(s.status);return}const a=s.status||zg;if(!(a===zg&&n.expectedStatus===Bg)&&a!==n.expectedStatus){n.onError(s.status);return}const c=v4(s);if(a===Bg){const u=s.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);h?n.onDone({begin:parseInt(h[1],10),chunk:c}):(At('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class w4{constructor(t){this._source=t,this._manager=new x4(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Oe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new S4(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new _4(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class S4{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Th(e.responseURL);const n=e.getAllResponseHeaders(),s=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[u,...h]=c.split(": ");return[u,h.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:o}=nT({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=iT(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ec(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _4{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Th(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Ec(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const A4=/^[a-z][a-z0-9\-+.]+:/i;function E4(i){if(A4.test(i))return new URL(i);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(i))}class C4{constructor(t){this.source=t,this.url=E4(t.url),Oe(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Oe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new T4(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new R4(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class T4{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=Ec(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new us("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class R4{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Dl=Symbol("INITIAL_DATA");class oT{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Dl}}get(t,e=null){if(e){const s=this.#e(t);return s.promise.then(()=>e(s.data)),null}const n=this.#t[t];if(!n||n.data===Dl)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==Dl}delete(t){const e=this.#t[t];return!e||e.data===Dl?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Dl&&(yield[t,e])}}}const M4=1e5,T_=30;let ac=class Zn{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#o=0;#r=0;#d=null;#l=null;#h=0;#u=0;#f=Object.create(null);#p=[];#g=null;#c=[];#m=new WeakMap;#b=null;static#y=new Map;static#x=new Map;static#w=new WeakMap;static#S=null;static#E=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#g=t;else if(typeof t=="object")this.#g=new ReadableStream({start(u){u.enqueue(t),u.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#u=n.scale*ui.pixelRatio,this.#h=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:a,pageX:o,pageY:c}=n.rawDims;this.#b=[1,0,0,-1,-o,c+a],this.#r=s,this.#o=a,Zn.#D(),Qs(e,n),this.#t.promise.finally(()=>{Zn.#E.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Ge.platform;return It(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#d.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#T(e.items),t()},this.#t.reject)};return this.#d=this.#g.getReader(),Zn.#E.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*ui.pixelRatio,s=t.rotation;if(s!==this.#h&&(e?.(),this.#h=s,Qs(this.#l,{rotation:s})),n!==this.#u){e?.(),this.#u=n;const a={div:null,properties:null,ctx:Zn.#R(this.#a)};for(const o of this.#c)a.properties=this.#m.get(o),a.div=o,this.#_(a)}}cancel(){const t=new us("TextLayer task cancelled.");this.#d?.cancel(t).catch(()=>{}),this.#d=null,this.#t.reject(t)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#p}#T(t){if(this.#n)return;this.#s.ctx??=Zn.#R(this.#a);const e=this.#c,n=this.#p;for(const s of t){if(e.length>M4){At("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const a=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),s.id!==null&&this.#e.setAttribute("id",`${s.id}`),a.append(this.#e)}else s.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(s.str),this.#M(s)}}#M(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#c.push(e);const s=mt.transform(this.#b,t.transform);let a=Math.atan2(s[1],s[0]);const o=this.#f[t.fontName];o.vertical&&(a+=Math.PI/2);let c=this.#i&&o.fontSubstitution||o.fontFamily;c=Zn.fontFamilyMap.get(c)||c;const u=Math.hypot(s[2],s[3]),h=u*Zn.#O(c,o,this.#a);let f,g;a===0?(f=s[4],g=s[5]-h):(f=s[4]+h*Math.sin(a),g=s[5]-h*Math.cos(a));const m="calc(var(--total-scale-factor) *",y=e.style;this.#e===this.#l?(y.left=`${(100*f/this.#r).toFixed(2)}%`,y.top=`${(100*g/this.#o).toFixed(2)}%`):(y.left=`${m}${f.toFixed(2)}px)`,y.top=`${m}${g.toFixed(2)}px)`),y.fontSize=`${m}${(Zn.#S*u).toFixed(2)}px)`,y.fontFamily=c,n.fontSize=u,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),a!==0&&(n.angle=a*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const x=Math.abs(t.transform[0]),S=Math.abs(t.transform[3]);x!==S&&Math.max(x,S)/Math.min(x,S)>1.5&&(w=!0)}if(w&&(n.canvasWidth=o.vertical?t.height:t.width),this.#m.set(e,n),this.#s.div=e,this.#s.properties=n,this.#_(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),this.#e.append(x)}}#_(t){const{div:e,properties:n,ctx:s}=t,{style:a}=e;let o="";if(Zn.#S>1&&(o=`scale(${1/Zn.#S})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=a,{canvasWidth:u,fontSize:h}=n;Zn.#C(s,h*this.#u,c);const{width:f}=s.measureText(e.textContent);f>0&&(o=`scaleX(${u*this.#u/f}) ${o}`)}n.angle!==0&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(a.transform=o)}static cleanup(){if(!(this.#E.size>0)){this.#y.clear();for(const{canvas:t}of this.#x.values())t.remove();this.#x.clear()}}static#R(t=null){let e=this.#x.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#x.set(t,e),this.#w.set(e,{size:0,family:""})}return e}static#C(t,e,n){const s=this.#w.get(t);e===s.size&&n===s.family||(t.font=`${e}px ${n}`,s.size=e,s.family=n)}static#D(){if(this.#S!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#S=t.getBoundingClientRect().height,t.remove()}static#O(t,e,n){const s=this.#y.get(t);if(s)return s;const a=this.#R(n);a.canvas.width=a.canvas.height=T_,this.#C(a,T_,t);const o=a.measureText(""),c=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let h=.8;return c?h=c/(c+u):(Ge.platform.isFirefox&&At("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?h=e.ascent:e.descent&&(h=1+e.descent)),this.#y.set(t,h),h}};class rc{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function s(a){if(!a)return;let o=null;const c=a.name;if(c==="#text")o=a.value;else if(rc.shouldBuildText(c))a?.attributes?.textContent?o=a.attributes.textContent:a.value&&(o=a.value);else return;if(o!==null&&e.push({str:o}),!!a.children)for(const u of a.children)s(u)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const k4=100;function jb(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new Fb,{docId:e}=t,n=i.url?BH(i.url):null,s=i.data?HH(i.data):null,a=i.httpHeaders||null,o=i.withCredentials===!0,c=i.password??null,u=i.range instanceof zb?i.range:null,h=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let f=i.worker instanceof uo?i.worker:null;const g=i.verbosity,m=typeof i.docBaseUrl=="string"&&!Sc(i.docBaseUrl)?i.docBaseUrl:null,y=pd(i.cMapUrl),w=i.cMapPacked!==!1,x=i.CMapReaderFactory||(un?YH:g_),S=pd(i.iccUrl),_=pd(i.standardFontDataUrl),T=i.StandardFontDataFactory||(un?XH:m_),C=pd(i.wasmUrl),k=i.WasmFactory||(un?KH:b_),R=i.stopAtErrors!==!0,O=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,N=i.isEvalSupported!==!1,P=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!un,H=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!un&&(Ge.platform.isFirefox||!globalThis.chrome),W=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,K=typeof i.disableFontFace=="boolean"?i.disableFontFace:un,et=i.fontExtraProperties===!0,lt=i.enableXfa===!0,at=i.ownerDocument||globalThis.document,rt=i.disableRange===!0,L=i.disableStream===!0,F=i.disableAutoFetch===!0,V=i.pdfBug===!0,ut=i.CanvasFactory||(un?WH:GH),I=i.FilterFactory||(un?qH:$H),Z=i.enableHWA===!0,B=i.useWasm!==!1,G=u?u.length:i.length??NaN,J=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!un&&!K,st=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(x===g_&&T===m_&&k===b_&&y&&_&&C&&Fl(y,document.baseURI)&&Fl(_,document.baseURI)&&Fl(C,document.baseURI)),ot=null;SH(g);const ct={canvasFactory:new ut({ownerDocument:at,enableHWA:Z}),filterFactory:new I({docId:e,ownerDocument:at}),cMapReaderFactory:st?null:new x({baseUrl:y,isCompressed:w}),standardFontDataFactory:st?null:new T({baseUrl:_}),wasmFactory:st?null:new k({baseUrl:C})};f||(f=uo.create({verbosity:g,port:Gs.workerPort}),t._worker=f);const bt={docId:e,apiVersion:"5.3.93",data:s,password:c,disableAutoFetch:F,rangeChunkSize:h,length:G,docBaseUrl:m,enableXfa:lt,evaluatorOptions:{maxImageSize:O,disableFontFace:K,ignoreErrors:R,isEvalSupported:N,isOffscreenCanvasSupported:P,isImageDecoderSupported:H,canvasMaxAreaInBytes:W,fontExtraProperties:et,useSystemFonts:J,useWasm:B,useWorkerFetch:st,cMapUrl:y,iccUrl:S,standardFontDataUrl:_,wasmUrl:C}},Et={ownerDocument:at,pdfBug:V,styleElement:ot,loadingParams:{disableAutoFetch:F,enableXfa:lt}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Mt=f.messageHandler.sendWithPromise("GetDocRequest",bt,s?[s.buffer]:null);let Ee;if(u)Ee=new h4(u,{disableRange:rt,disableStream:L});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Ce=Fl(n)?m4:un?C4:w4;Ee=new Ce({url:n,length:G,httpHeaders:a,withCredentials:o,rangeChunkSize:h,disableRange:rt,disableStream:L})}return Mt.then(Ce=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Rt=new zl(e,Ce,f.port),Yt=new N4(Rt,t,Ee,Et,ct);t._transport=Yt,Rt.send("Ready",null)})}).catch(t._capability.reject),t}class Fb{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Fb.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let zb=class{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#a=[];constructor(t,e,n=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=s}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#a)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#i)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Zt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class D4{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return It(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class O4{#t=!1;constructor(t,e,n,s=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=s?new h_:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new oT,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:a=!1}={}){return new wc({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return It(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:s=Di.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:f=null,isEditing:g=!1}){this._stats?.time("Overall");const m=this._transport.getRenderingIntent(n,s,f,g),{renderingIntent:y,cacheKey:w}=m;this.#t=!1,c||=this._transport.getOptionalContentConfig(y);let x=this._intentStates.get(w);x||(x=Object.create(null),this._intentStates.set(w,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const S=!!(y&Pn.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(m));const _=k=>{x.renderTasks.delete(T),S&&(this.#t=!0),this.#e(),k?(T.capability.reject(k),this._abortOperatorList({intentState:x,reason:k instanceof Error?k:new Error(k)})):T.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},T=new Kr({callback:_,params:{canvasContext:t,viewport:e,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:h});(x.renderTasks||=new Set).add(T);const C=T.task;return Promise.all([x.displayReadyCapability.promise,c]).then(([k,R])=>{if(this.destroyed){_();return}if(this._stats?.time("Rendering"),!(R.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");T.initializeGraphics({transparency:k,optionalContentConfig:R}),T.operatorListChanged()}).catch(_),C}getOperatorList({intent:t="display",annotationMode:e=Di.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(t,e,n,s,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>rc.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,s){function a(){o.read().then(function({value:u,done:h}){if(h){n(c);return}c.lang??=u.lang,Object.assign(c.styles,u.styles),c.items.push(...u.items),a()},s)}const o=e.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new h_),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,s=t.length;n<s;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:s}){const{map:a,transfer:o}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:s},o).getReader(),h=this._intentStates.get(e);h.streamReader=u;const f=()=>{u.read().then(({value:g,done:m})=>{if(m){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,h),f())},g=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const m of h.renderTasks)m.operatorListChanged();this.#e()}if(h.displayReadyCapability)h.displayReadyCapability.reject(g);else if(h.opListReadCapability)h.opListReadCapability.reject(g);else throw g}})};f()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Eh){let s=k4;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new us(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,a]of this._intentStates)if(a===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}var Fs,oi,as,Oa,th,Na,La,dn,Dd,lT,cT,Bl,so,Od;const le=class le{constructor({name:t=null,port:e=null,verbosity:n=_H()}={}){yi(this,dn);yi(this,Fs,Promise.withResolvers());yi(this,oi,null);yi(this,as,null);yi(this,Oa,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(oe(le,La).has(e))throw new Error("Cannot use more than one PDFWorker per port.");oe(le,La).set(e,this),vi(this,dn,lT).call(this,e)}else vi(this,dn,cT).call(this)}get promise(){return oe(this,Fs).promise}get port(){return oe(this,as)}get messageHandler(){return oe(this,oi)}destroy(){this.destroyed=!0,oe(this,Oa)?.terminate(),bn(this,Oa,null),oe(le,La).delete(oe(this,as)),bn(this,as,null),oe(this,oi)?.destroy(),bn(this,oi,null)}static create(t){const e=oe(this,La).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new le(t)}static get workerSrc(){if(Gs.workerSrc)return Gs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return It(this,"_setupFakeWorkerGlobal",(async()=>oe(this,so,Od)?oe(this,so,Od):(await import(this.workerSrc)).WorkerMessageHandler)())}};Fs=new WeakMap,oi=new WeakMap,as=new WeakMap,Oa=new WeakMap,th=new WeakMap,Na=new WeakMap,La=new WeakMap,dn=new WeakSet,Dd=function(){oe(this,Fs).resolve(),oe(this,oi).send("configure",{verbosity:this.verbosity})},lT=function(t){bn(this,as,t),bn(this,oi,new zl("main","worker",t)),oe(this,oi).on("ready",()=>{}),vi(this,dn,Dd).call(this)},cT=function(){if(oe(le,Na)||oe(le,so,Od)){vi(this,dn,Bl).call(this);return}let{workerSrc:t}=le;try{le._isSameOrigin(window.location,t)||(t=le._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new zl("main","worker",e),s=()=>{a.abort(),n.destroy(),e.terminate(),this.destroyed?oe(this,Fs).reject(new Error("Worker was destroyed")):vi(this,dn,Bl).call(this)},a=new AbortController;e.addEventListener("error",()=>{oe(this,Oa)||s()},{signal:a.signal}),n.on("test",c=>{if(a.abort(),this.destroyed||!c){s();return}bn(this,oi,n),bn(this,as,e),bn(this,Oa,e),vi(this,dn,Dd).call(this)}),n.on("ready",c=>{if(a.abort(),this.destroyed){s();return}try{o()}catch{vi(this,dn,Bl).call(this)}});const o=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};o();return}catch{Ah("The worker has been disabled.")}vi(this,dn,Bl).call(this)},Bl=function(){oe(le,Na)||(At("Setting up fake worker."),bn(le,Na,!0)),le._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){oe(this,Fs).reject(new Error("Worker was destroyed"));return}const e=new VH;bn(this,as,e);const n=`fake${Ix(le,th)._++}`,s=new zl(n+"_worker",n,e);t.setup(s,e),bn(this,oi,new zl(n,n+"_worker",e)),vi(this,dn,Dd).call(this)}).catch(t=>{oe(this,Fs).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},so=new WeakSet,Od=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},yi(le,so),yi(le,th,0),yi(le,Na,!1),yi(le,La,new WeakMap),un&&(bn(le,Na,!0),Gs.workerSrc||="./pdf.worker.mjs"),le._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const s=new URL(e,n);return n.origin===s.origin},le._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},le.fromPort=t=>{if(OH("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return le.create(t)};let uo=le;class N4{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#a=null;constructor(t,e,n,s,a){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new oT,this.fontLoader=new FH({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,s),s}get annotationStorage(){return It(this,"annotationStorage",new Nb)}getRenderingIntent(t,e=Di.ENABLE,n=null,s=!1,a=!1){let o=Pn.DISPLAY,c=bm;switch(t){case"any":o=Pn.ANY;break;case"display":break;case"print":o=Pn.PRINT;break;default:At(`getRenderingIntent - invalid intent: ${t}`)}const u=o&Pn.PRINT&&n instanceof YC?n:this.annotationStorage;switch(e){case Di.DISABLE:o+=Pn.ANNOTATIONS_DISABLE;break;case Di.ENABLE:break;case Di.ENABLE_FORMS:o+=Pn.ANNOTATIONS_FORMS;break;case Di.ENABLE_STORAGE:o+=Pn.ANNOTATIONS_STORAGE,c=u.serializable;break;default:At(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(o+=Pn.IS_EDITING),a&&(o+=Pn.OPLIST);const{ids:h,hash:f}=u.modifiedIds,g=[o,c.hash,f];return{renderingIntent:o,cacheKey:g.join("_"),annotationStorageSerializable:c,modifiedIds:h}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),ac.cleanup(),this._networkStream?.cancelAllRequests(new us("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,s)=>{Oe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},s.onPull=()=>{this._fullReader.read().then(function({value:a,done:o}){if(o){s.close();return}Oe(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{this._fullReader.cancel(a),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:a,contentLength:o}=this._fullReader;return(!s||!a)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{e.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:a,contentLength:o}}),t.on("GetRangeReader",(n,s)=>{Oe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){s.close();return}s.onPull=()=>{a.read().then(function({value:o,done:c}){if(c){s.close();return}Oe(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{a.cancel(o),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new D4(n,this))}),t.on("DocException",n=>{e._capability.reject(vn(n))}),t.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw vn(n);const s=a=>{a instanceof Error?this.#a.reject(a):this.#a.resolve({password:a})};e.onPassword(s,n.code)}catch(s){this.#a.reject(s)}return this.#a.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,a])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":if("error"in a){const h=a.error;At(`Error during font loading: ${h}`),this.commonObjs.resolve(n,h);break}const o=this._params.pdfBug&&globalThis.FontInspector?.enabled?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,c=new zH(a,o);this.fontLoader.bind(c).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:u}=a;Oe(u,"The imageRef must be defined.");for(const h of this.#e.values())for(const[,f]of h.objs)if(f?.ref===u)return f.dataLen?(this.commonObjs.resolve(n,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,a,o])=>{if(this.destroyed)return;const c=this.#e.get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){o?.bitmap?.close();return}switch(a){case"Image":case"Pattern":c.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[n.type];if(!s)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&At("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#n.get(e);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#i.set(a.refStr,t);const o=new O4(e,a,this,this._params.pdfBug);return this.#e.set(e,o),o});return this.#n.set(e,s),s}getPageIndex(t){return ym(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new d4(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(s=>({info:s[0],metadata:s[1]?new c4(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),ac.cleanup()}}cachedPageNumber(t){if(!ym(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}}class L4{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Kr{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:s,annotationCanvasMap:a,operatorList:o,pageIndex:c,canvasFactory:u,filterFactory:h,useRequestAnimationFrame:f=!1,pdfBug:g=!1,pageColors:m=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=h,this._pdfBug=g,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new L4(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Kr.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Kr.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:a,background:o}=this.params;this.gfx=new eo(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Kr.#e.delete(this._canvas),t||=new Eh(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Kr.#e.delete(this._canvas),this.callback())))}}const uT="5.3.93",dT="cbeef3233";function R_(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function Ol(i){return Math.max(0,Math.min(255,255*i))}class M_{static CMYK_G([t,e,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Ol(t),[t,t,t]}static G_HTML([t]){const e=R_(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Ol)}static RGB_HTML(t){return`#${t.map(R_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,n,s]){return[Ol(1-Math.min(1,t+s)),Ol(1-Math.min(1,n+s)),Ol(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const s=1-t,a=1-e,o=1-n,c=Math.min(s,a,o);return["CMYK",s,a,o,c]}}class P4{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Zt("Abstract method `_createSVG` called.")}}class oc extends P4{_createSVG(t){return document.createElementNS(is,t)}}class Bb{static setupStorage(t,e,n,s,a){const o=s.getValue(e,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),a==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?t.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",c=>{s.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),a==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const c of n.children)c.attributes.value===o.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const u=c.target.options,h=u.selectedIndex===-1?"":u[u.selectedIndex].value;s.setValue(e,{value:h})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:s,linkService:a}){const{attributes:o}=e,c=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[u,h]of Object.entries(o))if(h!=null)switch(u){case"class":h.length&&t.setAttribute(u,h.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",h);break;case"style":Object.assign(t.style,h);break;case"textContent":t.textContent=h;break;default:(!c||u!=="href"&&u!=="newWindow")&&t.setAttribute(u,h)}c&&a.addLinkAttributes(t,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(t,o.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,s=t.xfaHtml,a=t.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:a,linkService:n});const c=a!=="richText",u=t.div;if(u.append(o),t.viewport){const g=`matrix(${t.viewport.transform.join(",")})`;u.style.transform=g}c&&u.setAttribute("class","xfaLayer xfaFont");const h=[];if(s.children.length===0){if(s.value){const g=document.createTextNode(s.value);o.append(g),c&&rc.shouldBuildText(s.name)&&h.push(g)}return{textDivs:h}}const f=[[s,-1,o]];for(;f.length>0;){const[g,m,y]=f.at(-1);if(m+1===g.children.length){f.pop();continue}const w=g.children[++f.at(-1)[1]];if(w===null)continue;const{name:x}=w;if(x==="#text"){const _=document.createTextNode(w.value);h.push(_),y.append(_);continue}const S=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,x):document.createElement(x);if(y.append(S),w.attributes&&this.setAttributes({html:S,element:w,storage:e,intent:a,linkService:n}),w.children?.length>0)f.push([w,-1,S]);else if(w.value){const _=document.createTextNode(w.value);c&&rc.shouldBuildText(x)&&h.push(_),S.append(_)}}for(const g of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:h}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const I4=9,qa=new WeakSet;class k_{static create(t){switch(t.data.annotationType){case xe.LINK:return new hT(t);case xe.TEXT:return new j4(t);case xe.WIDGET:switch(t.data.fieldType){case"Tx":return new F4(t);case"Btn":return t.data.radioButton?new fT(t):t.data.checkBox?new B4(t):new H4(t);case"Ch":return new U4(t);case"Sig":return new z4(t)}return new Xa(t);case xe.POPUP:return new xm(t);case xe.FREETEXT:return new pT(t);case xe.LINE:return new G4(t);case xe.SQUARE:return new $4(t);case xe.CIRCLE:return new q4(t);case xe.POLYLINE:return new gT(t);case xe.CARET:return new Y4(t);case xe.INK:return new Hb(t);case xe.POLYGON:return new W4(t);case xe.HIGHLIGHT:return new mT(t);case xe.UNDERLINE:return new X4(t);case xe.SQUIGGLY:return new K4(t);case xe.STRIKEOUT:return new Q4(t);case xe.STAMP:return new bT(t);case xe.FILEATTACHMENT:return new Z4(t);default:return new Ae(t)}}}class Ae{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ae._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#i(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:e},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:o,pageX:c,pageY:u}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-c)/a}%`,e.top=`${100*(o-t[3]+u)/o}%`,s===0?(e.width=`${100*(t[2]-t[0])/a}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(s)}_createContainer(t){const{data:e,parent:{page:n,viewport:s}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof Xa||(a.tabIndex=0);const{style:o}=a;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof xm){const{rotation:x}=e;return!e.hasOwnCanvas&&x!==0&&this.setRotation(x,a),a}const{width:c,height:u}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const x=e.borderStyle.horizontalCornerRadius,S=e.borderStyle.verticalCornerRadius;if(x>0||S>0){const T=`calc(${x}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;o.borderRadius=T}else if(this instanceof fT){const T=`calc(${c}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;o.borderRadius=T}switch(e.borderStyle.style){case Wr.SOLID:o.borderStyle="solid";break;case Wr.DASHED:o.borderStyle="dashed";break;case Wr.BEVELED:At("Unimplemented border style: beveled");break;case Wr.INSET:At("Unimplemented border style: inset");break;case Wr.UNDERLINE:o.borderBottomStyle="solid";break}const _=e.borderColor||null;_?(this.#e=!0,o.borderColor=mt.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):o.borderWidth=0}const h=mt.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:f,pageHeight:g,pageX:m,pageY:y}=s.rawDims;o.left=`${100*(h[0]-m)/f}%`,o.top=`${100*(h[1]-y)/g}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(o.width=`${100*c/f}%`,o.height=`${100*u/g}%`):this.setRotation(w,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims;let{width:a,height:o}=this;t%180!==0&&([a,o]=[o,a]),e.style.width=`${100*a/n}%`,e.style.height=`${100*o/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,s)=>{const a=s.detail[e],o=a[0],c=a.slice(1);s.target.style[n]=M_[`${o}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:M_[`${o}_rgb`](c)})};return It(this,"_commonActions",{display:e=>{const{display:n}=e.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const s of Object.keys(e.detail))(t[s]||n[s])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[s,a]of Object.entries(e)){const o=n[s];if(o){const c={detail:{[s]:a},target:t};o(c),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,s,a]=this.data.rect.map(x=>Math.fround(x));if(t.length===8){const[x,S,_,T]=t.subarray(2,6);if(s===x&&a===S&&e===_&&n===T)return}const{style:o}=this.container;let c;if(this.#e){const{borderColor:x,borderWidth:S}=o;o.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const u=s-e,h=a-n,{svgFactory:f}=this,g=f.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const m=f.createElement("defs");g.append(m);const y=f.createElement("clipPath"),w=`clippath_${this.data.id}`;y.setAttribute("id",w),y.setAttribute("clipPathUnits","objectBoundingBox"),m.append(y);for(let x=2,S=t.length;x<S;x+=8){const _=t[x],T=t[x+1],C=t[x+2],k=t[x+3],R=f.createElement("rect"),O=(C-e)/u,N=(a-T)/h,P=(_-C)/u,H=(T-k)/h;R.setAttribute("x",O),R.setAttribute("y",N),R.setAttribute("width",P),R.setAttribute("height",H),y.append(R),c?.push(`<rect vector-effect="non-scaling-stroke" x="${O}" y="${N}" width="${P}" height="${H}"/>`)}this.#e&&(c.push("</g></svg>')"),o.backgroundImage=c.join("")),this.container.append(g),this.container.style.clipPath=`url(#${w})`}_createPopup(){const{data:t}=this,e=this.#n=new xm({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){Zt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:a,id:o,exportValues:c}of s){if(a===-1||o===e)continue;const u=typeof c=="string"?c:null,h=document.querySelector(`[data-element-id="${o}"]`);if(h&&!qa.has(h)){At(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:u,domElement:h})}return n}for(const s of document.getElementsByName(t)){const{exportValue:a}=s,o=s.getAttribute("data-element-id");o!==e&&qa.has(s)&&n.push({id:o,exportValue:a,domElement:s})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class hT extends Ae{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let s=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(n,t.action),s=!0):t.attachment?(this.#e(n,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(this.#n(n,t.setOCGState),s=!0):t.dest?(this._bindLink(n,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),s=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(n,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,n=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,n),!1),this.#t()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(e.actions)){const a=n.get(s);a&&(t[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:s}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){At('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:s,refs:a,include:o}=e,c=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const g of s){const m=this._fieldObjects[g]||[];for(const{id:y}of m)f.add(y)}for(const g of Object.values(this._fieldObjects))for(const m of g)f.has(m.id)===o&&c.push(m)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,h=[];for(const f of c){const{id:g}=f;switch(h.push(g),f.type){case"text":{const y=f.defaultValue||"";u.setValue(g,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;u.setValue(g,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";u.setValue(g,{value:y});break}default:continue}const m=document.querySelector(`[data-element-id="${g}"]`);if(m){if(!qa.has(m)){At(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}}),!1}}}class j4 extends Ae{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Xa extends Ae{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ge.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,s,a){n.includes("mouse")?t.addEventListener(n,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(n,o=>{if(n==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(o)}})})}_setEventListeners(t,e,n,s){for(const[a,o]of n)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,a,o,s),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":mt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||I4,a=t.style;let o;const c=2,u=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(h/(Ng*s))||1,g=h/f;o=Math.min(s,u(g/Ng))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c);o=Math.min(s,u(h/Ng))}a.fontSize=`calc(${o}px * var(--total-scale-factor))`,a.color=mt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class F4 extends Xa{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,s){const a=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=n),a.setValue(o.id,{[s]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=t.getValue(e,{value:this.data.fieldValue});let a=s.value||"";const o=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;o&&a.length>o&&(a=a.slice(0,o));let c=s.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??a,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??a),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),qa.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const h=this.data.dateFormat||this.data.timeFormat;h&&(n.title=h),this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",g=>{t.setValue(e,{value:g.target.value}),this.setPropertyOnSiblings(n,"value",g.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",g=>{const m=this.data.defaultFieldValue??"";n.value=u.userValue=m,u.formattedValue=null});let f=g=>{const{formattedValue:m}=u;m!=null&&(g.target.value=m),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",m=>{if(u.focused)return;const{target:y}=m;u.userValue&&(y.value=u.userValue),u.lastCommittedValue=y.value,u.commitKey=1,this.data.actions?.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const y={value(w){u.userValue=w.detail.value??"",t.setValue(e,{value:u.userValue.toString()}),w.target.value=u.userValue},formattedValue(w){const{formattedValue:x}=w.detail;u.formattedValue=x,x!=null&&w.target!==document.activeElement&&(w.target.value=x),t.setValue(e,{formattedValue:x})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:x}=w.detail,{target:S}=w;if(x===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",x);let _=u.userValue;!_||_.length<=x||(_=_.slice(0,x),S.value=u.userValue=_,t.setValue(e,{value:_}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(y,m)}),n.addEventListener("keydown",m=>{u.commitKey=1;let y=-1;if(m.key==="Escape"?y=0:m.key==="Enter"&&!this.data.multiLine?y=2:m.key==="Tab"&&(u.commitKey=3),y===-1)return;const{value:w}=m.target;u.lastCommittedValue!==w&&(u.lastCommittedValue=w,u.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:y,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const g=f;f=null,n.addEventListener("blur",m=>{if(!u.focused||!m.relatedTarget)return;this.data.actions?.Blur||(u.focused=!1);const{value:y}=m.target;u.userValue=y,u.lastCommittedValue!==y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:y,willCommit:!0,commitKey:u.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}),g(m)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",m=>{u.lastCommittedValue=null;const{data:y,target:w}=m,{value:x,selectionStart:S,selectionEnd:_}=w;let T=S,C=_;switch(m.inputType){case"deleteWordBackward":{const k=x.substring(0,S).match(/\w*[^\w]*$/);k&&(T-=k[0].length);break}case"deleteWordForward":{const k=x.substring(S).match(/^[^\w]*\w*/);k&&(C+=k[0].length);break}case"deleteContentBackward":S===_&&(T-=1);break;case"deleteContentForward":S===_&&(C+=1);break}m.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,change:y||"",willCommit:!1,selStart:T,selEnd:C}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(f&&n.addEventListener("blur",f),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing=`calc(${m}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class z4 extends Xa{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class B4 extends Xa{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return qa.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=0,a.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const h of this._getElementsByName(c,n)){const f=u&&h.exportValue===e.exportValue;h.domElement&&(h.domElement.checked=f),t.setValue(h.id,{value:f})}t.setValue(n,{value:u})}),a.addEventListener("resetform",o=>{const c=e.defaultFieldValue||"Off";o.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",o=>{const c={value(u){u.target.checked=u.detail.value!=="Off",t.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class fT extends Xa{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(n,{value:s})),s)for(const o of this._getElementsByName(e.fieldName,n))t.setValue(o.id,{value:!1});const a=document.createElement("input");if(qa.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const h of this._getElementsByName(c,n))t.setValue(h.id,{value:!1});t.setValue(n,{value:u})}),a.addEventListener("resetform",o=>{const c=e.defaultFieldValue;o.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;a.addEventListener("updatefromsandbox",c=>{const u={value:h=>{const f=o===h.detail.value;for(const g of this._getElementsByName(h.target.name)){const m=f&&g.id===n;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class H4 extends hT{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class U4 extends Xa{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");qa.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",f=>{const g=this.data.defaultFieldValue;for(const m of s.options)m.selected=m.value===g});for(const f of this.data.options){const g=document.createElement("option");g.textContent=f.displayValue,g.value=f.exportValue,n.value.includes(f.exportValue)&&(g.setAttribute("selected",!0),a=!1),s.append(g)}let o=null;if(a){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),s.prepend(f),o=()=>{f.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const c=f=>{const g=f?"value":"textContent",{options:m,multiple:y}=s;return y?Array.prototype.filter.call(m,w=>w.selected).map(w=>w[g]):m.selectedIndex===-1?null:m[m.selectedIndex][g]};let u=c(!1);const h=f=>{const g=f.target.options;return Array.prototype.map.call(g,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",f=>{const g={value(m){o?.();const y=m.detail.value,w=new Set(Array.isArray(y)?y:[y]);for(const x of s.options)x.selected=w.has(x.value);t.setValue(e,{value:c(!0)}),u=c(!1)},multipleSelection(m){s.multiple=!0},remove(m){const y=s.options,w=m.detail.remove;y[w].selected=!1,s.remove(w),y.length>0&&Array.prototype.findIndex.call(y,S=>S.selected)===-1&&(y[0].selected=!0),t.setValue(e,{value:c(!0),items:h(m)}),u=c(!1)},clear(m){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),u=c(!1)},insert(m){const{index:y,displayValue:w,exportValue:x}=m.detail.insert,S=s.children[y],_=document.createElement("option");_.textContent=w,_.value=x,S?S.before(_):s.append(_),t.setValue(e,{value:c(!0),items:h(m)}),u=c(!1)},items(m){const{items:y}=m.detail;for(;s.length!==0;)s.remove(0);for(const w of y){const{displayValue:x,exportValue:S}=w,_=document.createElement("option");_.textContent=x,_.value=S,s.append(_)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:c(!0),items:h(m)}),u=c(!1)},indices(m){const y=new Set(m.detail.indices);for(const w of m.target.options)w.selected=y.has(w.index);t.setValue(e,{value:c(!0)}),u=c(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(g,f)}),s.addEventListener("input",f=>{const g=c(!0),m=c(!1);t.setValue(e,{value:g}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:u,change:m,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):s.addEventListener("input",function(f){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class xm extends Ae{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Ae._hasPopupData(e)}),this.elements=n,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new V4({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",n.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(s=>`${Rb}${s}`).join(",")),this.container}}class V4{#t=this.#T.bind(this);#e=this.#C.bind(this);#n=this.#R.bind(this);#i=this.#_.bind(this);#a=null;#s=null;#o=null;#r=null;#d=null;#l=null;#h=null;#u=!1;#f=null;#p=null;#g=null;#c=null;#m=null;#b=null;#y=!1;constructor({container:t,color:e,elements:n,titleObj:s,modificationDate:a,contentsObj:o,richText:c,parent:u,rect:h,parentRect:f,open:g}){this.#s=t,this.#m=s,this.#o=o,this.#c=c,this.#l=u,this.#a=e,this.#g=h,this.#h=f,this.#d=n,this.#r=Mb.toDateObject(a),this.trigger=n.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",this.#i),m.addEventListener("mouseenter",this.#n),m.addEventListener("mouseleave",this.#e),m.classList.add("popupTriggerArea");for(const m of n)m.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,g&&this.#_()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#a){const a=t.style.outlineColor=mt.makeHexColor(...this.#a);t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=this.#m,t.append(e),this.#r){const a=document.createElement("time");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#r.valueOf()})),a.dateTime=this.#r.toISOString(),e.append(a)}const s=this.#x;if(s)Bb.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(this.#o);t.append(a)}this.#s.append(t)}get#x(){const t=this.#c,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#c.html||null}get#w(){return this.#x?.attributes?.style?.fontSize||0}get#S(){return this.#x?.attributes?.style?.color||null}#E(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:this.#S,fontSize:this.#w?`calc(${this.#w}px * var(--total-scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:s});return n}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let a=0,o=s.length;a<o;++a){const c=s[a];n.append(document.createTextNode(c)),a<o-1&&n.append(document.createElement("br"))}return n}#T(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#_()}updateEdited({rect:t,popupContent:e}){this.#b||={contentsObj:this.#o,richText:this.#c},t&&(this.#p=null),e&&(this.#c=this.#E(e),this.#o=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#b&&({contentsObj:this.#o,richText:this.#c}=this.#b,this.#b=null,this.#f?.remove(),this.#f=null,this.#p=null)}#M(){if(this.#p!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:s,pageY:a}}}=this.#l;let o=!!this.#h,c=o?this.#h:this.#g;for(const w of this.#d)if(!c||mt.intersect(w.data.rect,c)!==null){c=w.data.rect,o=!0;break}const u=mt.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),f=o?c[2]-c[0]+5:0,g=u[0]+f,m=u[1];this.#p=[100*(g-s)/e,100*(m-a)/n];const{style:y}=this.#s;y.left=`${this.#p[0]}%`,y.top=`${this.#p[1]}%`}#_(){this.#u=!this.#u,this.#u?(this.#R(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#t)):(this.#C(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#t))}#R(){this.#f||this.render(),this.isVisible?this.#u&&this.#s.classList.add("focused"):(this.#M(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#C(){this.#s.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#s.hidden=!0)}maybeShow(){this.#y&&(this.#f||this.#R(),this.#y=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class pT extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=_t.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class G4 extends Ae{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),a=this.#t=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class $4 extends Ae{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),a=t.borderStyle.width,o=this.#t=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",e-a),o.setAttribute("height",n-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class q4 extends Ae{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),a=t.borderStyle.width,o=this.#t=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",e/2),o.setAttribute("cy",n/2),o.setAttribute("rx",e/2-a/2),o.setAttribute("ry",n/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class gT extends Ae{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:s},width:a,height:o}=this;if(!e)return this.container;const c=this.svgFactory.create(a,o,!0);let u=[];for(let f=0,g=e.length;f<g;f+=2){const m=e[f]-t[0],y=t[3]-e[f+1];u.push(`${m},${y}`)}u=u.join(" ");const h=this.#t=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",u),h.setAttribute("stroke-width",n.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class W4 extends gT{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Y4 extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Hb extends Ae{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?_t.HIGHLIGHT:_t.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:s,popupRef:a}}=this,{transform:o,width:c,height:u}=this.#n(e,t),h=this.svgFactory.create(c,u,!0),f=this.#t=this.svgFactory.createElement("svg:g");h.append(f),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let g=0,m=n.length;g<m;g++){const y=this.svgFactory.createElement(this.svgElementName);this.#e.push(y),y.setAttribute("points",n[g].join(",")),f.append(y)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:s}=t,a=this.#t;if(e>=0&&a.setAttribute("stroke-width",e||1),n)for(let o=0,c=this.#e.length;o<c;o++)this.#e[o].setAttribute("points",n[o].join(","));if(s){const{transform:o,width:c,height:u}=this.#n(this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class mT extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=_t.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class X4 extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class K4 extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class Q4 extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class bT extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=_t.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Z4 extends Ae{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:s}=Ge.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Ub=class yT{#t=null;#e=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:s,page:a,viewport:o,structTreeLayer:c}){this.div=t,this.#t=e,this.#e=n,this.#i=c||null,this.page=a,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return this.#n.size>0}async#a(t,e,n){const s=t.firstChild||t,a=s.id=`${Rb}${e}`,o=await this.#i?.getAriaAttributes(a);if(o)for(const[c,u]of o)s.setAttribute(c,u);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,s,!1))}async render(t){const{annotations:e}=t,n=this.div;Qs(n,this.viewport);const s=new Map,a={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new oc,annotationStorage:t.annotationStorage||new Nb,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){if(o.noHTML)continue;const c=o.annotationType===xe.POPUP;if(c){const f=s.get(o.id);if(!f)continue;a.elements=f}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;a.data=o;const u=k_.create(a);if(!u.isRenderable)continue;if(!c&&o.popupRef){const f=s.get(o.popupRef);f?f.push(u):s.set(o.popupRef,[u])}const h=u.render();o.hidden&&(h.style.visibility="hidden"),await this.#a(h,o.id,a.elements),u._isEditable&&(this.#n.set(u.data.id,u),this._annotationEditorUIManager?.renderAnnotationElement(u))}this.#s()}async addLinkAnnotations(t,e){const n={data:null,layer:this.div,linkService:e,svgFactory:new oc,parent:this};for(const s of t){s.borderStyle||=yT._defaultBorderStyle,n.data=s;const a=k_.create(n);if(!a.isRenderable)continue;const o=a.render();await this.#a(o,s.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Qs(e,{rotation:t.rotation}),this.#s(),e.hidden=!1}#s(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):s.append(n);const o=this.#n.get(e);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,s.id,n),o._hasNoCanvas=!1):o.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return It(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Wr.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const yd=/\r\n?|\n/g;class je extends yt{#t;#e="";#n=`${this.id}-editor`;#i=null;#a;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=je.prototype,e=a=>a.isEmpty(),n=ds.TRANSLATE_SMALL,s=ds.TRANSLATE_BIG;return It(this,"_keyboardManager",new _c([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}]]))}static _type="freetext";static _editorType=_t.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||je._defaultColor||yt._defaultLineColor,this.#a=t.fontSize||je._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){yt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case jt.FREETEXT_SIZE:je._defaultFontSize=e;break;case jt.FREETEXT_COLOR:je._defaultColor=e;break}}updateParams(t,e){switch(t){case jt.FREETEXT_SIZE:this.#s(e);break;case jt.FREETEXT_COLOR:this.#o(e);break}}static get defaultPropertiesToUpdate(){return[[jt.FREETEXT_SIZE,je._defaultFontSize],[jt.FREETEXT_COLOR,je._defaultColor||yt._defaultLineColor]]}get propertiesToUpdate(){return[[jt.FREETEXT_SIZE,this.#a],[jt.FREETEXT_COLOR,this.#t]]}#s(t){const e=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-this.#a)*this.parentScale),this.#a=s,this.#d()},n=this.#a;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(t){const e=s=>{this.#t=this.editorDiv.style.color=s},n=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-je._internalPadding*t,-(je._internalPadding+this.#a)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(je.#l(n)),e=n);return t.join(`
`)}#d(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),n=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#r().trimEnd();if(t===e)return;const n=s=>{if(this.#e=s,!s){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){je._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,n.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[h,f]=this.pageDimensions,[g,m]=this.pageTranslation;let y,w;switch(this.rotation){case 0:y=t+(o[0]-g)/h,w=e+this.height-(o[1]-m)/f;break;case 90:y=t+(o[0]-g)/h,w=e-(o[1]-m)/f,[c,u]=[u,-c];break;case 180:y=t-this.width+(o[0]-g)/h,w=e-(o[1]-m)/f,[c,u]=[-c,-u];break;case 270:y=t+(o[0]-g-this.height*f)/h,w=e+(o[1]-m-this.width*h)/f,[c,u]=[-u,c];break}this.setAt(y*s,w*a,c,u)}else this._moveAfterPaste(t,e);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(yd,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const s=je.#f(e.getData("text")||"").replaceAll(yd,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:u}=o,h=[],f=[];if(c.nodeType===Node.TEXT_NODE){const y=c.parentElement;if(f.push(c.nodeValue.slice(u).replaceAll(yd,"")),y!==this.editorDiv){let w=h;for(const x of this.editorDiv.childNodes){if(x===y){w=f;continue}w.push(je.#l(x))}}h.push(c.nodeValue.slice(0,u).replaceAll(yd,""))}else if(c===this.editorDiv){let y=h,w=0;for(const x of this.editorDiv.childNodes)w++===u&&(y=f),y.push(je.#l(x))}this.#e=`${h.join(`
`)}${s}${f.join(`
`)}`,this.#h();const g=new Range;let m=Math.sumPrecise(h.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const w=y.nodeValue.length;if(m<=w){g.setStart(y,m),g.setEnd(y,m);break}m-=w}a.removeAllRanges(),a.addRange(g)}#h(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#u(){return this.#e.replaceAll(" "," ")}static#f(t){return t.replaceAll(" "," ")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,n){let s=null;if(t instanceof pT){const{data:{defaultAppearanceData:{fontSize:o,fontColor:c},rect:u,rotation:h,id:f,popupRef:g},textContent:m,textPosition:y,parent:{page:{pageNumber:w}}}=t;if(!m||m.length===0)return null;s=t={annotationType:_t.FREETEXT,color:Array.from(c),fontSize:o,value:m.join(`
`),position:y,pageIndex:w-1,rect:u.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:g}}const a=await super.deserialize(t,e,n);return a.#a=t.fontSize,a.#t=mt.makeHexColor(...t.color),a.#e=je.#f(t.value),a._initialData=s,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=je._internalPadding*this.parentScale,n=this.getRect(e,e),s=yt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),a={annotationType:_t.FREETEXT,color:s,fontSize:this.#a,value:this.#u(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(a.isCopy=!0,a):this.annotationElementId&&!this.#p(a)?null:(a.id=this.annotationElementId,a)}#p(t){const{value:e,fontSize:n,color:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((o,c)=>o!==s[c])||t.pageIndex!==a}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:n}=e;n.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,n.color=this.#t,e.replaceChildren();for(const a of this.#e.split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),e.append(o)}const s=je._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class dt{static PRECISION=1e-4;toSVGPath(){Zt("Abstract method `toSVGPath` must be implemented.")}get box(){Zt("Abstract getter `box` must be implemented.")}serialize(t,e){Zt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,s,a,o){o||=new Float32Array(t.length);for(let c=0,u=t.length;c<u;c+=2)o[c]=e+t[c]*s,o[c+1]=n+t[c+1]*a;return o}static _rescaleAndSwap(t,e,n,s,a,o){o||=new Float32Array(t.length);for(let c=0,u=t.length;c<u;c+=2)o[c]=e+t[c+1]*s,o[c+1]=n+t[c]*a;return o}static _translate(t,e,n,s){s||=new Float32Array(t.length);for(let a=0,o=t.length;a<o;a+=2)s[a]=e+t[a],s[a+1]=n+t[a+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,s,a){switch(a){case 90:return[1-e/n,t/s];case 180:return[1-t/n,1-e/s];case 270:return[e/n,1-t/s];default:return[t/n,e/s]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,s,a,o){return[(t+5*n)/6,(e+5*s)/6,(5*n+a)/6,(5*s+o)/6,(n+a)/2,(s+o)/2]}}class Da{#t;#e=[];#n;#i;#a=[];#s=new Float32Array(18);#o;#r;#d;#l;#h;#u;#f=[];static#p=8;static#g=2;static#c=Da.#p+Da.#g;constructor({x:t,y:e},n,s,a,o,c=0){this.#t=n,this.#u=a*s,this.#i=o,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=c,this.#l=Da.#p*s,this.#d=Da.#c*s,this.#h=s,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#m(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,s,a,o]=this.#t;return[(this.#o+(t[0]-e[0])/2-n)/a,(this.#r+(t[1]-e[1])/2-s)/o,(this.#o+(e[0]-t[0])/2-n)/a,(this.#r+(e[1]-t[1])/2-s)/o]}add({x:t,y:e}){this.#o=t,this.#r=e;const[n,s,a,o]=this.#t;let[c,u,h,f]=this.#s.subarray(8,12);const g=t-h,m=e-f,y=Math.hypot(g,m);if(y<this.#d)return!1;const w=y-this.#l,x=w/y,S=x*g,_=x*m;let T=c,C=u;c=h,u=f,h+=S,f+=_,this.#f?.push(t,e);const k=-_/w,R=S/w,O=k*this.#u,N=R*this.#u;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([h+O,f+N],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([h-O,f-N],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([c+O,u+N],2),this.#a.push(NaN,NaN,NaN,NaN,(c+O-n)/a,(u+N-s)/o),this.#s.set([c-O,u-N],14),this.#e.push(NaN,NaN,NaN,NaN,(c-O-n)/a,(u-N-s)/o)),this.#s.set([T,C,c,u,h,f],6),!this.isEmpty()):(this.#s.set([T,C,c,u,h,f],6),Math.abs(Math.atan2(C-u,T-c)-Math.atan2(_,S))<Math.PI/2?([c,u,h,f]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+h)/2-n)/a,((u+f)/2-s)/o),[c,u,T,C]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((T+c)/2-n)/a,((C+u)/2-s)/o),!0):([T,C,c,u,h,f]=this.#s.subarray(0,6),this.#a.push(((T+5*c)/6-n)/a,((C+5*u)/6-s)/o,((5*c+h)/6-n)/a,((5*u+f)/6-s)/o,((c+h)/2-n)/a,((u+f)/2-s)/o),[h,f,c,u,T,C]=this.#s.subarray(12,18),this.#e.push(((T+5*c)/6-n)/a,((C+5*u)/6-s)/o,((5*c+h)/6-n)/a,((5*u+f)/6-s)/o,((c+h)/2-n)/a,((u+f)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#b();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);this.#x(n);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return this.#y(n),n.join(" ")}#b(){const[t,e,n,s]=this.#t,[a,o,c,u]=this.#m();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/s} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/s} L${a} ${o} L${c} ${u} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/s} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/s} Z`}#y(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#x(t){const[e,n,s,a]=this.#t,o=this.#s.subarray(4,6),c=this.#s.subarray(16,18),[u,h,f,g]=this.#m();t.push(`L${(o[0]-e)/s} ${(o[1]-n)/a} L${u} ${h} L${f} ${g} L${(c[0]-e)/s} ${(c[1]-n)/a}`)}newFreeDrawOutline(t,e,n,s,a,o){return new vT(t,e,n,s,a,o)}getOutlines(){const t=this.#a,e=this.#e,n=this.#s,[s,a,o,c]=this.#t,u=new Float32Array((this.#f?.length??0)+2);for(let g=0,m=u.length-2;g<m;g+=2)u[g]=(this.#f[g]-s)/o,u[g+1]=(this.#f[g+1]-a)/c;if(u[u.length-2]=(this.#o-s)/o,u[u.length-1]=(this.#r-a)/c,isNaN(n[6])&&!this.isEmpty())return this.#w(u);const h=new Float32Array(this.#a.length+24+this.#e.length);let f=t.length;for(let g=0;g<f;g+=2){if(isNaN(t[g])){h[g]=h[g+1]=NaN;continue}h[g]=t[g],h[g+1]=t[g+1]}f=this.#E(h,f);for(let g=e.length-6;g>=6;g-=6)for(let m=0;m<6;m+=2){if(isNaN(e[g+m])){h[f]=h[f+1]=NaN,f+=2;continue}h[f]=e[g+m],h[f+1]=e[g+m+1],f+=2}return this.#S(h,f),this.newFreeDrawOutline(h,u,this.#t,this.#h,this.#n,this.#i)}#w(t){const e=this.#s,[n,s,a,o]=this.#t,[c,u,h,f]=this.#m(),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(e[2]-n)/a,(e[3]-s)/o,NaN,NaN,NaN,NaN,(e[4]-n)/a,(e[5]-s)/o,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(e[16]-n)/a,(e[17]-s)/o,NaN,NaN,NaN,NaN,(e[14]-n)/a,(e[15]-s)/o],0),this.newFreeDrawOutline(g,t,this.#t,this.#h,this.#n,this.#i)}#S(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#E(t,e){const n=this.#s.subarray(4,6),s=this.#s.subarray(16,18),[a,o,c,u]=this.#t,[h,f,g,m]=this.#m();return t.set([NaN,NaN,NaN,NaN,(n[0]-a)/c,(n[1]-o)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(s[0]-a)/c,(s[1]-o)/u],e),e+=24}}class vT extends dt{#t;#e=new Float32Array(4);#n;#i;#a;#s;#o;constructor(t,e,n,s,a,o){super(),this.#o=t,this.#a=e,this.#t=n,this.#s=s,this.#n=a,this.#i=o,this.lastPoint=[NaN,NaN],this.#r(o);const[c,u,h,f]=this.#e;for(let g=0,m=t.length;g<m;g+=2)t[g]=(t[g]-c)/h,t[g+1]=(t[g+1]-u)/f;for(let g=0,m=e.length;g<m;g+=2)e[g]=(e[g]-c)/h,e[g+1]=(e[g+1]-u)/f}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let e=6,n=this.#o.length;e<n;e+=6){if(isNaN(this.#o[e])){t.push(`L${this.#o[e+4]} ${this.#o[e+5]}`);continue}t.push(`C${this.#o[e]} ${this.#o[e+1]} ${this.#o[e+2]} ${this.#o[e+3]} ${this.#o[e+4]} ${this.#o[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,s],a){const o=n-t,c=s-e;let u,h;switch(a){case 0:u=dt._rescale(this.#o,t,s,o,-c),h=dt._rescale(this.#a,t,s,o,-c);break;case 90:u=dt._rescaleAndSwap(this.#o,t,e,o,c),h=dt._rescaleAndSwap(this.#a,t,e,o,c);break;case 180:u=dt._rescale(this.#o,n,e,-o,c),h=dt._rescale(this.#a,n,e,-o,c);break;case 270:u=dt._rescaleAndSwap(this.#o,n,s,-o,-c),h=dt._rescaleAndSwap(this.#a,n,s,-o,-c);break}return{outline:Array.from(u),points:[Array.from(h)]}}#r(t){const e=this.#o;let n=e[4],s=e[5];const a=[n,s,n,s];let o=n,c=s;const u=t?Math.max:Math.min;for(let f=6,g=e.length;f<g;f+=6){const m=e[f+4],y=e[f+5];if(isNaN(e[f]))mt.pointBoundingBox(m,y,a),c<y?(o=m,c=y):c===y&&(o=u(o,m));else{const w=[1/0,1/0,-1/0,-1/0];mt.bezierBoundingBox(n,s,...e.slice(f,f+6),w),mt.rectBoundingBox(...w,a),c<w[3]?(o=w[2],c=w[3]):c===w[3]&&(o=u(o,w[2]))}n=m,s=y}const h=this.#e;h[0]=a[0]-this.#n,h[1]=a[1]-this.#n,h[2]=a[2]-a[0]+2*this.#n,h[3]=a[3]-a[1]+2*this.#n,this.lastPoint=[o,c]}get box(){return this.#e}newOutliner(t,e,n,s,a,o=0){return new Da(t,e,n,s,a,o)}getNewOutline(t,e){const[n,s,a,o]=this.#e,[c,u,h,f]=this.#t,g=a*h,m=o*f,y=n*h+c,w=s*f+u,x=this.newOutliner({x:this.#a[0]*g+y,y:this.#a[1]*m+w},this.#t,this.#s,t,this.#i,e??this.#n);for(let S=2;S<this.#a.length;S+=2)x.add({x:this.#a[S]*g+y,y:this.#a[S+1]*m+w});return x.getOutlines()}}class wm{#t;#e;#n=[];#i=[];constructor(t,e=0,n=0,s=!0){const a=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:y,y:w,width:x,height:S}of t){const _=Math.floor((y-e)/o)*o,T=Math.ceil((y+x+e)/o)*o,C=Math.floor((w-e)/o)*o,k=Math.ceil((w+S+e)/o)*o,R=[_,C,k,!0],O=[T,C,k,!1];this.#n.push(R,O),mt.rectBoundingBox(_,C,T,k,a)}const c=a[2]-a[0]+2*n,u=a[3]-a[1]+2*n,h=a[0]-n,f=a[1]-n,g=this.#n.at(s?-1:-2),m=[g[0],g[2]];for(const y of this.#n){const[w,x,S]=y;y[0]=(w-h)/c,y[1]=(x-f)/u,y[2]=(S-f)/u}this.#t=new Float32Array([h,f,c,u]),this.#e=m}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#d(e)),this.#o(e)):(this.#r(e),t.push(...this.#d(e)));return this.#a(t)}#a(t){const e=[],n=new Set;for(const o of t){const[c,u,h]=o;e.push([c,u,o],[c,h,o])}e.sort((o,c)=>o[1]-c[1]||o[0]-c[0]);for(let o=0,c=e.length;o<c;o+=2){const u=e[o][2],h=e[o+1][2];u.push(h),h.push(u),n.add(u),n.add(h)}const s=[];let a;for(;n.size>0;){const o=n.values().next().value;let[c,u,h,f,g]=o;n.delete(o);let m=c,y=u;for(a=[c,h],s.push(a);;){let w;if(n.has(f))w=f;else if(n.has(g))w=g;else break;n.delete(w),[c,u,h,f,g]=w,m!==c&&(a.push(m,y,c,y===u?u:h),m=c),y=y===u?h:u}a.push(m,y)}return new J4(s,this.#t,this.#e)}#s(t){const e=this.#i;let n=0,s=e.length-1;for(;n<=s;){const a=n+s>>1,o=e[a][0];if(o===t)return a;o<t?n=a+1:s=a-1}return s+1}#o([,t,e]){const n=this.#s(t);this.#i.splice(n,0,[t,e])}#r([,t,e]){const n=this.#s(t);for(let s=n;s<this.#i.length;s++){const[a,o]=this.#i[s];if(a!==t)break;if(a===t&&o===e){this.#i.splice(s,1);return}}for(let s=n-1;s>=0;s--){const[a,o]=this.#i[s];if(a!==t)break;if(a===t&&o===e){this.#i.splice(s,1);return}}}#d(t){const[e,n,s]=t,a=[[e,n,s]],o=this.#s(s);for(let c=0;c<o;c++){const[u,h]=this.#i[c];for(let f=0,g=a.length;f<g;f++){const[,m,y]=a[f];if(!(h<=m||y<=u)){if(m>=u){if(y>h)a[f][1]=h;else{if(g===1)return[];a.splice(f,1),f--,g--}continue}a[f][2]=u,y>h&&a.push([e,h,y])}}}return a}}class J4 extends dt{#t;#e;constructor(t,e,n){super(),this.#e=t,this.#t=e,this.lastPoint=n}toSVGPath(){const t=[];for(const e of this.#e){let[n,s]=e;t.push(`M${n} ${s}`);for(let a=2;a<e.length;a+=2){const o=e[a],c=e[a+1];o===n?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${o}`),n=o)}t.push("Z")}return t.join(" ")}serialize([t,e,n,s],a){const o=[],c=n-t,u=s-e;for(const h of this.#e){const f=new Array(h.length);for(let g=0;g<h.length;g+=2)f[g]=t+h[g]*c,f[g+1]=s-h[g+1]*u;o.push(f)}return o}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Sm extends Da{newFreeDrawOutline(t,e,n,s,a,o){return new tU(t,e,n,s,a,o)}}class tU extends vT{newOutliner(t,e,n,s,a,o=0){return new Sm(t,e,n,s,a,o)}}class In{#t=null;#e=null;#n;#i=null;#a=!1;#s=!1;#o=null;#r;#d=null;#l=null;#h;static#u=null;static get _keyboardManager(){return It(this,"_keyboardManager",new _c([[["Escape","mac+Escape"],In.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],In.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],In.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],In.prototype._moveToPrevious],[["Home","mac+Home"],In.prototype._moveToBeginning],[["End","mac+End"],In.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#h=jt.HIGHLIGHT_COLOR,this.#o=t):(this.#s=!0,this.#h=jt.HIGHLIGHT_DEFAULT_COLOR),this.#l=t?._uiManager||e,this.#r=this.#l._eventBus,this.#n=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",In.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#o&&(t.ariaControls=`${this.#o.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#c.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#n,t.append(n),t}renderMainDropdown(){const t=this.#i=this.#f();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#f(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",ii,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#o&&(t.id=`${this.#o.id}_colorpicker_dropdown`);for(const[n,s]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",s),a.title=n,a.setAttribute("data-l10n-id",In.#u[n]);const o=document.createElement("span");a.append(o),o.className="swatch",o.style.backgroundColor=s,a.ariaSelected=s===this.#n,a.addEventListener("click",this.#p.bind(this,s),{signal:e}),t.append(a)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#p(t,e){e.stopPropagation(),this.#r.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#c(t);return}const e=t.target.getAttribute("data-color");e&&this.#p(e,t)}_moveToNext(t){if(!this.#b){this.#c(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#b&&this._hideDropdownFromKeyboard();return}this.#b||this.#c(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#b){this.#c(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#b){this.#c(t);return}this.#i.lastChild?.focus()}#g(t){In._keyboardManager.exec(this,t)}#c(t){if(this.#b){this.hideDropdown();return}if(this.#a=t.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#l.combinedSignal(this.#d)})),this.#t.ariaExpanded="true",this.#i){this.#i.classList.remove("hidden");return}const e=this.#i=this.#f();this.#t.append(e)}#m(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#d?.abort(),this.#d=null}get#b(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#b){this.#o?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const e=this.#l.highlightColors.values();for(const n of this.#i.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class we extends yt{#t=null;#e=0;#n;#i=null;#a=null;#s=null;#o=null;#r=0;#d=null;#l=null;#h=null;#u=!1;#f=null;#p;#g=null;#c="";#m;#b="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=_t.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=we.prototype;return It(this,"_keyboardManager",new _c([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||we._defaultColor,this.#m=t.thickness||we._defaultThickness,this.#p=t.opacity||we._defaultOpacity,this.#n=t.boxes||null,this.#b=t.methodOfCreation||"",this.#c=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#x(t),this.#M()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#o=t.focusNode,this.#r=t.focusOffset,this.#y(),this.#M(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#b}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#y(){const t=new wm(this.#n,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new wm(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{lastPoint:n}=this.#s;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#x({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const s=1.5;if(this.#s=t.getNewOutline(this.#m/2+s,.0025),e>=0)this.#h=e,this.#i=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:we.#_(this.#l.box,(f-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:we.#_(this.#s.box,f),path:{d:this.#s.toSVGPath()}})}const[a,o,c,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=u;break;case 90:{const[f,g]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*g/f,this.height=u*f/g;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=u;break;case 270:{const[f,g]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*g/f,this.height=u*f/g;break}}const{lastPoint:h}=this.#s;this.#f=[(h[0]-a)/c,(h[1]-o)/u]}static initialize(t,e){yt.initialize(t,e),we._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case jt.HIGHLIGHT_DEFAULT_COLOR:we._defaultColor=e;break;case jt.HIGHLIGHT_THICKNESS:we._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case jt.HIGHLIGHT_COLOR:this.#w(e);break;case jt.HIGHLIGHT_THICKNESS:this.#S(e);break}}static get defaultPropertiesToUpdate(){return[[jt.HIGHLIGHT_DEFAULT_COLOR,we._defaultColor],[jt.HIGHLIGHT_THICKNESS,we._defaultThickness]]}get propertiesToUpdate(){return[[jt.HIGHLIGHT_COLOR,this.color||we._defaultColor],[jt.HIGHLIGHT_THICKNESS,this.#m||we._defaultThickness],[jt.HIGHLIGHT_FREE,this.#u]]}#w(t){const e=(a,o)=>{this.color=a,this.#p=o,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:a,"fill-opacity":o}}),this.#a?.updateColor(a)},n=this.color,s=this.#p;this.addCommands({cmd:e.bind(this,t,we._defaultOpacity),undo:e.bind(this,n,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#S(t){const e=this.#m,n=s=>{this.#m=s,this.#E(s)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new In({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#D())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#D())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#M(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#T():t&&(this.#M(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#E(t){if(!this.#u)return;this.#x({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}#T(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#M(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#p},rootClass:{highlight:!0,free:this.#u},path:{d:this.#l.toSVGPath()}},!1,!0),this.#g=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#u),this.#d&&(this.#d.style.clipPath=this.#i))}static#_([t,e,n,s],a){switch(a){case 90:return[1-e-s,t,s,n];case 180:return[1-t-n,1-e-s,n,s];case 270:return[e,1-t-n,s,n]}return[t,e,n,s]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#u?(t=(t-this.rotation+360)%360,n=we.#_(this.#l.box,t)):n=we.#_([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#h,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#g,{bbox:we.#_(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#c&&(t.setAttribute("aria-label",this.#c),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#d=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;const[n,s]=this.parentDimensions;return this.setDims(this.width*n,this.height*s),qC(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#R(t){we._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#o,this.#r)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#u||this.#C(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!t}}))}#D(){return this.#u?this.rotation:0}#O(){if(this.#u)return null;const[t,e]=this.pageDimensions,[n,s]=this.pageTranslation,a=this.#n,o=new Float32Array(a.length*8);let c=0;for(const{x:u,y:h,width:f,height:g}of a){const m=u*t+n,y=(1-h)*e+s;o[c]=o[c+4]=m,o[c+1]=o[c+3]=y,o[c+2]=o[c+6]=m+f*t,o[c+5]=o[c+7]=y-g*e,c+=8}return o}#N(t){return this.#l.serialize(t,this.#D())}static startHighlighting(t,e,{target:n,x:s,y:a}){const{x:o,y:c,width:u,height:h}=n.getBoundingClientRect(),f=new AbortController,g=t.combinedSignal(f),m=y=>{f.abort(),this.#A(t,y)};window.addEventListener("blur",m,{signal:g}),window.addEventListener("pointerup",m,{signal:g}),window.addEventListener("pointerdown",Se,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",ii,{signal:g}),n.addEventListener("pointermove",this.#B.bind(this,t),{signal:g}),this._freeHighlight=new Sm({x:s,y:a},[o,c,u,h],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#B(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#A(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let s=null;if(t instanceof mT){const{data:{quadPoints:w,rect:x,rotation:S,id:_,color:T,opacity:C,popupRef:k},parent:{page:{pageNumber:R}}}=t;s=t={annotationType:_t.HIGHLIGHT,color:Array.from(T),opacity:C,quadPoints:w,boxes:null,pageIndex:R-1,rect:x.slice(0),rotation:S,annotationElementId:_,id:_,deleted:!1,popupRef:k}}else if(t instanceof Hb){const{data:{inkLists:w,rect:x,rotation:S,id:_,color:T,borderStyle:{rawWidth:C},popupRef:k},parent:{page:{pageNumber:R}}}=t;s=t={annotationType:_t.HIGHLIGHT,color:Array.from(T),thickness:C,inkLists:w,boxes:null,pageIndex:R-1,rect:x.slice(0),rotation:S,annotationElementId:_,id:_,deleted:!1,popupRef:k}}const{color:a,quadPoints:o,inkLists:c,opacity:u}=t,h=await super.deserialize(t,e,n);h.color=mt.makeHexColor(...a),h.#p=u||1,c&&(h.#m=t.thickness),h._initialData=s;const[f,g]=h.pageDimensions,[m,y]=h.pageTranslation;if(o){const w=h.#n=[];for(let x=0;x<o.length;x+=8)w.push({x:(o[x]-m)/f,y:1-(o[x+1]-y)/g,width:(o[x+2]-o[x])/f,height:(o[x+1]-o[x+5])/g});h.#y(),h.#M(),h.rotate(h.rotation)}else if(c){h.#u=!0;const w=c[0],x={x:w[0]-m,y:g-(w[1]-y)},S=new Sm(x,[0,0,f,g],1,h.#m/2,!0,.001);for(let C=0,k=w.length;C<k;C+=2)x.x=w[C]-m,x.y=g-(w[C+1]-y),S.add(x);const{id:_,clipPathId:T}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);h.#x({highlightOutlines:S.getOutlines(),highlightId:_,clipPathId:T}),h.#M(),h.rotate(h.parentRotation)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),n=yt._colorManager.convert(this.color),s={annotationType:_t.HIGHLIGHT,color:n,opacity:this.#p,thickness:this.#m,quadPoints:this.#O(),outlines:this.#N(e),pageIndex:this.pageIndex,rect:e,rotation:this.#D(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#v(s)?null:(s.id=this.annotationElementId,s)}#v(t){const{color:e}=this._initialData;return t.color.some((n,s)=>n!==e[s])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class xT{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Zt("Not implemented")}}class wt extends yt{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#a=null;static#s=NaN;static#o=null;static#r=null;static#d=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#h(t,this.parent),this.#c(t.box)}#h(t,e){const{id:n}=e.drawLayer.draw(wt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[s,a]of Object.entries(e))n.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){Zt("Not implemented")}static get typesMap(){Zt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(wt.#n.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,s]of this.typesMap)t.push([n,e[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,s]of this.constructor.typesMap)t.push([n,e[s]]);return t}_updateProperty(t,e,n){const s=this._drawingOptions,a=s[e],o=c=>{s.updateProperty(e,c);const u=this.#t.updateProperty(e,c);u&&this.#c(u),this.parent?.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:o.bind(this,n),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,wt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#g()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,wt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#g()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,wt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#g(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#c(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#t,t)}}#p([t,e,n,s]){const{parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[e,1-t,n*(o/a),s*(a/o)];case 180:return[1-t,1-e,n,s];case 270:return[1-e,t,n*(o/a),s*(a/o)];default:return[t,e,n,s]}}#g(){const{x:t,y:e,width:n,height:s,parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[1-e,t,n*(a/o),s*(o/a)];case 180:return[1-t,1-e,n,s];case 270:return[e,1-t,n*(a/o),s*(o/a)];default:return[t,e,n,s]}}#c(t){if([this.x,this.y,this.width,this.height]=this.#p(t),this.div){this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}this._onResized()}#m(){const{x:t,y:e,width:n,height:s,rotation:a,parentRotation:o,parentDimensions:[c,u]}=this;switch((a*4+o)/90){case 1:return[1-e-s,t,s,n];case 2:return[1-t-n,1-e-s,n,s];case 3:return[e,1-t-n,s,n];case 4:return[t,e-n*(c/u),s*(u/c),n*(c/u)];case 5:return[1-e,t,n*(c/u),s*(u/c)];case 6:return[1-t-s*(u/c),1-e,s*(u/c),n*(c/u)];case 7:return[e-n*(c/u),1-t-s*(u/c),n*(c/u),s*(u/c)];case 8:return[t-n,e-s,n,s];case 9:return[1-e,t-n,s,n];case 10:return[1-t,1-e,n,s];case 11:return[e-s,1-t,s,n];case 12:return[t-s*(u/c),e,s*(u/c),n*(c/u)];case 13:return[1-e-n*(c/u),t-s*(u/c),n*(c/u),s*(u/c)];case 14:return[1-t,1-e-n*(c/u),s*(u/c),n*(c/u)];case 15:return[e,1-t,n*(c/u),s*(u/c)];default:return[t,e,n,s]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,wt._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#c(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const s=document.createElement("div");n.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[a,o]=this.parentDimensions;return this.setDims(this.width*a,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,s,a){Zt("Not implemented")}static startDrawing(t,e,n,s){const{target:a,offsetX:o,offsetY:c,pointerId:u,pointerType:h}=s;if(wt.#o&&wt.#o!==h)return;const{viewport:{rotation:f}}=t,{width:g,height:m}=a.getBoundingClientRect(),y=wt.#i=new AbortController,w=t.combinedSignal(y);if(wt.#s||=u,wt.#o??=h,window.addEventListener("pointerup",x=>{wt.#s===x.pointerId?this._endDraw(x):wt.#r?.delete(x.pointerId)},{signal:w}),window.addEventListener("pointercancel",x=>{wt.#s===x.pointerId?this._currentParent.endDrawingSession():wt.#r?.delete(x.pointerId)},{signal:w}),window.addEventListener("pointerdown",x=>{wt.#o===x.pointerType&&((wt.#r||=new Set).add(x.pointerId),wt.#n.isCancellable()&&(wt.#n.removeLastElement(),wt.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",ii,{signal:w}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),a.addEventListener("touchmove",x=>{x.timeStamp===wt.#d&&Se(x)},{signal:w}),t.toggleDrawing(),e._editorUndoBar?.hide(),wt.#n){t.drawLayer.updateProperties(this._currentDrawId,wt.#n.startNew(o,c,g,m,f));return}e.updateUIForDefaultProperties(this),wt.#n=this.createDrawerInstance(o,c,g,m,f),wt.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(wt.#a.toSVGProperties(),wt.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(wt.#d=-1,!wt.#n)return;const{offsetX:e,offsetY:n,pointerId:s}=t;if(wt.#s===s){if(wt.#r?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,wt.#n.add(e,n)),wt.#d=t.timeStamp,Se(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,wt.#n=null,wt.#a=null,wt.#o=null,wt.#d=NaN),wt.#i&&(wt.#i.abort(),wt.#i=null,wt.#s=NaN,wt.#r=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,wt.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=wt.#n,s=this._currentDrawId,a=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(s,n.setLastElement(a))},undo:()=>{e.drawLayer.updateProperties(s,n.removeLastElement())},mustExec:!1,type:jt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(jt.DRAW_STEP),!wt.#n.isEmpty()){const{pageDimensions:[n,s],scale:a}=e,o=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:wt.#n.getOutlines(n*a,s*a,a,this._INNER_MARGIN),drawingOptions:wt.#a,mustBeCommitted:!t});return this._cleanup(!0),o}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,s,a,o){Zt("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}=e.viewport,u=this.deserializeDraw(o,c,s,a,this._INNER_MARGIN,t),h=await super.deserialize(t,e,n);return h.createDrawingOptions(t),h.#l({drawOutlines:u}),h.#f(),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[e,n]=this.pageTranslation,[s,a]=this.pageDimensions;return this.#t.serialize([e,n,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class eU{#t=new Float64Array(6);#e;#n;#i;#a;#s;#o="";#r=0;#d=new Cc;#l;#h;constructor(t,e,n,s,a,o){this.#l=n,this.#h=s,this.#i=a,this.#a=o,[t,e]=this.#u(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#n=[{line:c,points:this.#s}],this.#t.set(c,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#u(t,e){return dt._normalizePoint(t,e,this.#l,this.#h,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#u(t,e);const[n,s,a,o]=this.#t.subarray(2,6),c=t-a,u=e-o;return Math.hypot(this.#l*c,this.#h*u)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([a,o,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,s,a,o,t,e],0),this.#e.push(...dt.createBezierPoints(n,s,a,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,s,a){this.#l=n,this.#h=s,this.#i=a,[t,e]=this.#u(t,e);const o=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const c=this.#n.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#n.push({line:o,points:this.#s}),this.#t.set(o,0),this.#r=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#s=t.points,this.#r=0,{path:{d:this.toSVGPath()}}):this.#d.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#d.removeLastElement();this.#n.pop(),this.#o="";for(let t=0,e=this.#n.length;t<e;t++){const{line:n,points:s}=this.#n[t];this.#e=n,this.#s=s,this.#r=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const t=dt.svgRound(this.#e[4]),e=dt.svgRound(this.#e[5]);if(this.#s.length===2)return this.#o=`${this.#o} M ${t} ${e} Z`,this.#o;if(this.#s.length<=6){const s=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,s)} M ${t} ${e}`,this.#r=6}if(this.#s.length===4){const s=dt.svgRound(this.#e[10]),a=dt.svgRound(this.#e[11]);return this.#o=`${this.#o} L ${s} ${a}`,this.#r=12,this.#o}const n=[];this.#r===0&&(n.push(`M ${t} ${e}`),this.#r=6);for(let s=this.#r,a=this.#e.length;s<a;s+=6){const[o,c,u,h,f,g]=this.#e.slice(s,s+6).map(dt.svgRound);n.push(`C${o} ${c} ${u} ${h} ${f} ${g}`)}return this.#o+=n.join(" "),this.#r=this.#e.length,this.#o}getOutlines(t,e,n,s){const a=this.#n.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#d.build(this.#n,t,e,n,this.#i,this.#a,s),this.#t=null,this.#e=null,this.#n=null,this.#o=null,this.#d}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Cc extends dt{#t;#e=0;#n;#i;#a;#s;#o;#r;#d;build(t,e,n,s,a,o,c){this.#a=e,this.#s=n,this.#o=s,this.#r=a,this.#d=o,this.#n=c??0,this.#i=t,this.#u()}get thickness(){return this.#d}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#i){if(t.push(`M${dt.svgRound(e[4])} ${dt.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${dt.svgRound(e[10])} ${dt.svgRound(e[11])}`);continue}for(let n=6,s=e.length;n<s;n+=6){const[a,o,c,u,h,f]=e.subarray(n,n+6).map(dt.svgRound);t.push(`C${a} ${o} ${c} ${u} ${h} ${f}`)}}return t.join("")}serialize([t,e,n,s],a){const o=[],c=[],[u,h,f,g]=this.#h();let m,y,w,x,S,_,T,C,k;switch(this.#r){case 0:k=dt._rescale,m=t,y=e+s,w=n,x=-s,S=t+u*n,_=e+(1-h-g)*s,T=t+(u+f)*n,C=e+(1-h)*s;break;case 90:k=dt._rescaleAndSwap,m=t,y=e,w=n,x=s,S=t+h*n,_=e+u*s,T=t+(h+g)*n,C=e+(u+f)*s;break;case 180:k=dt._rescale,m=t+n,y=e,w=-n,x=s,S=t+(1-u-f)*n,_=e+h*s,T=t+(1-u)*n,C=e+(h+g)*s;break;case 270:k=dt._rescaleAndSwap,m=t+n,y=e+s,w=-n,x=-s,S=t+(1-h-g)*n,_=e+(1-u-f)*s,T=t+(1-h)*n,C=e+(1-u)*s;break}for(const{line:R,points:O}of this.#i)o.push(k(R,m,y,w,x,a?new Array(R.length):null)),c.push(k(O,m,y,w,x,a?new Array(O.length):null));return{lines:o,points:c,rect:[S,_,T,C]}}static deserialize(t,e,n,s,a,{paths:{lines:o,points:c},rotation:u,thickness:h}){const f=[];let g,m,y,w,x;switch(u){case 0:x=dt._rescale,g=-t/n,m=e/s+1,y=1/n,w=-1/s;break;case 90:x=dt._rescaleAndSwap,g=-e/s,m=-t/n,y=1/s,w=1/n;break;case 180:x=dt._rescale,g=t/n+1,m=-e/s,y=-1/n,w=1/s;break;case 270:x=dt._rescaleAndSwap,g=e/s+1,m=t/n+1,y=-1/s,w=-1/n;break}if(!o){o=[];for(const _ of c){const T=_.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1],NaN,NaN,NaN,NaN,_[2],_[3]]));continue}const C=new Float32Array(3*(T-2));o.push(C);let[k,R,O,N]=_.subarray(0,4);C.set([NaN,NaN,NaN,NaN,k,R],0);for(let P=4;P<T;P+=2){const H=_[P],W=_[P+1];C.set(dt.createBezierPoints(k,R,O,N,H,W),(P-2)*3),[k,R,O,N]=[O,N,H,W]}}}for(let _=0,T=o.length;_<T;_++)f.push({line:x(o[_].map(C=>C??NaN),g,m,y,w),points:x(c[_].map(C=>C??NaN),g,m,y,w)});const S=new this.prototype.constructor;return S.build(f,n,s,1,u,h,a),S}#l(t=this.#d){const e=this.#n+t/2*this.#o;return this.#r%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#h(){const[t,e,n,s]=this.#t,[a,o]=this.#l(0);return[t+a,e+o,n-2*a,s-2*o]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:s}of this.#i){if(s.length<=12){for(let c=4,u=s.length;c<u;c+=6)mt.pointBoundingBox(s[c],s[c+1],t);continue}let a=s[4],o=s[5];for(let c=6,u=s.length;c<u;c+=6){const[h,f,g,m,y,w]=s.subarray(c,c+6);mt.bezierBoundingBox(a,o,h,f,g,m,y,w,t),a=y,o=w}}const[e,n]=this.#l();t[0]=an(t[0]-e,0,1),t[1]=an(t[1]-n,0,1),t[2]=an(t[2]+e,0,1),t[3]=an(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#d=t;const[s,a]=this.#l(),[o,c]=[s-e,a-n],u=this.#t;return u[0]-=o,u[1]-=c,u[2]+=2*o,u[3]+=2*c,u}updateParentDimensions([t,e],n){const[s,a]=this.#l();this.#a=t,this.#s=e,this.#o=n;const[o,c]=this.#l(),u=o-s,h=c-a,f=this.#t;return f[0]-=u,f[1]-=h,f[2]+=2*u,f[3]+=2*h,f}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(dt.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,s=0,a=0,o=0,c=0,u=0;switch(this.#e){case 90:s=e/t,a=-t/e,c=t;break;case 180:n=-1,o=-1,c=t,u=e;break;case 270:s=-e/t,a=t/e,u=e;break;default:return""}return`matrix(${n} ${s} ${a} ${o} ${dt.svgRound(c)} ${dt.svgRound(u)})`}getPathResizingSVGProperties([t,e,n,s]){const[a,o]=this.#l(),[c,u,h,f]=this.#t;if(Math.abs(h-a)<=dt.PRECISION||Math.abs(f-o)<=dt.PRECISION){const x=t+n/2-(c+h/2),S=e+s/2-(u+f/2);return{path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(e)}`,transform:`${this.rotationTransform} translate(${x} ${S})`}}}const g=(n-2*a)/(h-2*a),m=(s-2*o)/(f-2*o),y=h/n,w=f/s;return{path:{"transform-origin":`${dt.svgRound(c)} ${dt.svgRound(u)}`,transform:`${this.rotationTransform} scale(${y} ${w}) translate(${dt.svgRound(a)} ${dt.svgRound(o)}) scale(${g} ${m}) translate(${dt.svgRound(-a)} ${dt.svgRound(-o)})`}}}getPathResizedSVGProperties([t,e,n,s]){const[a,o]=this.#l(),c=this.#t,[u,h,f,g]=c;if(c[0]=t,c[1]=e,c[2]=n,c[3]=s,Math.abs(f-a)<=dt.PRECISION||Math.abs(g-o)<=dt.PRECISION){const S=t+n/2-(u+f/2),_=e+s/2-(h+g/2);for(const{line:T,points:C}of this.#i)dt._translate(T,S,_,T),dt._translate(C,S,_,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(n-2*a)/(f-2*a),y=(s-2*o)/(g-2*o),w=-m*(u+a)+t+a,x=-y*(h+o)+e+o;if(m!==1||y!==1||w!==0||x!==0)for(const{line:S,points:_}of this.#i)dt._rescale(S,w,x,m,y,S),dt._rescale(_,w,x,m,y,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[s,a]=n,o=this.#t,c=t-o[0],u=e-o[1];if(this.#a===s&&this.#s===a)for(const{line:h,points:f}of this.#i)dt._translate(h,c,u,h),dt._translate(f,c,u,f);else{const h=this.#a/s,f=this.#s/a;this.#a=s,this.#s=a;for(const{line:g,points:m}of this.#i)dt._rescale(g,c,u,h,f,g),dt._rescale(m,c,u,h,f,m);o[2]*=h,o[3]*=f}return o[0]=t,o[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${dt.svgRound(t[0])} ${dt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Rh extends xT{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:yt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Rh(this._viewParameters);return t.updateAll(this),t}}class Vb extends wt{static _type="ink";static _editorType=_t.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){yt.initialize(t,e),this._defaultDrawingOptions=new Rh(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return It(this,"typesMap",new Map([[jt.INK_THICKNESS,"stroke-width"],[jt.INK_COLOR,"stroke"],[jt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,s,a){return new eU(t,e,n,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,s,a,o){return Cc.deserialize(t,e,n,s,a,o)}static async deserialize(t,e,n){let s=null;if(t instanceof Hb){const{data:{inkLists:o,rect:c,rotation:u,id:h,color:f,opacity:g,borderStyle:{rawWidth:m},popupRef:y},parent:{page:{pageNumber:w}}}=t;s=t={annotationType:_t.INK,color:Array.from(f),thickness:m,opacity:g,paths:{points:o},boxes:null,pageIndex:w-1,rect:c.slice(0),rotation:u,annotationElementId:h,id:h,deleted:!1,popupRef:y}}const a=await super.deserialize(t,e,n);return a._initialData=s,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=Vb.getDefaultDrawingOptions({stroke:mt.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":c}}=this,u={annotationType:_t.INK,color:yt._colorManager.convert(a),opacity:o,thickness:c,paths:{lines:e,points:n},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:n,opacity:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,c)=>o!==e[c])||t.thickness!==n||t.opacity!==s||t.pageIndex!==a}renderAnnotationElement(t){const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e}),null}}class _m extends Cc{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const vd=8,Nl=3;class Ra{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,s){return n-=t,s-=e,n===0?s>0?0:4:n===1?s+6:2-s}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,e,n,s,a,o,c){const u=this.#e(n,s,a,o);for(let h=0;h<8;h++){const f=(-h+u-c+16)%8,g=this.#n[2*f],m=this.#n[2*f+1];if(t[(n+g)*e+(s+m)]!==0)return f}return-1}static#a(t,e,n,s,a,o,c){const u=this.#e(n,s,a,o);for(let h=0;h<8;h++){const f=(h+u+c+16)%8,g=this.#n[2*f],m=this.#n[2*f+1];if(t[(n+g)*e+(s+m)]!==0)return f}return-1}static#s(t,e,n,s){const a=t.length,o=new Int32Array(a);for(let f=0;f<a;f++)o[f]=t[f]<=s?1:0;for(let f=1;f<n-1;f++)o[f*e]=o[f*e+e-1]=0;for(let f=0;f<e;f++)o[f]=o[e*n-1-f]=0;let c=1,u;const h=[];for(let f=1;f<n-1;f++){u=1;for(let g=1;g<e-1;g++){const m=f*e+g,y=o[m];if(y===0)continue;let w=f,x=g;if(y===1&&o[m-1]===0)c+=1,x-=1;else if(y>=1&&o[m+1]===0)c+=1,x+=1,y>1&&(u=y);else{y!==1&&(u=Math.abs(y));continue}const S=[g,f],_=x===g+1,T={isHole:_,points:S,id:c,parent:0};h.push(T);let C;for(const K of h)if(K.id===u){C=K;break}C?C.isHole?T.parent=_?C.parent:u:T.parent=_?u:C.parent:T.parent=_?u:0;const k=this.#i(o,e,f,g,w,x,0);if(k===-1){o[m]=-c,o[m]!==1&&(u=Math.abs(o[m]));continue}let R=this.#n[2*k],O=this.#n[2*k+1];const N=f+R,P=g+O;w=N,x=P;let H=f,W=g;for(;;){const K=this.#a(o,e,H,W,w,x,1);R=this.#n[2*K],O=this.#n[2*K+1];const et=H+R,lt=W+O;S.push(lt,et);const at=H*e+W;if(o[at+1]===0?o[at]=-c:o[at]===1&&(o[at]=c),et===f&&lt===g&&H===N&&W===P){o[m]!==1&&(u=Math.abs(o[m]));break}else w=H,x=W,H=et,W=lt}}}return h}static#o(t,e,n,s){if(n-e<=4){for(let N=e;N<n-2;N+=2)s.push(t[N],t[N+1]);return}const a=t[e],o=t[e+1],c=t[n-4]-a,u=t[n-3]-o,h=Math.hypot(c,u),f=c/h,g=u/h,m=f*o-g*a,y=u/c,w=1/h,x=Math.atan(y),S=Math.cos(x),_=Math.sin(x),T=w*(Math.abs(S)+Math.abs(_)),C=w*(1-T+T**2),k=Math.max(Math.atan(Math.abs(_+S)*C),Math.atan(Math.abs(_-S)*C));let R=0,O=e;for(let N=e+2;N<n-2;N+=2){const P=Math.abs(m-f*t[N+1]+g*t[N]);P>R&&(O=N,R=P)}R>(h*k)**2?(this.#o(t,e,O+2,s),this.#o(t,O,n,s)):s.push(a,o)}static#r(t){const e=[],n=t.length;return this.#o(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#d(t,e,n,s,a,o){const c=new Float32Array(o**2),u=-2*s**2,h=o>>1;for(let x=0;x<o;x++){const S=(x-h)**2;for(let _=0;_<o;_++)c[x*o+_]=Math.exp((S+(_-h)**2)/u)}const f=new Float32Array(256),g=-2*a**2;for(let x=0;x<256;x++)f[x]=Math.exp(x**2/g);const m=t.length,y=new Uint8Array(m),w=new Uint32Array(256);for(let x=0;x<n;x++)for(let S=0;S<e;S++){const _=x*e+S,T=t[_];let C=0,k=0;for(let O=0;O<o;O++){const N=x+O-h;if(!(N<0||N>=n))for(let P=0;P<o;P++){const H=S+P-h;if(H<0||H>=e)continue;const W=t[N*e+H],K=c[O*o+P]*f[Math.abs(W-T)];C+=W*K,k+=K}}const R=y[_]=Math.round(C/k);w[R]++}return[y,w]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#h(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let s=-1/0,a=1/0;for(let c=0,u=n.length;c<u;c++){if(t[(c<<2)+3]===0){s=n[c]=255;continue}const f=n[c]=t[c<<2];f>s&&(s=f),f<a&&(a=f)}const o=255/(s-a);for(let c=0;c<e;c++)n[c]=(n[c]-a)*o;return n}static#u(t){let e,n=-1/0,s=-1/0;const a=t.findIndex(u=>u!==0);let o=a,c=a;for(e=a;e<256;e++){const u=t[e];u>n&&(e-o>s&&(s=e-o,c=e-1),n=u,o=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:s}=t,{maxDim:a}=this.#t;let o=n,c=s;if(n>a||s>a){let m=n,y=s,w=Math.log2(Math.max(n,s)/a);const x=Math.floor(w);w=w===x?x-1:x;for(let _=0;_<w;_++){o=Math.ceil(m/2),c=Math.ceil(y/2);const T=new OffscreenCanvas(o,c);T.getContext("2d").drawImage(t,0,0,m,y,0,0,o,c),m=o,y=c,t!==e&&t.close(),t=T.transferToImageBitmap()}const S=Math.min(a/o,a/c);o=Math.round(o*S),c=Math.round(c*S)}const h=new OffscreenCanvas(o,c).getContext("2d",{willReadFrequently:!0});h.filter="grayscale(1)",h.drawImage(t,0,0,t.width,t.height,0,0,o,c);const f=h.getImageData(0,0,o,c).data;return[this.#h(f),o,c]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:s},a,o,c,u){let h=new OffscreenCanvas(1,1),f=h.getContext("2d",{alpha:!1});const g=200,m=f.font=`${n} ${s} ${g}px ${e}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:w,actualBoundingBoxAscent:x,actualBoundingBoxDescent:S,fontBoundingBoxAscent:_,fontBoundingBoxDescent:T,width:C}=f.measureText(t),k=1.5,R=Math.ceil(Math.max(Math.abs(y)+Math.abs(w)||0,C)*k),O=Math.ceil(Math.max(Math.abs(x)+Math.abs(S)||g,Math.abs(_)+Math.abs(T)||g)*k);h=new OffscreenCanvas(R,O),f=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=m,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,R,O),f.fillStyle="black",f.fillText(t,R*(k-1)/2,O*(3-k)/2);const N=this.#h(f.getImageData(0,0,R,O).data),P=this.#l(N),H=this.#u(P),W=this.#s(N,R,O,H);return this.processDrawnLines({lines:{curves:W,width:R,height:O},pageWidth:a,pageHeight:o,rotation:c,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(t,e,n,s,a){const[o,c,u]=this.#f(t),[h,f]=this.#d(o,c,u,Math.hypot(c,u)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),g=this.#u(f),m=this.#s(h,c,u,g);return this.processDrawnLines({lines:{curves:m,width:c,height:u},pageWidth:e,pageHeight:n,rotation:s,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:s,innerMargin:a,mustSmooth:o,areContours:c}){s%180!==0&&([e,n]=[n,e]);const{curves:u,width:h,height:f}=t,g=t.thickness??0,m=[],y=Math.min(e/h,n/f),w=y/e,x=y/n,S=[];for(const{points:T}of u){const C=o?this.#r(T):T;if(!C)continue;S.push(C);const k=C.length,R=new Float32Array(k),O=new Float32Array(3*(k===2?2:k-2));if(m.push({line:O,points:R}),k===2){R[0]=C[0]*w,R[1]=C[1]*x,O.set([NaN,NaN,NaN,NaN,R[0],R[1]],0);continue}let[N,P,H,W]=C;N*=w,P*=x,H*=w,W*=x,R.set([N,P,H,W],0),O.set([NaN,NaN,NaN,NaN,N,P],0);for(let K=4;K<k;K+=2){const et=R[K]=C[K]*w,lt=R[K+1]=C[K+1]*x;O.set(dt.createBezierPoints(N,P,H,W,et,lt),(K-2)*3),[N,P,H,W]=[H,W,et,lt]}}if(m.length===0)return null;const _=c?new _m:new Cc;return _.build(m,e,n,1,s,c?0:g,a),{outline:_,newCurves:S,areContours:c,thickness:g,width:h,height:f}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:s,height:a}){let o=1/0,c=-1/0,u=0;for(const C of t){u+=C.length;for(let k=2,R=C.length;k<R;k++){const O=C[k]-C[k-2];o=Math.min(o,O),c=Math.max(c,O)}}let h;o>=-128&&c<=127?h=Int8Array:o>=-32768&&c<=32767?h=Int16Array:h=Int32Array;const f=t.length,g=vd+Nl*f,m=new Uint32Array(g);let y=0;m[y++]=g*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*h.BYTES_PER_ELEMENT,m[y++]=0,m[y++]=s,m[y++]=a,m[y++]=e?0:1,m[y++]=Math.max(0,Math.floor(n??0)),m[y++]=f,m[y++]=h.BYTES_PER_ELEMENT;for(const C of t)m[y++]=C.length-2,m[y++]=C[0],m[y++]=C[1];const w=new CompressionStream("deflate-raw"),x=w.writable.getWriter();await x.ready,x.write(m);const S=h.prototype.constructor;for(const C of t){const k=new S(C.length-2);for(let R=2,O=C.length;R<O;R++)k[R-2]=C[R]-C[R-2];x.write(k)}x.close();const _=await new Response(w.readable).arrayBuffer(),T=new Uint8Array(_);return UC(T)}static async decompressSignature(t){try{const e=DH(t),{readable:n,writable:s}=new DecompressionStream("deflate-raw"),a=s.getWriter();await a.ready,a.write(e).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let o=null,c=0;for await(const C of n)o||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),o.set(C,c),c+=C.length;const u=new Uint32Array(o.buffer,0,o.length>>2),h=u[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const f=u[2],g=u[3],m=u[4]===0,y=u[5],w=u[6],x=u[7],S=[],_=(vd+Nl*w)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(x){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(o.buffer,_);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(o.buffer,_);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(o.buffer,_);break}c=0;for(let C=0;C<w;C++){const k=u[Nl*C+vd],R=new Float32Array(k+2);S.push(R);for(let O=0;O<Nl-1;O++)R[O]=u[Nl*C+vd+O+1];for(let O=0;O<k;O++)R[O+2]=R[O]+T[c++]}return{areContours:m,thickness:y,outlines:S,width:f,height:g}}catch(e){return At(`decompressSignature: ${e}`),null}}}class Gb extends xT{constructor(){super(),super.updateProperties({fill:yt._defaultLineColor,"stroke-width":0})}clone(){const t=new Gb;return t.updateAll(this),t}}class $b extends Rh{constructor(t){super(t),super.updateProperties({stroke:yt._defaultLineColor,"stroke-width":1})}clone(){const t=new $b(this._viewParameters);return t.updateAll(this),t}}class Ci extends wt{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=_t.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){yt.initialize(t,e),this._defaultDrawingOptions=new Gb,this._defaultDrawnSignatureOptions=new $b(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return It(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:s,mustSmooth:a,areContours:o,description:c,uuid:u,heightInPage:h}=this.#n,{rawDims:{pageWidth:f,pageHeight:g},rotation:m}=this.parent.viewport,y=Ra.processDrawnLines({lines:s,pageWidth:f,pageHeight:g,rotation:m,innerMargin:Ci._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(y,h,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:s,height:a}=this.#n,o=Math.max(s,a),c=Ra.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:n,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,s){const{x:a,y:o}=this,{outline:c}=this.#n=t;this.#t=c instanceof _m,this.description=n,this.div.setAttribute("data-l10n-args",JSON.stringify({description:n}));let u;this.#t?u=Ci.getDefaultDrawingOptions():(u=Ci._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[h,f]=this.parentDimensions,[,g]=this.pageDimensions;let m=e/g;m=m>=1?.5:m,this.width*=m/this.height,this.width>=1&&(m*=.9/this.width,this.width=.9),this.height=m,this.setDims(h*this.width,f*this.height),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:s}=this.parent.viewport;return Ra.process(t,e,n,s,Ci._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:s},rotation:a}=this.parent.viewport;return Ra.extractContoursFromText(t,e,n,s,a,Ci._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:s}=this.parent.viewport;return Ra.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:s,innerMargin:Ci._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Ci.getDefaultDrawingOptions():(this._drawingOptions=Ci._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n,rect:s}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,o={annotationType:_t.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:a,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.paths={lines:e,points:n},o.uuid=this.#i,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,n,s,a,o){return o.areContours?_m.deserialize(t,e,n,s,a,o):Cc.deserialize(t,e,n,s,a,o)}static async deserialize(t,e,n){const s=await super.deserialize(t,e,n);return s.#t=t.areContours,s.#e=t.accessibilityData?.alt||"",s.#i=t.uuid,s}}class nU extends yt{#t=null;#e=null;#n=null;#i=null;#a=null;#s="";#o=null;#r=!1;#d=null;#l=!1;#h=!1;static _type="stamp";static _editorType=_t.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){yt.initialize(t,e)}static isHandlingMimeForPasting(t){return Jd.includes(t)}static paste(t,e){e.pasteEditor({mode:_t.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#u(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#g()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,c=await n.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),e&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}#p(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#u(n,!0)).finally(()=>this.#f());return}if(this.#i){const n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(s=>this.#u(s)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(s=>this.#u(s)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=Jd.join(",");const e=this._uiManager._signal;this.#n=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(s)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#o?.remove(),this.#o=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#p();return}super.rebuild(),this.div!==null&&(this.#e&&this.#o===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#a||this.#e||this.#r)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#r||(this.#t?this.#g():this.#p()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,s&&(this.#t=s),this.#r=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#d!==null&&clearTimeout(this.#d);const t=200;this.#d=setTimeout(()=>{this.#d=null,this.#m()},t)}#g(){const{div:t}=this;let{width:e,height:n}=this.#t;const[s,a]=this.pageDimensions,o=.75;if(this.width)e=this.width*s,n=this.height*a;else if(e>o*s||n>o*a){const f=Math.min(o*s/e,o*a/n);e*=f,n*=f}const[c,u]=this.parentDimensions;this.setDims(e*c/s,n*u/a),this._uiManager.enableWaiting(!1);const h=this.#o=document.createElement("canvas");h.setAttribute("role","img"),this.addContainer(h),this.width=e/s,this.height=n/a,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:s,height:a}=this.#t,o=new ui;let c=this.#t,u=s,h=a,f=null;if(e){if(s>e||a>e){const O=Math.min(e/s,e/a);u=Math.floor(s*O),h=Math.floor(a*O)}f=document.createElement("canvas");const m=f.width=Math.ceil(u*o.sx),y=f.height=Math.ceil(h*o.sy);this.#l||(c=this.#c(m,y));const w=f.getContext("2d");w.filter=this._uiManager.hcmFilter;let x="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",S="#42414d");const _=15,T=_*o.sx,C=_*o.sy,k=new OffscreenCanvas(T*2,C*2),R=k.getContext("2d");R.fillStyle=x,R.fillRect(0,0,T*2,C*2),R.fillStyle=S,R.fillRect(0,0,T,C),R.fillRect(T,C,T,C),w.fillStyle=w.createPattern(k,"repeat"),w.fillRect(0,0,m,y),w.drawImage(c,0,0,c.width,c.height,0,0,m,y)}let g=null;if(n){let m,y;if(o.symmetric&&c.width<t&&c.height<t)m=c.width,y=c.height;else if(c=this.#t,s>t||a>t){const S=Math.min(t/s,t/a);m=Math.floor(s*S),y=Math.floor(a*S),this.#l||(c=this.#c(m,y))}const x=new OffscreenCanvas(m,y).getContext("2d",{willReadFrequently:!0});x.drawImage(c,0,0,c.width,c.height,0,0,m,y),g={width:m,height:y,data:x.getImageData(0,0,m,y).data}}return{canvas:f,width:u,height:h,imageData:g}}#c(t,e){const{width:n,height:s}=this.#t;let a=n,o=s,c=this.#t;for(;a>2*t||o>2*e;){const u=a,h=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(a,o);f.getContext("2d").drawImage(c,0,0,u,h,0,0,a,o),c=f.transferToImageBitmap()}return c}#m(){const[t,e]=this.parentDimensions,{width:n,height:s}=this,a=new ui,o=Math.ceil(n*t*a.sx),c=Math.ceil(s*e*a.sy),u=this.#o;if(!u||u.width===o&&u.height===c)return;u.width=o,u.height=c;const h=this.#l?this.#t:this.#c(o,c),f=u.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,o,c)}#b(t){if(t){if(this.#l){const s=this._uiManager.imageManager.getSvgUrl(this.#e);if(s)return s}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,s=Math.round(this.width*e*$a.PDF_TO_CSS_UNITS),a=Math.round(this.height*n*$a.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let s=null,a=!1;if(t instanceof bT){const{data:{rect:x,rotation:S,id:_,structParent:T,popupRef:C},container:k,parent:{page:{pageNumber:R}},canvas:O}=t;let N,P;O?(delete t.canvas,{id:N,bitmap:P}=n.imageManager.getFromCanvas(k.id,O),O.remove()):(a=!0,t._hasNoCanvas=!0);const H=(await e._structTree.getAriaAttributes(`${Rb}${_}`))?.get("aria-label")||"";s=t={annotationType:_t.STAMP,bitmapId:N,bitmap:P,pageIndex:R-1,rect:x.slice(0),rotation:S,annotationElementId:_,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:H},isSvg:!1,structParent:T,popupRef:C}}const o=await super.deserialize(t,e,n),{rect:c,bitmap:u,bitmapUrl:h,bitmapId:f,isSvg:g,accessibilityData:m}=t;a?(n.addMissingCanvas(t.id,o),o.#r=!0):f&&n.imageManager.isValidId(f)?(o.#e=f,u&&(o.#t=u)):o.#i=h,o.#l=g;const[y,w]=o.pageDimensions;return o.width=(c[2]-c[0])/y,o.height=(c[3]-c[1])/w,m&&(o.altTextData=m),o._initialData=s,o.#h=!!s,o}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:_t.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=this.#b(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(n.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=this.#y(n);if(c.isSame)return null;c.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,e===null)return n;e.stamps||=new Map;const o=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:o,serialized:n}),n.bitmap=this.#b(!1);else if(this.#l){const c=e.stamps.get(this.#e);o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=this.#b(!1))}return n}#y(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,s=t.pageIndex===e,a=(t.accessibilityData?.alt||"")===n;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class Mi{#t;#e=!1;#n=null;#i=null;#a=null;#s=new Map;#o=!1;#r=!1;#d=!1;#l=null;#h=null;#u=null;#f=null;#p=null;#g=-1;#c;static _initialized=!1;static#m=new Map([je,Vb,nU,we,Ci].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:s,accessibilityManager:a,annotationLayer:o,drawLayer:c,textLayer:u,viewport:h,l10n:f}){const g=[...Mi.#m.values()];if(!Mi._initialized){Mi._initialized=!0;for(const m of g)m.initialize(f,t)}t.registerEditorTypes(g),this.#c=t,this.pageIndex=e,this.div=n,this.#t=a,this.#n=o,this.viewport=h,this.#u=u,this.drawLayer=c,this._structTree=s,this.#c.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===_t.NONE}updateToolbar(t){this.#c.updateToolbar(t)}updateMode(t=this.#c.getMode()){switch(this.#S(),t){case _t.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case _t.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case _t.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of Mi.#m.values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#c.setEditingState(t)}addCommands(t){this.#c.addCommands(t)}cleanUndoStack(t){this.#c.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#d=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#p?.abort(),this.#p=null;const t=new Set;for(const n of this.#s.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#c.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!this.#n){this.#d=!1;return}const e=this.#n.getEditableAnnotations();for(const n of e){if(n.hide(),this.#c.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}this.#d=!1}disable(){if(this.#r=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#u&&!this.#p){this.#p=new AbortController;const s=this.#c.combinedSignal(this.#p);this.#u.div.addEventListener("pointerdown",a=>{const{clientX:c,clientY:u,timeStamp:h}=a,f=this.#g;if(h-f>500){this.#g=h;return}this.#g=-1;const{classList:g}=this.div;g.toggle("getElements",!0);const m=document.elementsFromPoint(c,u);if(g.toggle("getElements",!1),!this.div.contains(m[0]))return;let y;const w=new RegExp(`^${jC}[0-9]+$`);for(const S of m)if(w.test(S.id)){y=S.id;break}if(!y)return;const x=this.#s.get(y);x?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),x.dblclick())},{signal:s,capture:!0})}const t=new Map,e=new Map;for(const s of this.#s.values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){t.set(s.annotationElementId,s);continue}else e.set(s.annotationElementId,s);this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}if(this.#n){const s=this.#n.getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(this.#c.isDeletedAnnotationElement(o))continue;let c=e.get(o);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=t.get(o),c&&(this.#c.addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}this.#S(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of Mi.#m.values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#r=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#c.getActive()!==t&&this.#c.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#c.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#b(t){this.#c.unselectAll();const{target:e}=t;if(e===this.#u.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#u.div.contains(e)){const{isMac:n}=Ge.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#c.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),we.startHighlighting(this,this.#c.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#c.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#c.isDeletedAnnotationElement(e)&&this.#c.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#r&&t.annotationElementId&&this.#c.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#c.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#c.addDeletedAnnotationElement(t.annotationElementId),yt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#c.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#d),this.#c.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return this.#c.getId()}get#y(){return Mi.#m.get(this.#c.getMode())}combinedSignal(t){return this.#c.combinedSignal(t)}#x(t){const e=this.#y;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#c.updateMode(t.mode);const{offsetX:n,offsetY:s}=this.#w(),a=this.getNextId(),o=this.#x({parent:this,id:a,x:n,y:s,uiManager:this.#c,isCentered:!0,...e});o&&this.add(o)}async deserialize(t){return await Mi.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#c)||null}createAndAddNewEditor(t,e,n={}){const s=this.getNextId(),a=this.#x({parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:this.#c,isCentered:e,...n});return a&&this.add(a),a}#w(){const{x:t,y:e,width:n,height:s}=this.div.getBoundingClientRect(),a=Math.max(0,t),o=Math.max(0,e),c=Math.min(window.innerWidth,t+n),u=Math.min(window.innerHeight,e+s),h=(a+c)/2-t,f=(o+u)/2-e,[g,m]=this.viewport.rotation%180===0?[h,f]:[f,h];return{offsetX:g,offsetY:m}}addNewEditor(t={}){this.createAndAddNewEditor(this.#w(),!0,t)}setSelected(t){this.#c.setSelected(t)}toggleSelected(t){this.#c.toggleSelected(t)}unselect(t){this.#c.unselect(t)}pointerup(t){const{isMac:e}=Ge.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#o||(this.#o=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#c.getMode();if(n===_t.STAMP||n===_t.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#c.getMode()===_t.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:e}=Ge.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#o=!0,this.#y?.isDrawer){this.startDrawingSession(t);return}const n=this.#c.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#c,!1,t);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#h=null,this.commitOrRemove())},{signal:e}),this.#y.startDrawing(this,this.#c,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#h=e);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(t=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#y.endDrawing(t)):null}findNewParent(t,e,n){const s=this.#c.findParent(e,n);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#c.removeLayer(this)}#S(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Qs(this.div,t);for(const e of this.#c.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#c.commitOrRemove(),this.#S();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Qs(this.div,{rotation:n}),e!==n)for(const s of this.#s.values())s.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#c.viewParameters.realScale}}class Ve{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return It(this,"_svgFactory",new oc)}static#a(t,[e,n,s,a]){const{style:o}=t;o.top=`${100*n}%`,o.left=`${100*e}%`,o.width=`${100*s}%`,o.height=`${100*a}%`}#s(){const t=Ve._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#o(t,e){const n=Ve._svgFactory.createElement("clipPath");t.append(n);const s=`clip_${e}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const a=Ve._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),s}#r(t,e){for(const[n,s]of Object.entries(e))s===null?t.removeAttribute(n):t.setAttribute(n,s)}draw(t,e=!1,n=!1){const s=Ve.#i++,a=this.#s(),o=Ve._svgFactory.createElement("defs");a.append(o);const c=Ve._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(s,c);const h=n?this.#o(o,u):null,f=Ve._svgFactory.createElement("use");return a.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(a,t),this.#e.set(s,a),{id:s,clipPathId:`url(#${h})`}}drawOutline(t,e){const n=Ve.#i++,s=this.#s(),a=Ve._svgFactory.createElement("defs");s.append(a);const o=Ve._svgFactory.createElement("path");a.append(o);const c=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(e){const g=Ve._svgFactory.createElement("mask");a.append(g),u=`mask_p${this.pageIndex}_${n}`,g.setAttribute("id",u),g.setAttribute("maskUnits","objectBoundingBox");const m=Ve._svgFactory.createElement("rect");g.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const y=Ve._svgFactory.createElement("use");g.append(y),y.setAttribute("href",`#${c}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const h=Ve._svgFactory.createElement("use");s.append(h),h.setAttribute("href",`#${c}`),u&&h.setAttribute("mask",`url(#${u})`);const f=h.cloneNode();return s.append(f),h.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(s,t),this.#e.set(n,s),n}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:s,rootClass:a,path:o}=e,c=typeof t=="number"?this.#e.get(t):t;if(c){if(n&&this.#r(c,n),s&&Ve.#a(c,s),a){const{classList:u}=c;for(const[h,f]of Object.entries(a))u.toggle(h,f)}if(o){const h=c.firstChild.firstChild;this.#r(h,o)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:wm};globalThis.pdfjsLib={AbortException:us,AnnotationEditorLayer:Mi,AnnotationEditorParamsType:jt,AnnotationEditorType:_t,AnnotationEditorUIManager:ds,AnnotationLayer:Ub,AnnotationMode:Di,AnnotationType:xe,build:dT,ColorPicker:In,createValidAbsoluteUrl:Eb,DOMSVGFactory:oc,DrawLayer:Ve,FeatureTest:Ge,fetchData:wo,getDocument:jb,getFilenameFromUrl:VC,getPdfFilenameFromUrl:GC,getUuid:Tb,getXfaPageViewport:$C,GlobalWorkerOptions:Gs,ImageKind:Yl,InvalidPDFException:Zd,isDataScheme:Sc,isPdfFile:Ch,isValidExplicitDest:XC,MathClamp:an,noContextMenu:ii,normalizeUnicode:HC,OPS:ic,OutputScale:ui,PasswordResponses:zC,PDFDataRangeTransport:zb,PDFDateString:Mb,PDFWorker:uo,PermissionFlag:FC,PixelsPerInch:$a,RenderingCancelledException:Eh,ResponseException:sc,setLayerDimensions:Qs,shadow:It,SignatureExtractor:Ra,stopEvent:Se,SupportedImageMimeTypes:Jd,TextLayer:ac,TouchManager:Ac,updateUrlHash:Cb,Util:mt,VerbosityLevel:vc,version:uT,XfaLayer:Bb};const iU=Object.freeze(Object.defineProperty({__proto__:null,AbortException:us,AnnotationEditorLayer:Mi,AnnotationEditorParamsType:jt,AnnotationEditorType:_t,AnnotationEditorUIManager:ds,AnnotationLayer:Ub,AnnotationMode:Di,AnnotationType:xe,ColorPicker:In,DOMSVGFactory:oc,DrawLayer:Ve,FeatureTest:Ge,GlobalWorkerOptions:Gs,ImageKind:Yl,InvalidPDFException:Zd,MathClamp:an,OPS:ic,OutputScale:ui,PDFDataRangeTransport:zb,PDFDateString:Mb,PDFWorker:uo,PasswordResponses:zC,PermissionFlag:FC,PixelsPerInch:$a,RenderingCancelledException:Eh,ResponseException:sc,SignatureExtractor:Ra,SupportedImageMimeTypes:Jd,TextLayer:ac,TouchManager:Ac,Util:mt,VerbosityLevel:vc,XfaLayer:Bb,build:dT,createValidAbsoluteUrl:Eb,fetchData:wo,getDocument:jb,getFilenameFromUrl:VC,getPdfFilenameFromUrl:GC,getUuid:Tb,getXfaPageViewport:$C,isDataScheme:Sc,isPdfFile:Ch,isValidExplicitDest:XC,noContextMenu:ii,normalizeUnicode:HC,setLayerDimensions:Qs,shadow:It,stopEvent:Se,updateUrlHash:Cb,version:uT},Symbol.toStringTag,{value:"Module"}));var D_=Object.prototype.hasOwnProperty;function O_(i,t,e){for(e of i.keys())if(no(e,t))return e}function no(i,t){var e,n,s;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&no(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(s=n,s&&typeof s=="object"&&(s=O_(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(s=n[0],s&&typeof s=="object"&&(s=O_(t,s),!s)||!no(n[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(D_.call(i,e)&&++n&&!D_.call(t,e)||!(e in t)||!no(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}function Tc(i){let t=!1;return{promise:new Promise((n,s)=>{i.then(a=>!t&&n(a)).catch(a=>!t&&s(a))}),cancel(){t=!0}}}const sU=["onCopy","onCut","onPaste"],aU=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],rU=["onFocus","onBlur"],oU=["onInput","onInvalid","onReset","onSubmit"],lU=["onLoad","onError"],cU=["onKeyDown","onKeyPress","onKeyUp"],uU=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],dU=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],hU=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],fU=["onSelect"],pU=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],gU=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],mU=["onScroll"],bU=["onWheel"],yU=["onAnimationStart","onAnimationEnd","onAnimationIteration"],vU=["onTransitionEnd"],xU=["onToggle"],wU=["onChange"],SU=[...sU,...aU,...rU,...oU,...lU,...cU,...uU,...dU,...hU,...fU,...pU,...gU,...mU,...bU,...yU,...vU,...wU,...xU];function wT(i,t){const e={};for(const n of SU){const s=i[n];s&&(t?e[n]=a=>s(a,t(n)):e[n]=s)}return e}var _U="Invariant failed";function ee(i,t){if(!i)throw new Error(_U)}var Hg,N_;function AU(){if(N_)return Hg;N_=1;var i=function(){};return Hg=i,Hg}var EU=AU();const on=Cm(EU),ST=M.createContext(null),CU="noopener noreferrer nofollow";class TU{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ee(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ee(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{ee(this.pdfDocument),ee(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{ee(Array.isArray(e));const n=e[0];new Promise(s=>{ee(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(a=>{s(a)}).catch(()=>{ee(!1)}):typeof n=="number"?s(n):ee(!1)}).then(s=>{const a=s+1;ee(this.pdfViewer),ee(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:a})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;ee(this.pdfViewer),ee(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||CU,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function io({children:i,type:t}){return A.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const L_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function RU(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function ho(){return M.useReducer(RU,{value:void 0,error:void 0})}const Mh=typeof window<"u",_T=Mh&&window.location.protocol==="file:";function MU(i){return typeof i<"u"}function Ca(i){return MU(i)&&i!==null}function kU(i){return typeof i=="string"}function DU(i){return i instanceof ArrayBuffer}function OU(i){return ee(Mh),i instanceof Blob}function Am(i){return kU(i)&&/^data:/.test(i)}function P_(i){ee(Am(i));const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function NU(){return Mh&&window.devicePixelRatio||1}const AT="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function I_(){on(!_T,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${AT}`)}function LU(){on(!_T,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${AT}`)}function Wa(i){i?.cancel&&i.cancel()}function Em(i,t){return Object.defineProperty(i,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function PU(i){return i.name==="RenderingCancelledException"}function IU(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:a}=s.target;if(!a)return e(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}const{PDFDataRangeTransport:jU}=iU,FU=(i,t)=>{switch(t){case L_.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case L_.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function j_(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const zU=M.forwardRef(function({children:t,className:e,error:n="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:a,file:o,inputRef:c,imageResourcesPath:u,loading:h="Loading PDF…",noData:f="No PDF file specified.",onItemClick:g,onLoadError:m,onLoadProgress:y,onLoadSuccess:w,onPassword:x=FU,onSourceError:S,onSourceSuccess:_,options:T,renderMode:C,rotate:k,scale:R,...O},N){const[P,H]=ho(),{value:W,error:K}=P,[et,lt]=ho(),{value:at,error:rt}=et,L=M.useRef(new TU),F=M.useRef([]),V=M.useRef(void 0),ut=M.useRef(void 0);o&&o!==V.current&&j_(o)&&(on(!no(o,V.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),V.current=o),T&&T!==ut.current&&(on(!no(T,ut.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ut.current=T);const I=M.useRef({scrollPageIntoView:Rt=>{const{dest:Yt,pageNumber:be,pageIndex:Te=be-1}=Rt;if(g){g({dest:Yt,pageIndex:Te,pageNumber:be});return}const qe=F.current[Te];if(qe){qe.scrollIntoView();return}on(!1,`An internal link leading to page ${be} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});M.useImperativeHandle(N,()=>({linkService:L,pages:F,viewer:I}),[]);function Z(){_&&_()}function B(){K&&(on(!1,K.toString()),S&&S(K))}function G(){H({type:"RESET"})}M.useEffect(G,[o,H]);const J=M.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return Am(o)?{data:P_(o)}:(I_(),{url:o});if(o instanceof jU)return{range:o};if(DU(o))return{data:o};if(Mh&&OU(o))return{data:await IU(o)};if(ee(typeof o=="object"),ee(j_(o)),"url"in o&&typeof o.url=="string"){if(Am(o.url)){const{url:Rt,...Yt}=o;return{data:P_(Rt),...Yt}}I_()}return o},[o]);M.useEffect(()=>{const Rt=Tc(J());return Rt.promise.then(Yt=>{H({type:"RESOLVE",value:Yt})}).catch(Yt=>{H({type:"REJECT",error:Yt})}),()=>{Wa(Rt)}},[J,H]),M.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){B();return}Z()}},[W]);function st(){at&&(w&&w(at),F.current=new Array(at.numPages),L.current.setDocument(at))}function ot(){rt&&(on(!1,rt.toString()),m&&m(rt))}M.useEffect(function(){lt({type:"RESET"})},[lt,W]),M.useEffect(function(){if(!W)return;const Yt=T?{...W,...T}:W,be=jb(Yt);y&&(be.onProgress=y),x&&(be.onPassword=x);const Te=be,qe=Te.promise.then(na=>{lt({type:"RESOLVE",value:na})}).catch(na=>{Te.destroyed||lt({type:"REJECT",error:na})});return()=>{qe.finally(()=>Te.destroy())}},[T,lt,W]),M.useEffect(()=>{if(!(typeof at>"u")){if(at===!1){ot();return}st()}},[at]),M.useEffect(function(){L.current.setViewer(I.current),L.current.setExternalLinkRel(s),L.current.setExternalLinkTarget(a)},[s,a]);const ct=M.useCallback((Rt,Yt)=>{F.current[Rt]=Yt},[]),bt=M.useCallback(Rt=>{delete F.current[Rt]},[]),Et=M.useMemo(()=>({imageResourcesPath:u,linkService:L.current,onItemClick:g,pdf:at,registerPage:ct,renderMode:C,rotate:k,scale:R,unregisterPage:bt}),[u,g,at,ct,C,k,R,bt]),Mt=M.useMemo(()=>wT(O,()=>at),[O,at]);function Ee(){function Rt(be){return!!be?.pdf}if(!Rt(Et))throw new Error("pdf is undefined");const Yt=typeof t=="function"?t(Et):t;return A.jsx(ST.Provider,{value:Et,children:Yt})}function Ce(){return o?at==null?A.jsx(io,{type:"loading",children:typeof h=="function"?h():h}):at===!1?A.jsx(io,{type:"error",children:typeof n=="function"?n():n}):Ee():A.jsx(io,{type:"no-data",children:typeof f=="function"?f():f})}return A.jsx("div",{className:$s("react-pdf__Document",e),ref:c,...Mt,children:Ce()})});function ET(){return M.useContext(ST)}function CT(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(a){for(var o=0,c=e;o<c.length;o++){var u=c[o];typeof u=="function"?u(a):u&&(u.current=a)}}}const TT=M.createContext(null);function kh(){return M.useContext(TT)}function BU(){const i=ET(),t=kh();ee(t);const e={...i,...t},{imageResourcesPath:n,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:u,page:h,pdf:f,renderForms:g,rotate:m,scale:y=1}=e;ee(f),ee(h),ee(s);const[w,x]=ho(),{value:S,error:_}=w,T=M.useRef(null);on(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function C(){S&&o&&o(S)}function k(){_&&(on(!1,_.toString()),a&&a(_))}M.useEffect(function(){x({type:"RESET"})},[x,h]),M.useEffect(function(){if(!h)return;const H=Tc(h.getAnnotations()),W=H;return H.promise.then(K=>{x({type:"RESOLVE",value:K})}).catch(K=>{x({type:"REJECT",error:K})}),()=>{Wa(W)}},[x,h]),M.useEffect(()=>{if(S!==void 0){if(S===!1){k();return}C()}},[S]);function R(){u&&u()}function O(P){on(!1,`${P}`),c&&c(P)}const N=M.useMemo(()=>h.getViewport({scale:y,rotation:m}),[h,m,y]);return M.useEffect(function(){if(!f||!h||!s||!S)return;const{current:H}=T;if(!H)return;const W=N.clone({dontFlip:!0}),K={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:H,l10n:null,page:h,structTreeLayer:null,viewport:W},et={annotations:S,annotationStorage:f.annotationStorage,div:H,imageResourcesPath:n,linkService:s,page:h,renderForms:g,viewport:W};H.innerHTML="";try{new Ub(K).render(et),R()}catch(lt){O(lt)}return()=>{}},[S,n,s,h,f,g,N]),A.jsx("div",{className:$s("react-pdf__Page__annotations","annotationLayer"),ref:T})}const RT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HU=/^H(\d+)$/;function UU(i){return i in RT}function Dh(i){return"children"in i}function MT(i){return Dh(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function VU(i){const t={};if(Dh(i)){const{role:e}=i,n=e.match(HU);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(UU(e)){const s=RT[e];s&&(t.role=s)}}return t}function kT(i){const t={};if(Dh(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),MT(i)){const[e]=i.children;if(e){const n=kT(e);return{...t,...n}}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function GU(i){return i?{...VU(i),...kT(i)}:null}function DT({className:i,node:t}){const e=M.useMemo(()=>GU(t),[t]),n=M.useMemo(()=>!Dh(t)||MT(t)?null:t.children.map((s,a)=>A.jsx(DT,{node:s},a)),[t]);return A.jsx("span",{className:i,...e,children:n})}function $U(){const i=kh();ee(i);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,s]=ho(),{value:a,error:o}=n,{customTextRenderer:c,page:u}=i;function h(){a&&e&&e(a)}function f(){o&&(on(!1,o.toString()),t&&t(o))}return M.useEffect(function(){s({type:"RESET"})},[s,u]),M.useEffect(function(){if(c||!u)return;const m=Tc(u.getStructTree()),y=m;return m.promise.then(w=>{s({type:"RESOLVE",value:w})}).catch(w=>{s({type:"REJECT",error:w})}),()=>Wa(y)},[c,u,s]),M.useEffect(()=>{if(a!==void 0){if(a===!1){f();return}h()}},[a]),a?A.jsx(DT,{className:"react-pdf__Page__structTree structTree",node:a}):null}const F_=Di;function qU(i){const t=kh();ee(t);const e={...t,...i},{_className:n,canvasBackground:s,devicePixelRatio:a=NU(),onRenderError:o,onRenderSuccess:c,page:u,renderForms:h,renderTextLayer:f,rotate:g,scale:m}=e,{canvasRef:y}=i;ee(u);const w=M.useRef(null);function x(){u&&c&&c(Em(u,m))}function S(k){PU(k)||(on(!1,k.toString()),o&&o(k))}const _=M.useMemo(()=>u.getViewport({scale:m*a,rotation:g}),[a,u,g,m]),T=M.useMemo(()=>u.getViewport({scale:m,rotation:g}),[u,g,m]);M.useEffect(function(){if(!u)return;u.cleanup();const{current:R}=w;if(!R)return;R.width=_.width,R.height=_.height,R.style.width=`${Math.floor(T.width)}px`,R.style.height=`${Math.floor(T.height)}px`,R.style.visibility="hidden";const O={annotationMode:h?F_.ENABLE_FORMS:F_.ENABLE,canvasContext:R.getContext("2d",{alpha:!1}),viewport:_};s&&(O.background=s);const N=u.render(O),P=N;return N.promise.then(()=>{R.style.visibility="",x()}).catch(S),()=>Wa(P)},[s,u,h,_,T]);const C=M.useCallback(()=>{const{current:k}=w;k&&(k.width=0,k.height=0)},[]);return M.useEffect(()=>C,[C]),A.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:CT(y,w),style:{display:"block",userSelect:"none"},children:f?A.jsx($U,{}):null})}function WU(i){return"str"in i}function YU(){const i=kh();ee(i);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:o,pageIndex:c,pageNumber:u,rotate:h,scale:f}=i;ee(o);const[g,m]=ho(),{value:y,error:w}=g,x=M.useRef(null);on(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){y&&n&&n(y)}function _(){w&&(on(!1,w.toString()),e&&e(w))}M.useEffect(function(){m({type:"RESET"})},[o,m]),M.useEffect(function(){if(!o)return;const P=Tc(o.getTextContent()),H=P;return P.promise.then(W=>{m({type:"RESOLVE",value:W})}).catch(W=>{m({type:"REJECT",error:W})}),()=>Wa(H)},[o,m]),M.useEffect(()=>{if(y!==void 0){if(y===!1){_();return}S()}},[y]);const T=M.useCallback(()=>{a&&a()},[a]),C=M.useCallback(N=>{on(!1,N.toString()),s&&s(N)},[s]);function k(){const N=x.current;N&&N.classList.add("selecting")}function R(){const N=x.current;N&&N.classList.remove("selecting")}const O=M.useMemo(()=>o.getViewport({scale:f,rotation:h}),[o,h,f]);return M.useLayoutEffect(function(){if(!o||!y)return;const{current:P}=x;if(!P)return;P.innerHTML="";const H=o.streamTextContent({includeMarkedContent:!0}),W={container:P,textContentSource:H,viewport:O},K=new ac(W),et=K;return K.render().then(()=>{const lt=document.createElement("div");lt.className="endOfContent",P.append(lt);const at=P.querySelectorAll('[role="presentation"]');if(t){let rt=0;y.items.forEach((L,F)=>{if(!WU(L))return;const V=at[rt];if(!V)return;const ut=t({pageIndex:c,pageNumber:u,itemIndex:F,...L});V.innerHTML=ut,rt+=L.str&&L.hasEOL?2:1})}T()}).catch(C),()=>Wa(et)},[t,C,T,o,c,u,y,O]),A.jsx("div",{className:$s("react-pdf__Page__textContent","textLayer"),onMouseUp:R,onMouseDown:k,ref:x})}const z_=1;function XU(i){const e={...ET(),...i},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:a,canvasRef:o,children:c,className:u,customRenderer:h,customTextRenderer:f,devicePixelRatio:g,error:m="Failed to load the page.",height:y,inputRef:w,loading:x="Loading page…",noData:S="No page specified.",onGetAnnotationsError:_,onGetAnnotationsSuccess:T,onGetStructTreeError:C,onGetStructTreeSuccess:k,onGetTextError:R,onGetTextSuccess:O,onLoadError:N,onLoadSuccess:P,onRenderAnnotationLayerError:H,onRenderAnnotationLayerSuccess:W,onRenderError:K,onRenderSuccess:et,onRenderTextLayerError:lt,onRenderTextLayerSuccess:at,pageIndex:rt,pageNumber:L,pdf:F,registerPage:V,renderAnnotationLayer:ut=!0,renderForms:I=!1,renderMode:Z="canvas",renderTextLayer:B=!0,rotate:G,scale:J=z_,unregisterPage:st,width:ot,...ct}=e,[bt,Et]=ho(),{value:Mt,error:Ee}=bt,Ce=M.useRef(null);ee(F);const Rt=Ca(L)?L-1:rt??null,Yt=L??(Ca(rt)?rt+1:null),be=G??(Mt?Mt.rotate:null),Te=M.useMemo(()=>{if(!Mt)return null;let he=1;const ln=J??z_;if(ot||y){const fe=Mt.getViewport({scale:1,rotation:be});ot?he=ot/fe.width:y&&(he=y/fe.height)}return ln*he},[y,Mt,be,J,ot]);M.useEffect(function(){return()=>{Ca(Rt)&&s&&st&&st(Rt)}},[s,F,Rt,st]);function qe(){if(P){if(!Mt||!Te)return;P(Em(Mt,Te))}if(s&&V){if(!Ca(Rt)||!Ce.current)return;V(Rt,Ce.current)}}function na(){Ee&&(on(!1,Ee.toString()),N&&N(Ee))}M.useEffect(function(){Et({type:"RESET"})},[Et,F,Rt]),M.useEffect(function(){if(!F||!Yt)return;const ln=Tc(F.getPage(Yt)),fe=ln;return ln.promise.then(So=>{Et({type:"RESOLVE",value:So})}).catch(So=>{Et({type:"REJECT",error:So})}),()=>Wa(fe)},[Et,F,Yt]),M.useEffect(()=>{if(Mt!==void 0){if(Mt===!1){na();return}qe()}},[Mt,Te]);const Ka=M.useMemo(()=>Ca(Rt)&&Yt&&Ca(be)&&Ca(Te)?{_className:n,canvasBackground:a,customTextRenderer:f,devicePixelRatio:g,onGetAnnotationsError:_,onGetAnnotationsSuccess:T,onGetStructTreeError:C,onGetStructTreeSuccess:k,onGetTextError:R,onGetTextSuccess:O,onRenderAnnotationLayerError:H,onRenderAnnotationLayerSuccess:W,onRenderError:K,onRenderSuccess:et,onRenderTextLayerError:lt,onRenderTextLayerSuccess:at,page:Mt,pageIndex:Rt,pageNumber:Yt,renderForms:I,renderTextLayer:B,rotate:be,scale:Te}:null,[n,a,f,g,_,T,C,k,R,O,H,W,K,et,lt,at,Mt,Rt,Yt,I,B,be,Te]),Rc=M.useMemo(()=>wT(ct,()=>Mt&&(Te?Em(Mt,Te):void 0)),[ct,Mt,Te]),ji=`${Rt}@${Te}/${be}`;function Oh(){switch(Z){case"custom":return ee(h),A.jsx(h,{},`${ji}_custom`);case"none":return null;case"canvas":default:return A.jsx(qU,{canvasRef:o},`${ji}_canvas`)}}function Mc(){return B?A.jsx(YU,{},`${ji}_text`):null}function Nh(){return ut?A.jsx(BU,{},`${ji}_annotations`):null}function Lh(){function he(fe){return!!fe?.page}if(!he(Ka))throw new Error("page is undefined");const ln=typeof c=="function"?c(Ka):c;return A.jsxs(TT.Provider,{value:Ka,children:[Oh(),Mc(),Nh(),ln]})}function ia(){return Yt?F===null||Mt===void 0||Mt===null?A.jsx(io,{type:"loading",children:typeof x=="function"?x():x}):F===!1||Mt===!1?A.jsx(io,{type:"error",children:typeof m=="function"?m():m}):Lh():A.jsx(io,{type:"no-data",children:typeof S=="function"?S():S})}return A.jsx("div",{className:$s(n,u),"data-page-number":Yt,ref:CT(w,Ce),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Te}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Rc,children:ia()})}LU();Gs.workerSrc="pdf.worker.mjs";Gs.workerSrc=new URL("/assets/pdf.worker.min--PgD6g2g.mjs",import.meta.url).toString();function KU({pdfUrl:i,isLoading:t}){const[e,n]=M.useState(1),[s,a]=M.useState(null),[o,c]=M.useState(100),[u,h]=M.useState(0),[f,g]=M.useState(!1);function m({numPages:k}){a(k),n(1)}const y=()=>{c(k=>Math.min(k+25,200))},w=()=>{c(k=>Math.max(k-25,50))},x=()=>{h(k=>(k+90)%360)},S=()=>{n(k=>Math.max(k-1,1))},_=()=>{s&&n(k=>Math.min(k+1,s))},T=()=>{const k=document.getElementById("pdf-viewer-container");k&&(document.fullscreenElement?document.exitFullscreen():k.requestFullscreen().catch(R=>{alert(`Error al intentar activar el modo de pantalla completa: ${R.message} (${R.name})`)}))};M.useEffect(()=>{const k=()=>{g(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",k),()=>document.removeEventListener("fullscreenchange",k)},[]);const C=()=>{const k=document.createElement("a");k.href=i,k.download="resolucion.pdf",document.body.appendChild(k),k.click(),document.body.removeChild(k)};return t?A.jsx("div",{className:"flex items-center justify-center h-96 bg-gray-100 rounded-lg",children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),A.jsx("p",{className:"text-gray-600",children:"Cargando documento PDF..."})]})}):i?A.jsxs("div",{id:"pdf-viewer-container",className:`bg-gray-100 rounded-lg ${f?"bg-white":""}`,children:[A.jsxs("div",{className:"flex flex-col md:items-center justify-between p-4 bg-white border-b border-gray-200 md:flex-row gap-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Pt,{variant:"outline",size:"sm",onClick:S,disabled:e===1,children:A.jsx(bA,{className:"w-4 h-4"})}),A.jsxs("span",{className:"text-sm font-medium px-2",children:[e," de ",s||"..."]}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:_,disabled:!s||e===s,children:A.jsx(yA,{className:"w-4 h-4"})})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Pt,{variant:"outline",size:"sm",onClick:w,disabled:o<=50,children:A.jsx(Xg,{className:"w-4 h-4"})}),A.jsxs("span",{className:"text-sm font-medium px-2",children:[o,"%"]}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:y,disabled:o>=200,children:A.jsx(Yg,{className:"w-4 h-4"})})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Pt,{variant:"outline",size:"sm",onClick:x,children:A.jsx(xA,{className:"w-4 h-4"})}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:T,children:A.jsx(vA,{className:"w-4 h-4"})}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:C,children:A.jsx(Nm,{className:"w-4 h-4"})})]})]}),A.jsx("div",{className:"p-4 overflow-auto",style:{height:f?"calc(100vh - 65px)":"600px"},children:A.jsx("div",{className:"flex justify-center",children:A.jsx(zU,{file:i,onLoadSuccess:m,loading:A.jsx("p",{children:" Cargando PDF... "}),error:A.jsx("p",{children:" Lo sentimos, no se pudo cargar el PDF. Esto puede deberse a un error de red o al alto volumen de peticiones. Por favor, inténtelo de nuevo más tarde. "}),children:A.jsx(XU,{pageNumber:e,scale:o/100,rotate:u,renderTextLayer:!0,renderAnnotationLayer:!0})})})})]}):A.jsx("div",{className:"flex items-center justify-center h-96 bg-gray-100 rounded-lg",children:A.jsx("p",{className:"text-gray-500",children:"No hay documento para mostrar."})})}function B_({imgUrl:i,isLoading:t,fileNameDownload:e}){const[n,s]=M.useState(1),[a]=M.useState(5),[o,c]=M.useState(100),[u,h]=M.useState(0),[f,g]=M.useState(!1),m=()=>{c(C=>Math.min(C+25,200))},y=()=>{c(C=>Math.max(C-25,50))},w=()=>{h(C=>(C+90)%360)},x=()=>{s(C=>Math.max(C-1,1))},S=()=>{s(C=>Math.min(C+1,a))},_=()=>{g(!f)},T=()=>{const C=document.createElement("a");C.href=i,C.download=e||"imagen.jpg",C.click()};return t?A.jsx("div",{className:"flex items-center justify-center h-96 bg-gray-100 rounded-lg",children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),A.jsx("p",{className:"text-gray-600",children:"Cargando documento Image..."})]})}):A.jsxs("div",{className:`bg-gray-100 rounded-lg ${f?"fixed inset-0 z-50 bg-white":""}`,children:[A.jsx("div",{className:"flex items-center justify-between p-4 bg-white border-b border-gray-200",children:A.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[A.jsx(Pt,{variant:"outline",size:"sm",onClick:y,disabled:o<=50,children:A.jsx(Xg,{className:"w-4 h-4"})}),A.jsxs("span",{className:"text-sm font-medium px-2",children:[o,"%"]}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:m,disabled:o>=200,children:A.jsx(Yg,{className:"w-4 h-4"})}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:w,children:A.jsx(xA,{className:"w-4 h-4"})}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:_,children:A.jsx(vA,{className:"w-4 h-4"})}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:T,children:A.jsx(Nm,{className:"w-4 h-4"})})]})}),A.jsx("div",{className:"p-4 overflow-auto",style:{height:f?"calc(100vh - 80px)":"600px"},children:A.jsx("div",{className:"flex justify-center",children:A.jsx("div",{className:"bg-white shadow-lg border border-gray-300 transition-transform",style:{transform:`scale(${o/100}) rotate(${u}deg)`,transformOrigin:"center center"},children:A.jsx("img",{src:i,className:"bg-white p-8 text-sm leading-relaxed"})})})}),A.jsxs("div",{className:"md:hidden fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-white rounded-full shadow-lg p-2 flex items-center space-x-2",children:[A.jsx(Pt,{variant:"outline",size:"sm",onClick:x,disabled:n===1,children:A.jsx(bA,{className:"w-4 h-4"})}),A.jsxs("span",{className:"text-xs px-2",children:[n,"/",a]}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:S,disabled:n===a,children:A.jsx(yA,{className:"w-4 h-4"})}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:y,disabled:o<=50,children:A.jsx(Xg,{className:"w-4 h-4"})}),A.jsx(Pt,{variant:"outline",size:"sm",onClick:m,disabled:o>=200,children:A.jsx(Yg,{className:"w-4 h-4"})})]})]})}const QU={voto_valido:"Votos Válidos",voto_blanco:"Votos Blancos",voto_nulo:"Votos Nulos",voto_emitido:"Votos Emitidos"},xd=["voto_valido","voto_blanco","voto_nulo","voto_emitido"],ZU="/resolution.pdf",H_=!1,JU=()=>{const{actaData:i,fetchProveido:t,fetchResolucion:e,isFetchingProveido:n,isFetchingResolucion:s,isLoading:a,serverDate:o}=Om(),[c,u]=M.useState(null);M.useEffect(()=>{c||(async()=>{try{const O=await fetch(ZU);if(!O.ok)throw new Error(`Error HTTP al cargar el PDF: ${O.status} ${O.statusText}`);const N=await O.blob();if(N.size===0)throw new Error("El archivo PDF se cargó pero está vacío. Revisa la red o reinicia el servidor.");const P=await h(N);u(P)}catch(O){console.error("Ocurrió un error en el proceso:",O)}})()},[]);const h=R=>new Promise((O,N)=>{const P=new FileReader;P.onerror=N,P.onload=()=>{const H=P.result;if(typeof H=="string"){const W=H.split(",")[1];W?O(W):N(new Error("No se pudo extraer la cadena Base64 del resultado del lector."))}else N(new Error("El resultado del lector de archivos no fue un string."))},P.readAsDataURL(R)}),[f,g]=M.useState("acta");if(!i)return null;const m=R=>{g(R),R==="proveido"&&i.hasProveido&&!i.proveidoImage&&t(),R==="resolucion"&&i.hasResolucion&&!i.resolucionImage&&e()},y=new Map(i.tabla[0].map(R=>[R.nombre,R.valor])),w=i.tabla.flat().map(R=>R.nombre),x=[...new Set(w)],S=x.filter(R=>!xd.includes(R)),_=x.filter(R=>xd.includes(R));S.sort((R,O)=>{const N=parseInt(R.split("_")[1]||"0"),P=parseInt(O.split("_")[1]||"0");return N-P}),_.sort((R,O)=>xd.indexOf(R)-xd.indexOf(O));const T=S.map(R=>({sigla:R,presidente:y.get(R)||"N/A"})),C=_.map(R=>({sigla:QU[R]||R,presidente:y.get(R)||"N/A"})),k=[...T,...C];return A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[A.jsx("div",{className:"lg:col-span-1",children:A.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[A.jsxs("div",{className:"grid grid-cols-2 bg-red-800 text-white text-xs font-medium",children:[A.jsx("div",{className:"px-2 py-2 border-r border-red-700",children:"Sigla"}),A.jsx("div",{className:"px-2 py-2 border-r border-red-700 text-center",children:"Presidente"})]}),A.jsx("div",{className:"divide-y divide-gray-200",children:k.map((R,O)=>A.jsxs("div",{className:`grid grid-cols-2 text-xs ${O%2===0?"bg-white":"bg-gray-50"}`,children:[A.jsx("div",{className:"px-2 py-2 font-medium text-left",children:R.sigla}),A.jsx("div",{className:"px-2 py-2 text-center",children:R.presidente})]},`row-${O}`))}),o?A.jsxs("div",{className:"bg-gray-100 px-4 py-3 text-xs text-gray-600",children:[A.jsx("div",{children:"Fecha y hora del servidor:"}),A.jsx("div",{className:"font-mono",children:o})]}):A.jsx("div",{className:"bg-gray-100 px-4 py-3 text-xs text-gray-600"})]})}),A.jsx("div",{className:"lg:col-span-2",children:A.jsxs(zm,{value:f,onValueChange:m,children:[A.jsxs(XA,{className:"flex flex-wrap h-auto",children:[A.jsx(Hl,{value:"acta",children:"📄 ACTA"}),i.hasProveido&&A.jsx(Hl,{value:"proveido",children:"📄 PROVEÍDO"}),i.hasResolucion&&A.jsx(Hl,{value:"resolucion",children:"📄 ADJUNTO"}),H_]}),A.jsx(Ul,{value:"acta",children:A.jsx(B_,{imgUrl:i.actaImage,isLoading:a,fileNameDownload:"acta.jpg"})}),A.jsx(Ul,{value:"proveido",children:A.jsx(B_,{imgUrl:i.proveidoImage||"",isLoading:n,fileNameDownload:"proveido.jpg"})}),A.jsx(Ul,{value:"resolucion",children:A.jsx(KU,{pdfUrl:i.resolucionImage||"",isLoading:s})}),H_]})})]})},t5=({currentView:i,selections:t,availableOptions:e,selectors:n,onSelectionChange:s,isLoading:a=!1})=>A.jsx("div",{className:"w-full flex flex-wrap gap-4 bg-white",children:n.map(o=>A.jsx(CE,{label:o.label,placeholder:o.placeholder,options:e[o.key]||[],value:t[o.key]||"",onChange:c=>s(o.key,c),disabled:o.disabled||a},`${i}-${o.key}`))}),e5=()=>{const{searchMode:i,inputs:t,selections:e,availableOptions:n,actaData:s,isLoading:a,currentGeographyView:o,getGeographySelectors:c,setSearchMode:u,setCurrentGeographyView:h,setInput:f,updateGeographySelection:g,fetchActa:m,clearSearch:y,loadInitialData:w}=Om(),x=M.useMemo(()=>c(),[c,o,e]);return M.useEffect(()=>{w()},[w]),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"w-full bg-white rounded-lg shadow p-6",children:[A.jsxs("div",{className:"flex flex-col mb-6 gap-4",children:[A.jsx(Is,{className:"text-sm font-medium text-gray-700",children:"Buscar por:"}),A.jsxs(wH,{value:i,onValueChange:S=>u(S),className:"flex flex-wrap gap-8",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx(Og,{value:"geografia",id:"geografia"}),A.jsx(Is,{htmlFor:"geografia",children:"Geografía"})]}),A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx(Og,{value:"mesa",id:"mesa"}),A.jsx(Is,{htmlFor:"mesa",children:"Nro. Mesa"})]}),A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx(Og,{value:"cedula",id:"cedula"}),A.jsx(Is,{htmlFor:"cedula",children:"Cédula Identidad"})]})]})]}),i==="mesa"&&A.jsxs("div",{className:"flex items-end space-x-4",children:[A.jsxs("div",{className:"flex-1 max-w-md",children:[A.jsx(Is,{htmlFor:"mesa-input",children:"Código Mesa *"}),A.jsx(Ll,{id:"mesa-input",placeholder:"Ingrese el número de mesa",value:t.mesaNumber,onChange:S=>f("mesaNumber",S.target.value),className:"mt-1"})]}),A.jsx(Pt,{onClick:m,disabled:!t.mesaNumber||a,children:a?"BUSCANDO...":"BUSCAR"})]}),i==="cedula"&&A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[A.jsxs("div",{children:[A.jsx(Is,{htmlFor:"document-id",children:"Documento de Identidad *"}),A.jsx(Ll,{id:"document-id",placeholder:"Número de CI",value:t.documentoIdentidad,onChange:S=>f("documentoIdentidad",S.target.value),className:"mt-1"})]}),A.jsxs("div",{children:[A.jsx(Is,{htmlFor:"complement",children:"Complemento"}),A.jsx(Ll,{id:"complement",placeholder:"Complemento",value:t.complemento,onChange:S=>f("complemento",S.target.value),className:"mt-1"})]}),A.jsxs("div",{children:[A.jsx(Is,{htmlFor:"birth-date",children:"Fecha de Nacimiento *"}),A.jsx(Ll,{id:"birth-date",type:"date",value:t.birthDate,onChange:S=>f("birthDate",S.target.value),className:"mt-1"})]}),A.jsx(Pt,{onClick:m,disabled:!t.documentoIdentidad||!t.birthDate||a,children:a?"BUSCANDO...":"BUSCAR"})]}),i==="geografia"&&A.jsxs("div",{className:"border-t pt-6",children:[A.jsxs("div",{className:"flex space-x-2 mb-4",children:[A.jsx(Pt,{variant:o==="national"?"destructive":"outline",onClick:()=>h("national"),children:"NACIONAL"}),A.jsx(Pt,{variant:o==="international"?"destructive":"outline",onClick:()=>h("international"),children:"EXTERIOR"})]}),A.jsx(t5,{currentView:o,selections:e,availableOptions:n,selectors:x,onSelectionChange:g,isLoading:a}),A.jsx("div",{className:"flex justify-end mt-4",children:A.jsx(Pt,{onClick:m,disabled:a||!e.mesa,children:a?"BUSCANDO...":"BUSCAR"})})]})]}),s&&A.jsx("div",{className:"flex justify-end",children:A.jsx(Pt,{variant:"outline",onClick:y,children:"LIMPIAR BÚSQUEDA"})}),s&&A.jsx(JU,{})]})},n5=i=>new Date(i).toLocaleString("es-BO",{timeZone:"America/La_Paz"}),i5=({isOpen:i,onClose:t,verificationData:e})=>e?A.jsx(G1,{open:i,onOpenChange:t,children:A.jsx($1,{className:"sm:max-w-lg",children:A.jsxs("div",{className:"text-center space-y-6 py-4",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"TRIBUNAL SUPREMO ELECTORAL"}),A.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Aclaración de datos emitidos"})]}),A.jsxs("div",{className:"space-y-4 text-sm text-gray-700 text-left",children:[A.jsx("p",{children:"Puede verificar la autenticidad e integridad del documento comparando el checksum siguiente:"}),A.jsx("div",{className:"bg-gray-100 p-3 rounded font-mono text-center",children:A.jsxs("strong",{children:["MD5 Checksum: ",e.hash]})}),A.jsx("p",{children:"Tome nota que el archivo que acaba de descargar refleja los resultados procesados a la siguiente fecha y hora:"}),A.jsx("div",{className:"text-center font-semibold",children:n5(e.fecha)}),A.jsx("p",{className:"text-gray-600",children:"Este archivo se genera cada determinado tiempo y puede tener un desfase con los datos en pantalla."})]}),A.jsx("div",{className:"pt-4",children:A.jsx(Pt,{onClick:t,className:"bg-red-800 hover:bg-red-900 text-white px-8",children:"ENTENDIDO!"})})]})})}):null,s5=(i,t)=>{const e=atob(i),n=new Array(e.length);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);const s=new Uint8Array(n);return new Blob([s],{type:t})},a5=({isOpen:i,onClose:t,onDownloadComplete:e})=>{const[n,s]=M.useState("CSV"),[a,o]=M.useState(!1),c=async()=>{o(!0);try{const u=await B2.downloadResults(n),h=n==="CSV"?"text/csv":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",f=s5(u.archivo,h),g=URL.createObjectURL(f),m=document.createElement("a");m.href=g,m.download=u.nombreArchivo,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(g),e({hash:u.hash,fecha:u.fecha})}catch(u){console.error("Failed to download:",u)}finally{o(!1)}};return A.jsx(G1,{open:i,onOpenChange:t,children:A.jsxs($1,{className:"sm:max-w-md",children:[A.jsx(GP,{className:"flex flex-row items-center justify-between",children:A.jsx($P,{className:"text-lg font-semibold",children:"Descarga de Resultados"})}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx("button",{onClick:()=>s("CSV"),className:`p-4 border rounded-lg text-center transition-colors ${n==="CSV"?"border-red-500 bg-red-50":"border-gray-300 hover:border-gray-400"}`,children:A.jsx("div",{className:"text-sm font-medium text-red-600 mb-2",children:"CSV"})}),A.jsx("button",{onClick:()=>s("EXCEL"),className:`p-4 border rounded-lg text-center transition-colors ${n==="EXCEL"?"border-red-500 bg-red-50":"border-gray-300 hover:border-gray-400"}`,children:A.jsx("div",{className:"text-sm font-medium text-red-600 mb-2",children:"EXCEL"})})]}),A.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:A.jsxs("div",{className:"flex items-start space-x-3",children:[A.jsx("div",{className:"flex-shrink-0 mt-1",children:n==="CSV"?A.jsx(mD,{className:"h-8 w-8 text-gray-600"}):A.jsx(pD,{className:"h-8 w-8 text-green-600"})}),A.jsx("div",{className:"text-sm text-gray-700",children:n==="CSV"?"Esta descarga contiene los datos de los resultados para descargar en formato de valores separados por comas (CSV)":"Esta descarga contiene los datos de los resultados para descargar en una hoja de cálculo propietaria de Microsoft Office (XLSX)"})]})}),A.jsx("div",{className:"flex justify-end",children:A.jsx(Pt,{onClick:c,disabled:a,className:"bg-red-800 hover:bg-red-900 text-white px-6",children:a?"DESCARGANDO...":"DESCARGAR"})})]})]})})},r5=()=>{const i=new N2(oh),t=Pd(m=>m.currentTab),e=Pd(m=>m.setCurrentTab),[n,s]=M.useState(!1),[a,o]=M.useState(!1),[c,u]=M.useState(null),[h,f]=M.useState({title:[],isLoading:!0,error:null});M.useEffect(()=>{(async()=>{try{const y=await i.title();f({title:y,isLoading:!1,error:null})}catch(y){f({title:[],isLoading:!1,error:y})}})()},[]);const g=M.useRef(null);return A.jsxs(CO,{children:[A.jsx(L2,{children:A.jsx("div",{children:h.isLoading?A.jsx("p",{children:" Loading... "}):h.error?A.jsx("p",{children:"Error"}):h.title.length>=2?A.jsx(TO,{title:h.title[0].name,subtitle:h.title[1].name}):A.jsx("p",{children:"No hay datos disponibles"})})}),A.jsxs("div",{ref:g,className:"max-w-8xl flex flex-col p-4 bg-white",children:[A.jsx(cN,{}),A.jsx("div",{className:"w-full px-4 py-2",children:A.jsxs(zm,{value:t,onValueChange:m=>e(m),children:[A.jsx(Ul,{value:"results",className:"",children:A.jsxs("div",{children:[A.jsx(iL,{targetRef:g,onDownloadClick:()=>s(!0)}),A.jsx(aH,{})]})}),A.jsx(Ul,{value:"acts",className:"",children:A.jsx("div",{className:"w-full rounded-lg shadow p-8 text-center",children:A.jsx(e5,{})})})]})})]}),A.jsx(a5,{isOpen:n,onClose:()=>s(!1),onDownloadComplete:m=>{s(!1),u(m),o(!0)}}),A.jsx(i5,{isOpen:a,onClose:()=>o(!1),verificationData:c})]})};nk.createRoot(document.getElementById("root")).render(A.jsx(M.StrictMode,{children:A.jsx(r5,{})}));
